{"version":3,"sources":["contents/metrics_list.fr.yml","helpers/stateHelpers.js","helpers/client.js","state/duckData.js","state/duckUi.js","constants.js","components/StepNav.js","components/StepContainer.js","helpers/translate.js","components/ContinueButton.js","containers/HeaderContainer.js","contents/global_intro.md","containers/DataikuIntroContainer.js","contents/first_part.md","assets/schema_trustworthy_ai.png","containers/EuLegislationContainer.js","contents/principles_eu.md","helpers/misc.js","containers/MetricsIntroContainer.js","contents/metrics_explanation_intro.md","contents/metrics_explanation_performance.md","contents/metrics_explanation_disparate_impact.md","contents/metrics_explanation_errors_distribution.md","contents/metrics_explanation_privacy.md","contents/metrics_explanation_interpretability.md","helpers/sorting.js","containers/MetricsOrderingContainer.js","components/InfoTip.js","components/MetricsCrossingIndicator.js","components/BrushableScatterPlot.js","components/VariableInputs.js","helpers/filters.js","components/FilterForm.js","helpers/hooks.js","containers/MainChoiceContainer.js","components/MiniGraph.js","containers/SecondaryChoiceContainer.js","containers/ModelChoiceContainer.js","helpers/sorters.js","state/duckHistory.js","helpers/download.js","components/History.js","containers/ConclusionContainer.js","containers/GlobalContainer.js","state/rootReducer.js","state/promiseMiddleware.js","App.js","state/store.js","reportWebVitals.js","index.js","contents/variables_list.fr.yml","contents/messages.fr.yml"],"names":["module","exports","setPropInState","actionName","payload","state","varName","replace","toLowerCase","a","b","substr","toUpperCase","fetchData","Promise","resolve","reject","get","process","then","data","map","datum","id","variables","nom_modele","split","undefined","formatModels","csvParse","catch","GET_DATA","SET_METRICS_ORDER","SET_PRIVACY_VARIABLES","ADD_FILTERS","SET_CHOOSEN_MODEL","SET_DATAIKU_RESULTS","RESET_APP","resetApp","type","getData","promise","setMetricsOrder","setPrivacyVariables","addFilters","setChoosenModel","setDataikuResults","defaultPrivacyVariables","reduce","res","relates_to_privacy","DEFAULT_STATE","models","metricsOrder","metrics","filters","choosenModel","dataikuResults","privacyVariables","action","result","SET_METRICS_ORDER_IS_VALIDATED","selector","createStructuredSelector","SET_CURRENT_STEP","SET_MAIN_CHOICE_IS_VALIDATED","START_APP","setCurrentStep","setMetricsOrderIsValidated","setMainChoiceIsValidated","startApp","currentStep","numberOfSteps","metricsOrderIsValidated","mainChoiceIsValidated","ui","StepNav","steps","className","Object","entries","index","step","cx","active","disabled","onClick","data-for","data-tip","title","data-effect","data-place","StepContainer","children","style","otherProps","nodeRef","useRef","useEffect","setTimeout","document","querySelector","scrollTo","top","behavior","Transition","in","timeout","ref","translate","key","lang","messagesFr","console","warn","ContinueButton","onSetCurrentStep","onPreviousStep","backwardEnabled","onSubmit","submitMessage","relativePosition","props","connect","ownProps","uiDuck","dispatch","bindActionCreators","source","src","schema","alt","metricsColorMap","color","dataDuck","viewsModel","content","inputType","relatedMetricsId","background","display","marginLeft","height","width","borderRadius","position","name","checked","value","readOnly","e","preventDefault","placeholder","onChange","target","reorder","list","startIndex","endIndex","Array","from","splice","removed","useState","displayDescriptions","setDisplayDescriptions","ReactTooltip","rebuild","onDragEnd","destination","items","droppableId","provided","snapshot","droppableProps","innerRef","isDraggingOver","item","handleDown","handleUp","draggableId","draggableProps","dragHandleProps","isDragging","length","short_description","marginBottom","InfoTip","tip","dataEffect","MetricsCrossingIndicator","metric","BrushableScatterPlot","xVariable","yVariable","filteredVariables","axisMargin","padding","brush","x","xMinOriginal","xMaxOriginal","y","yMinOriginal","yMaxOriginal","onBrushChange","minified","highlightedNodeId","xMin","xMax","setXRange","yMin","yMax","setYRange","numberOfTicks","xAccessor","d","filter","vName","includes","yAccessor","xExtent","extent","yExtent","xScale","scaleLinear","domain","range","yScale","reverse","hoveredElement","setHoveredElement","tooltipPosition","setTooltipPosition","isBrushing","setIsBrushing","svgRef","handleMouseUp","toFixed","sort","onMouseDown","svgDims","current","getBoundingClientRect","thatX","invert","clientX","thatY","clientY","onMouseMove","onMouseUp","onMouseLeave","transform","axisPropsFromTickScale","orient","BOTTOM","LEFT","min","Math","abs","handleOvered","cy","onMouseEnter","r","left","join","Range","Slider","createSliderWithTooltip","Input","validate","localValue","setLocalValue","onBlur","VariableInputs","values","max","onRangeChange","axis","onLabelClick","SLIDER_MULTIPLIER","val","isNaN","allowCross","tipFormatter","thatMin","thatMax","defaultValue","filterModels","model","variable","Dimensions","containerWidth","containerHeight","metric1","metric2","absoluteMin1","setAbsoluteMin1","absoluteMax2","setAbsoluteMax2","absoluteMin2","setAbsoluteMin2","absoluteMax1","setAbsoluteMax1","choosenMin1","setChoosenMin1","choosenMax2","setChoosenMax2","choosenMin2","setChoosenMin2","choosenMax1","setChoosenMax1","xOptionsVisible","setXOptionsVisible","yOptionsVisible","setYOptionsVisible","filteredModels","setFilteredModels","fn","delay","handler","clearTimeout","useDebounce","theseFilters","absMin1","absMax1","absMin2","absMax2","thatXMin","thatXMax","thatYMin","thatYMax","paddingLeft","maxWidth","activeMetrics","m","i","slice","filter1","filter2","0","1","MiniGraph","to","onNav","fromName","toName","actuallyHighlitedNodeId","brushData","handleRangeChange","log","val1","metricsList","find","min1","max1","val2","min2","max2","metricsExtent","fromMetric","toMetric","previousExtents","nextStep","keys","theseVariables","f","setHighlightedNodeId","visibleModels","colorScales","scale","normalScales","scales","vector1","k","vector2","distance","sum","_k","sortModelsByDistance","onMouseOver","data-html","history","date","Date","downloadFile","text","extension","fileName","blob","Blob","FileSaver","saveAs","actionsSerialization","description","serializeStep","History","renderAction","csv","toLocaleTimeString","historyDuck","thatId","variablesLists","el","dataikuResult","expResult","isImproving","renderStep","SecondaryChoiceContainer","forEach","rememberReducer","combineReducers","promiseMiddleware","getState","next","rest","REQUEST","SUCCESS","FAIL","RESET","error","store","initialState","middleware","applyMiddleware","createStoreWithMiddleware","window","__REDUX_DEVTOOLS_EXTENSION__","compose","rememberEnhancer","localStorage","createStore","rootReducer","configureStore","App","Helmet","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7378d05e.chunk.js","sourcesContent":["module.exports = [{\"name\":\"Performance\",\"id\":\"performance\",\"color\":\"#0096D1\",\"short_description\":\"L'AUC mesure la performance de l'algorithme. Comme traditionnellement dans l’industrie du Machine Learning, on supposera que le data scientist banquier est d’abord incité sur le critère de la performance de son algorithme car l’AUC est proportionnel au gain financier procuré par l’algorithme.\"},{\"name\":\"Disparate impact\",\"id\":\"fairness_disparate_impact\",\"color\":\"#984F0E\",\"short_description\":\"il s’agit d’un ratio entre le pourcentage d’acceptation chez les femmes et le pourcentage d’acceptation chez les hommes. Lorsque ce ratio est égal à 1, on considérera qu’il n’y pas d’effet disparate entre les hommes et les femmes. Attention, un effet disparate très différent de 1 ne signifie pas qu’il y a différence de traitement. Un effet disparate dit simplement que l’on constate deux effets différents entre les hommes et les femmes sans s’intéresser aux causes de cet effet (le traitement). La différence de traitement peut se tester avec des analyses toute chose égale par ailleurs (testing de CV par exemple).\"},{\"name\":\"Distribution des erreurs\",\"id\":\"fairness_accuracy\",\"color\":\"#3EBDC6\",\"short_description\":\"Une autre manière complémentaire de s’intéresser aux discriminations algorithmiques est de de s’intéresser à la distribution des erreurs entre hommes et femmes. L’erreur dans l’allocation du droit au crédit peut pénaliser les individus dans leur capacité d’agir (acheter une maison, voiture, etc). Il est donc primordial que celle-ci soit distribué de la même manière entre les hommes et les femmes. L’indicateur de la précision mesure le taux de prédictions corrects (c’est-à-dire vrais positifs + vrais négatifs). Une manière de mesurer la différence entre ces taux est de faire la soustraction entre la précision chez les hommes et la précision entre les femmes.\"},{\"name\":\"Privacy\",\"id\":\"privacy\",\"color\":\"#8D5F5B\",\"type\":\"integer\",\"short_description\":\"Selon les conventions des droits de l’hommes, chaque individu a le droit de disposer de ses données personnelles. Selon la RGPD, il faut donc veiller à ce que ces données privées soient récoltées de manière parcimonieuse (principe de minimisation), pour des finalités bien déterminées (principe de finalité), limiter les failles de sécurité, les fuites possibles, etc, Nous prendrons l’opposé du nombre de variables personnelles comme proxy de la privacy. Les 11 variables personnelles sont present_emp_since, sex, personal.\\\\_status, present_res_since ,property, age, housing, job, people_under_maintenance, telephone, foreign_worker. Le nombre de variables privées est également un proxy de la vulnérabilité aux failles de sécurité par attaques (sécurité).\"},{\"name\":\"Interprétabilité\",\"id\":\"interpretability\",\"color\":\"#ECC0A5\",\"type\":\"integer\",\"short_description\":\"Selon la législation (RGPD), les demandeurs ont le droit d'exiger une explication des décisions. On considèrera que l’opposé du nombre total de variables dans le modèle comme un proxy de l’interprétabilité des algorithmes. En effet, des explications avec 20 variables seront beaucoup plus difficiles à fournir qu’une explication avec 5 variables.\"}]","export const setPropInState = (actionName, payload, state) => {\n  const varName = actionName\n    .replace(\"SET_\", \"\")\n    .toLowerCase()\n    .replace(/(_[a-z])/gi, (a, b) => b.substr(1).toUpperCase());\n  return {\n    ...state,\n    [varName]: payload,\n  };\n};\n","import get from \"axios\";\nimport { csvParse } from \"d3-dsv\";\n\nconst formatModels = (data) => {\n  return data.map((datum, id) => {\n    return {\n      ...datum,\n      variables: datum.nom_modele.split(\" \"),\n      nom_modele: undefined,\n      id,\n    };\n  });\n};\n\nexport const fetchData = () =>\n  new Promise((resolve, reject) => {\n    get(`${process.env.PUBLIC_URL}/models-sample.csv`)\n      .then(({ data }) => {\n        resolve(formatModels(csvParse(data)));\n      })\n      .catch(reject);\n  });\n","// import { combineReducers } from 'redux';\nimport { createStructuredSelector } from \"reselect\";\nimport { fetchData } from \"../helpers/client\";\nimport { setPropInState } from \"../helpers/stateHelpers\";\n\nimport metrics from \"../contents/metrics_list.fr.yml\";\nimport variables from \"../contents/variables_list.fr.yml\";\n\n/**\n * ACTION NAMES\n */\nimport { SET_METRICS_ORDER_IS_VALIDATED } from \"./duckUi\";\nconst GET_DATA = \"GET_DATA\";\nexport const SET_METRICS_ORDER = \"SET_METRICS_ORDER\";\nexport const SET_PRIVACY_VARIABLES = \"SET_PRIVACY_VARIABLES\";\nexport const ADD_FILTERS = \"ADD_FILTERS\";\nexport const SET_CHOOSEN_MODEL = \"SET_CHOOSEN_MODEL\";\nexport const SET_DATAIKU_RESULTS = \"SET_DATAIKU_RESULTS\";\nexport const RESET_APP = \"RESET_APP\";\n\n/**\n * ACTION FUNCTIONS\n */\nexport const resetApp = () => ({\n  type: RESET_APP,\n});\nexport const getData = (payload) => ({\n  type: GET_DATA,\n  payload,\n  promise: () => fetchData(),\n});\n\nexport const setMetricsOrder = (payload) => ({\n  type: SET_METRICS_ORDER,\n  payload,\n});\n\nexport const setPrivacyVariables = (payload) => ({\n  type: SET_PRIVACY_VARIABLES,\n  payload,\n});\n\nexport const addFilters = (payload) => ({\n  type: ADD_FILTERS,\n  payload,\n});\n\nexport const setChoosenModel = (payload) => ({\n  type: SET_CHOOSEN_MODEL,\n  payload,\n});\n\nexport const setDataikuResults = (payload) => ({\n  type: SET_DATAIKU_RESULTS,\n  payload,\n});\n\n/**\n * REDUCER\n */\nconst defaultPrivacyVariables = variables.reduce(\n  (res, { relates_to_privacy, id }) => ({\n    ...res,\n    [id]: relates_to_privacy,\n  }),\n  {}\n);\n\nconst DEFAULT_STATE = {\n  models: [],\n  metricsOrder: [...metrics],\n  filters: {},\n  choosenModel: undefined,\n  dataikuResults: {},\n  privacyVariables: defaultPrivacyVariables,\n};\n\nfunction data(state = DEFAULT_STATE, action) {\n  const { payload, result } = action;\n  switch (action.type) {\n    case RESET_APP:\n      return {\n        ...DEFAULT_STATE,\n        models: state.models,\n      };\n    case `${GET_DATA}`:\n      return state;\n    case `${GET_DATA}_SUCCESS`:\n      return {\n        ...state,\n        models: result,\n      };\n    case `${GET_DATA}_ERROR`:\n      return state;\n    case SET_PRIVACY_VARIABLES:\n    case SET_METRICS_ORDER:\n      return setPropInState(action.type, payload, state);\n    case ADD_FILTERS:\n      return {\n        ...state,\n        filters: {\n          ...state.filters,\n          ...payload,\n        },\n      };\n    // reset filters cases\n    case SET_METRICS_ORDER_IS_VALIDATED:\n      return {\n        ...state,\n        filters: DEFAULT_STATE.filters,\n      };\n    case SET_DATAIKU_RESULTS:\n    case SET_CHOOSEN_MODEL:\n      return setPropInState(action.type, payload, state);\n    default:\n      return state;\n  }\n}\n\n// export default combineReducers({data, ...})\nexport default data;\n\n/**\n * SELECTOR\n */\n\nconst models = (state) => state.models;\nconst metricsOrder = (state) => state.metricsOrder;\nconst filters = (state) => state.filters;\nconst choosenModel = (state) => state.choosenModel;\nconst dataikuResults = (state) => state.dataikuResults;\nconst privacyVariables = (state) => state.privacyVariables;\n\nexport const selector = createStructuredSelector({\n  models,\n  metricsOrder,\n  filters,\n  choosenModel,\n  dataikuResults,\n  privacyVariables,\n});\n","// import { combineReducers } from 'redux';\nimport { createStructuredSelector } from \"reselect\";\nimport { setPropInState } from \"../helpers/stateHelpers\";\nimport { STEP_CONCLUSION } from \"../constants\";\n/**\n * ACTION NAMES\n */\nimport { SET_METRICS_ORDER, RESET_APP } from \"./duckData\";\nexport const SET_CURRENT_STEP = \"SET_CURRENT_STEP\";\nexport const SET_METRICS_ORDER_IS_VALIDATED = \"SET_METRICS_ORDER_IS_VALIDATED\";\nexport const SET_MAIN_CHOICE_IS_VALIDATED = \"SET_MAIN_CHOICE_IS_VALIDATED\";\nexport const START_APP = \"START_APP\";\n\n/**\n * ACTION FUNCTIONS\n */\nexport const setCurrentStep = (payload) => ({\n  type: SET_CURRENT_STEP,\n  payload,\n});\n\nexport const setMetricsOrderIsValidated = (payload) => ({\n  type: SET_METRICS_ORDER_IS_VALIDATED,\n  payload,\n});\nexport const setMainChoiceIsValidated = (payload) => ({\n  type: SET_MAIN_CHOICE_IS_VALIDATED,\n  payload,\n});\n\nexport const startApp = (payload) => ({\n  type: START_APP,\n  payload,\n});\n\n/**\n * REDUCER\n */\nconst DEFAULT_STATE = {\n  currentStep: 0,\n  numberOfSteps: STEP_CONCLUSION,\n  metricsOrderIsValidated: false,\n  mainChoiceIsValidated: false,\n};\n\nfunction ui(state = DEFAULT_STATE, action) {\n  const { payload } = action;\n  switch (action.type) {\n    case RESET_APP:\n      return DEFAULT_STATE;\n    case SET_CURRENT_STEP:\n      return setPropInState(action.type, payload, state);\n    case SET_METRICS_ORDER_IS_VALIDATED:\n      return {\n        ...state,\n        metricsOrderIsValidated: payload,\n        mainChoiceIsValidated: payload ? state.mainChoiceIsValidated : false,\n      };\n    case SET_MAIN_CHOICE_IS_VALIDATED:\n      return {\n        ...state,\n        mainChoiceIsValidated: payload,\n      };\n    case SET_METRICS_ORDER:\n      return {\n        ...state,\n        metricsOrderIsValidated: false,\n      };\n    default:\n      return state;\n  }\n}\n\n// export default combineReducers({data, ...})\nexport default ui;\n\n/**\n * SELECTOR\n */\n\nconst currentStep = (state) => state.currentStep;\nconst numberOfSteps = (state) => state.numberOfSteps;\nconst metricsOrderIsValidated = (state) => state.metricsOrderIsValidated;\nconst mainChoiceIsValidated = (state) => state.mainChoiceIsValidated;\n\nexport const selector = createStructuredSelector({\n  currentStep,\n  numberOfSteps,\n  metricsOrderIsValidated,\n  mainChoiceIsValidated,\n});\n","export const STEP_HEADER = 0;\nexport const STEP_DATAIKU_PRACTICE = 1;\nexport const STEP_EU_LEGISLATION = 2;\n\nexport const STEP_METRICS_EXPLANATION_0 = 3;\nexport const STEP_METRICS_EXPLANATION_1 = 4;\nexport const STEP_METRICS_EXPLANATION_2 = 5;\nexport const STEP_METRICS_EXPLANATION_3 = 6;\nexport const STEP_METRICS_EXPLANATION_4 = 7;\nexport const STEP_METRICS_EXPLANATION_5 = 8;\n\nexport const STEP_METRICS_SORTING = 9;\nexport const STEP_MAIN_CHOICE = 10;\nexport const STEP_SECONDARY_CHOICE_1 = 11;\nexport const STEP_SECONDARY_CHOICE_2 = 12;\nexport const STEP_MODEL_CHOICE = 13;\nexport const STEP_CONCLUSION = 14;\n/**\n * Number of decimals after comma for indicators brushes\n */\nexport const DECIMALS = 2;\n","import React, {\n  useState,\n  useMemo,\n} from \"react\"; /* eslint no-unused-vars : 0 */\nimport cx from \"classnames\";\n\nimport \"./StepNav.scss\";\n\nfunction StepNav({ currentStep, setCurrentStep, steps }) {\n  return (\n    <nav className=\"step-nav\">\n      <ul className=\"step-nav-items-container\">\n        {Object.entries(steps).map(([index, step]) => (\n          <li\n            className={cx(\"step-nav-item\", {\n              active: +index === currentStep,\n              disabled: step.disabled,\n            })}\n            onClick={() => setCurrentStep(+index)}\n            key={index}\n            data-for=\"tooltip\"\n            data-tip={step.title}\n            data-effect=\"solid\"\n            data-place=\"left\"\n          />\n        ))}\n      </ul>\n    </nav>\n  );\n}\n\nexport default StepNav;\n","import react, {\n  useRef,\n  useEffect,\n} from \"react\"; /* eslint no-unused-vars : 0 */\nimport { Transition } from \"react-transition-group\";\nimport cx from \"classnames\";\n\nimport \"./StepContainer.scss\";\n\nconst visibleStyle = {\n  opacity: 1,\n  maxHeight: \"calc(100vh - 4rem)\",\n  minHeight: \"calc(100vh - 4rem)\",\n};\nconst hiddenStyle = {\n  opacity: 0,\n  maxHeight: 0,\n  minHeight: 0,\n};\n\nconst transitionStyles = {\n  entering: visibleStyle,\n  entered: visibleStyle,\n  exiting: hiddenStyle,\n  exited: hiddenStyle,\n};\nconst duration = 300;\n\nfunction StepContainer({ children, active, style = {}, ...otherProps }) {\n  const nodeRef = useRef(null);\n  useEffect(() => {\n    if (active) {\n      setTimeout(() => {\n        document.querySelector(\"html\").scrollTo({\n          top: 0,\n          behavior: \"smooth\",\n        });\n      }, 500);\n    }\n  }, [active]);\n  return (\n    <Transition nodeRef={nodeRef} in={active} timeout={duration}>\n      {(state) => (\n        <div\n          className={cx(\"step-container\", state)}\n          ref={nodeRef}\n          {...otherProps}\n          style={{\n            ...style,\n            // ...transitionStyles[state],\n          }}\n        >\n          {children}\n        </div>\n      )}\n    </Transition>\n  );\n}\n\nexport default StepContainer;\n","import messagesFr from \"../contents/messages.fr.yml\";\n\nfunction translate(key, lang = \"fr\") {\n  if (lang === \"fr\") {\n    if (!messagesFr[key]) {\n      console.warn(\"unstranslated key: \", key);\n    }\n    return messagesFr[key] || key;\n  }\n}\n\nexport default translate;\n","import React from \"react\"; /* eslint no-unused-vars : 0 */\nimport translate from \"../helpers/translate\";\nimport cx from \"classnames\";\n\nfunction ContinueButton({\n  currentStep,\n  onSetCurrentStep,\n  onPreviousStep,\n  disabled,\n  backwardEnabled,\n  onSubmit,\n  submitMessage,\n  relativePosition,\n  ...props\n}) {\n  const onNext = () => {\n    if (typeof onSubmit === \"function\") {\n      onSubmit();\n    } else {\n      onSetCurrentStep(currentStep + 1);\n    }\n  };\n  const onPrevious = () => {\n    if (typeof onPreviousStep === \"function\") {\n      onPreviousStep();\n    } else {\n      onSetCurrentStep(currentStep - 1);\n    }\n  };\n  return (\n    <div\n      className={cx(\"continue-button-container\", {\n        \"backward-enabled\": backwardEnabled,\n        \"relative-position\": relativePosition,\n      })}\n    >\n      <button\n        disabled={disabled}\n        onClick={onNext}\n        className=\"continue-button next\"\n        {...props}\n      >\n        {submitMessage || translate(\"next_step\")}\n      </button>\n      {backwardEnabled ? (\n        <button\n          disabled={disabled}\n          onClick={onPrevious}\n          className=\"continue-button previous\"\n        >\n          {translate(\"previous_step\")}\n        </button>\n      ) : null}\n    </div>\n  );\n}\n\nexport default ContinueButton;\n","/* eslint import/no-webpack-loader-syntax: off */\nimport react from \"react\"; /* eslint no-unused-vars : 0 */\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport Md from \"react-markdown\";\n\nimport translate from \"../helpers/translate\";\n\nimport * as uiDuck from \"../state/duckUi\";\n\nimport intro from \"!!raw-loader!../contents/global_intro.md\";\n\nimport ContinueButton from \"../components/ContinueButton\";\nimport { STEP_DATAIKU_PRACTICE } from \"../constants\";\n\nfunction HeaderContainer({ setCurrentStep }) {\n  return (\n    <header className=\"header contents-wrapper\">\n      <div className=\"contents-container\">\n        <h1 className=\"header-title\">{translate(\"site_title\")}</h1>\n        <div className=\"emphasis\">\n          <Md source={intro} />\n        </div>\n      </div>\n      <ContinueButton onClick={() => setCurrentStep(STEP_DATAIKU_PRACTICE)} />\n    </header>\n  );\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  ...ownProps,\n  ...state,\n  ...uiDuck.selector(state.ui),\n});\n\nconst mapDispatchToProps = (dispatch) =>\n  bindActionCreators(\n    {\n      ...uiDuck,\n    },\n    dispatch\n  );\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderContainer);\n","export default \"Vous participez à une enquête dans le cadre de la conception d’un outil de Machine Learning. Cette enquête est réalisée par l’Institut Mines-Télécom et Sciences Po dans le cadre d’un travail de recherche.\\n\";","/* eslint import/no-webpack-loader-syntax: off */\nimport react from \"react\"; /* eslint no-unused-vars : 0 */\n\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport Md from \"react-markdown\";\n\nimport translate from \"../helpers/translate\";\n\nimport * as uiDuck from \"../state/duckUi\";\nimport ContinueButton from \"../components/ContinueButton\";\n\nimport intro from \"!!raw-loader!../contents/first_part.md\";\nimport { STEP_EU_LEGISLATION } from \"../constants\";\n\nfunction DataikuIntroContainer({ setCurrentStep, currentStep }) {\n  return (\n    <section className=\"step-1 contents-wrapper\">\n      <div className=\"contents-container\">\n        <h1 className=\"step-title\">{translate(\"step_1_title\")}</h1>\n        <div className=\"emphasis\">\n          <Md source={intro} />\n        </div>\n      </div>\n\n      <ContinueButton\n        currentStep={currentStep}\n        onSetCurrentStep={setCurrentStep}\n      />\n    </section>\n  );\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  ...ownProps,\n  ...state,\n  ...uiDuck.selector(state.ui),\n});\n\nconst mapDispatchToProps = (dispatch) =>\n  bindActionCreators(\n    {\n      ...uiDuck,\n    },\n    dispatch\n  );\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(DataikuIntroContainer);\n","export default \"Supposons que vous êtes un.e data scientist dans une banque et que l’on vous demande de réaliser un algorithme de ML pour la prédiction du risque de défaut de vos clients à partir d’un historique de données. Vous avez à disposition les données sur une interface et nous vous demandons de créer le classifieur de ML à l’aide de l’outil Dataiku.\\n\";","export default __webpack_public_path__ + \"static/media/schema_trustworthy_ai.3152797d.png\";","/* eslint import/no-webpack-loader-syntax: off */\nimport react from \"react\"; /* eslint no-unused-vars : 0 */\n\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport Md from \"react-markdown\";\n\nimport translate from \"../helpers/translate\";\n\nimport * as uiDuck from \"../state/duckUi\";\nimport ContinueButton from \"../components/ContinueButton\";\nimport schema from \"../assets/schema_trustworthy_ai.png\";\n\nimport intro from \"!!raw-loader!../contents/principles_eu.md\";\nimport { STEP_METRICS_EXPLANATION } from \"../constants\";\n\nfunction EuLegislationContainer({ setCurrentStep, currentStep }) {\n  return (\n    <section className=\"step-2 contents-wrapper\">\n      <div className=\"contents-container\">\n        <h1 className=\"step-title\">{translate(\"step_2_title\")}</h1>\n        <div className=\"columns-container\">\n          <div className=\"column\">\n            <div className=\"contents\">\n              <Md source={intro} />\n            </div>\n          </div>\n          <div className=\"column\">\n            <img\n              src={schema}\n              alt=\"schema en provenance du rapport européen trustworthy ai\"\n            />\n          </div>\n        </div>\n      </div>\n\n      <ContinueButton\n        currentStep={currentStep}\n        onSetCurrentStep={setCurrentStep}\n        backwardEnabled\n      />\n    </section>\n  );\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  ...ownProps,\n  ...state,\n  ...uiDuck.selector(state.ui),\n});\n\nconst mapDispatchToProps = (dispatch) =>\n  bindActionCreators(\n    {\n      ...uiDuck,\n    },\n    dispatch\n  );\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(EuLegislationContainer);\n","export default \"Un mouvement actuel – qu’on appelle généralement éthique de l’IA - composé d’organisations\\ninternationales (OCDE, commission européenne), publiques, d’entreprises, universitaires,\\nassociations, ont produit un certain nombre de critiques concernant l’IA à travers des chartes\\néthiques, des indicateurs, des principes, etc. Par exemple, la charte éthique de la commission\\neuropéenne met en avant les principes suivants pour construire une IA digne de confiance :\\n\\n1. Capacité d’agir humaine (human agency)\\n1. Robustesse technique et sécurité\\n1. Protection des données personnelles et gouvernance des données\\n1. Transparence\\n1. Diversité, non-discrimination et équité\\n1. Bien-être sociétal et environnemental\\n1. Responsabilité\\n\";","import metrics from \"../contents/metrics_list.fr.yml\";\nexport const metricsColorMap = metrics.reduce(\n  (res, { id, color }) => ({\n    ...res,\n    [id]: color,\n  }),\n  {}\n);\n","/* eslint import/no-webpack-loader-syntax: off */\nimport react, { useEffect } from \"react\"; /* eslint no-unused-vars : 0 */\n\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport Md from \"react-markdown\";\nimport cx from \"classnames\";\n\nimport translate from \"../helpers/translate\";\nimport { metricsColorMap } from \"../helpers/misc\";\n\nimport * as uiDuck from \"../state/duckUi\";\nimport * as dataDuck from \"../state/duckData\";\nimport ContinueButton from \"../components/ContinueButton\";\n\nimport variables from \"../contents/variables_list.fr.yml\";\n\nimport intro from \"!!raw-loader!../contents/metrics_explanation_intro.md\";\nimport errorsDistribution from \"!!raw-loader!../contents/metrics_explanation_errors_distribution.md\";\nimport interpretability from \"!!raw-loader!../contents/metrics_explanation_interpretability.md\";\nimport performance from \"!!raw-loader!../contents/metrics_explanation_performance.md\";\nimport disparateImpact from \"!!raw-loader!../contents/metrics_explanation_disparate_impact.md\";\nimport privacy from \"!!raw-loader!../contents/metrics_explanation_privacy.md\";\nimport {\n  STEP_METRICS_EXPLANATION_0,\n  STEP_METRICS_EXPLANATION_1,\n  STEP_METRICS_EXPLANATION_2,\n  STEP_METRICS_EXPLANATION_3,\n  STEP_METRICS_EXPLANATION_4,\n  STEP_METRICS_EXPLANATION_5,\n  STEP_METRICS_SORTING,\n} from \"../constants\";\n\nfunction MetricsIntroContainer({\n  setCurrentStep,\n  currentStep,\n  data: { dataikuResults = {}, privacyVariables = {} },\n  setDataikuResults,\n  setPrivacyVariables,\n}) {\n  const viewsModel = {\n    [STEP_METRICS_EXPLANATION_0]: {\n      content: intro,\n      title: translate(\"step_3_title\"),\n    },\n    [STEP_METRICS_EXPLANATION_1]: {\n      content: performance,\n      title: translate(\"performance\"),\n      inputType: \"input\",\n      relatedMetricsId: \"performance\",\n      color: metricsColorMap[\"performance\"],\n    },\n    [STEP_METRICS_EXPLANATION_2]: {\n      content: disparateImpact,\n      title: translate(\"disparate_impact\"),\n      inputType: \"input\",\n      relatedMetricsId: \"fairness_disparate_impact\",\n      color: metricsColorMap[\"fairness_disparate_impact\"],\n    },\n    [STEP_METRICS_EXPLANATION_3]: {\n      content: errorsDistribution,\n      title: translate(\"errors_distribution\"),\n      inputType: \"input\",\n      relatedMetricsId: \"fairness_accuracy\",\n      color: metricsColorMap[\"fairness_accuracy\"],\n    },\n    [STEP_METRICS_EXPLANATION_4]: {\n      content: privacy,\n      title: translate(\"privacy\"),\n      inputType: \"privacy\",\n      relatedMetricsId: \"privacy\",\n      color: metricsColorMap[\"privacy\"],\n    },\n    [STEP_METRICS_EXPLANATION_5]: {\n      content: interpretability,\n      title: translate(\"interpretability\"),\n      inputType: \"input\",\n      relatedMetricsId: \"interpretability\",\n      color: metricsColorMap[\"interpretability\"],\n    },\n  };\n  const handleSubmit = (e) => {\n    e.preventDefault();\n  };\n  const handleDataikuInputChange = (e) => {\n    if (viewsModel[currentStep]) {\n      const value = e.target.value;\n      setDataikuResults({\n        ...dataikuResults,\n        [viewsModel[currentStep].relatedMetricsId]: value,\n      });\n    }\n  };\n  return viewsModel[currentStep] ? (\n    <section className=\"step-3 contents-wrapper\">\n      <div className=\"contents-container\">\n        <h1 className=\"step-title\">\n          {viewsModel[currentStep].title}\n          {viewsModel[currentStep].color && (\n            <span\n              style={{\n                background: viewsModel[currentStep].color,\n                display: \"inline-block\",\n                marginLeft: \"1rem\",\n                height: \"1em\",\n                width: \"1em\",\n                borderRadius: \"50%\",\n                position: \"relative\",\n                top: \".2em\",\n              }}\n            />\n          )}\n        </h1>\n        <div className=\"contents\">\n          <Md source={viewsModel[currentStep].content} />\n          {viewsModel[currentStep].inputType ? (\n            <>\n              {viewsModel[currentStep].inputType === \"privacy\" ? (\n                <>\n                  <h2>{translate(\"privacy_prompt\")}</h2>\n                  <ul className={cx(\"privacy-list\")}>\n                    {variables.map(({ id, name }) => (\n                      <li\n                        onClick={() => {\n                          setPrivacyVariables({\n                            ...privacyVariables,\n                            [id]: privacyVariables[id] ? false : true,\n                          });\n                        }}\n                        key={id}\n                      >\n                        <input\n                          checked={privacyVariables[id] === true}\n                          value={id}\n                          readOnly\n                          type=\"radio\"\n                        />\n                        <span className=\"checkmark\" />\n                        <label>{name}</label>\n                      </li>\n                    ))}\n                  </ul>\n                </>\n              ) : null}\n              <form className=\"form results-form\" onSubmit={handleSubmit}>\n                <h2>{translate(\"dataiku_results_label\")}</h2>\n                <input\n                  placeholder={`entrez vous résultats pour la métrique ${viewsModel[currentStep].title}`}\n                  value={\n                    dataikuResults[viewsModel[currentStep].relatedMetricsId] ||\n                    \"\"\n                  }\n                  onChange={handleDataikuInputChange}\n                />\n                <ContinueButton\n                  currentStep={currentStep}\n                  onSetCurrentStep={setCurrentStep}\n                  type={\"submit\"}\n                  backwardEnabled\n                />\n              </form>\n            </>\n          ) : (\n            <ContinueButton\n              currentStep={currentStep}\n              onSetCurrentStep={setCurrentStep}\n              backwardEnabled\n            />\n          )}\n        </div>\n      </div>\n    </section>\n  ) : null;\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  ...ownProps,\n  ...state,\n  ...uiDuck.selector(state.ui),\n  ...dataDuck.selector(state.data),\n});\n\nconst mapDispatchToProps = (dispatch) =>\n  bindActionCreators(\n    {\n      ...uiDuck,\n      ...dataDuck,\n    },\n    dispatch\n  );\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MetricsIntroContainer);\n","export default \"Supposons maintenant que vous êtes un.e data scientist **préoccupé.e par l'éthique** et que vous cherchez à choisir un classifieur en fonction de sa capacité à générer des décisions éthiquement valables.\\n\\nNous reprenons la base de données dédiée à la prédiction de risque de défaut bancaire. Les données qui correspondent aux demandent de prêt comportent 20 dimensions ou features.\\n\\nPour toutes les combinaisons possibles de modèles sur l’ensemble des 20 features, nous avons construit un classifieur à l’aide d’un modèle logistique. Cela fait en tout 2 097 130 classifieurs. Pour chacun de ces classifieurs, nous calculons une série d'indicateurs éthiques.\\n\\nDécouvrons maintenant à quoi ces indicateurs correspondent et votre score lors de l'étape 1 pour chacun d'entre eux, avant de vous proposer de choisir le modèle qui selon vous produirait les décisions les plus éthiques...\\n\";","export default \"L'AUC mesure la performance de l'algorithme. Comme traditionnellement dans l’industrie du Machine Learning, on supposera que le data scientist banquier est d’abord incité sur le critère de la performance de son algorithme car l’AUC est proportionnel au gain financier procuré par l’algorithme.\\n\";","export default \"Il s’agit d’un ratio entre le pourcentage d’acceptation chez les femmes et le pourcentage d’acceptation chez les hommes. Lorsque ce ratio est égal à 1, on considérera qu’il n’y pas d’effet disparate entre les hommes et les femmes. Attention, un effet disparate très différent de 1 ne signifie pas qu’il y a différence de traitement. Un effet disparate dit simplement que l’on constate deux effets différents entre les hommes et les femmes sans s’intéresser aux causes de cet effet (le traitement). La différence de traitement peut se tester avec des analyses toute chose égale par ailleurs (testing de CV par exemple). Dans la littérature, il y a deux manières de prendre une décision sur l’indicateur du disparate impact :\\n\\n- La règle des 80% : la règle des 80% est utilisée par le droit américain pour détecter des effets discriminants. Si le ratio du disparate impact est en-dessous de 80% alors on dira qu'il y a effet disparate entre hommes et femme.\\n- Ne pas amplifier les biais à l’intérieur des données d’apprentissage : le Machine Learning peut amplifier le disparate impact déjà présent dans les données. Pour information, l'effet disparate dans nos données d’apprentissage (historique de données issues de décisions humaines passées) est de 0,90. Si cet effet est plus grand dans l'algorithme, alors l'algorithme aura amplifié les biais dans les données.\\n\";","export default \"Une autre manière complémentaire de s’intéresser aux discriminations algorithmiques est de de s’intéresser à la distribution des erreurs entre hommes et femmes. L’erreur dans l’allocation du droit au crédit peut pénaliser les individus dans leur capacité d’agir (acheter une maison, voiture, etc). Il est donc primordial que celle-ci soit distribué de la même manière entre les hommes et les femmes. L’indicateur de la précision mesure le taux de prédictions corrects (c’est-à-dire vrais positifs + vrais négatifs). Une manière de mesurer la différence entre ces taux est de faire la soustraction entre la précision chez les hommes et la précision entre les femmes.\\n\";","export default \"Selon les conventions des droits de l’hommes, chaque individu a le droit de disposer de ses données personnelles. Selon la RGPD, il faut donc veiller à ce que ces données privées soient récoltées de manière parcimonieuse (principe de minimisation), pour des finalités bien déterminées (principe de finalité), limiter les failles de sécurité, les fuites possibles, etc, Nous prendrons l’opposé du nombre de variables personnelles comme proxy de la privacy. Les 11 variables personnelles sont present_emp_since, sex, personal.\\\\_status, present_res_since ,property, age, housing, job, people_under_maintenance, telephone, foreign_worker. Le nombre de variables privées est également un proxy de la vulnérabilité aux failles de sécurité par attaques (sécurité).\\n\";","export default \"Selon la législation (RGPD), les demandeurs ont le droit d'exiger une explication des décisions. On considèrera que l’opposé du nombre total de variables dans le modèle comme un proxy de l’interprétabilité des algorithmes. En effet, des explications avec 20 variables seront beaucoup plus difficiles à fournir qu’une explication avec 5 variables.\\n\";","// a little function to help us with reordering the result\nexport const reorder = (list, startIndex, endIndex) => {\n  const result = Array.from(list);\n  const [removed] = result.splice(startIndex, 1);\n  result.splice(endIndex, 0, removed);\n\n  return result;\n};\n\nconst grid = 8;\n\nexport const getItemStyle = (isDragging, draggableStyle) => ({\n  // some basic styles to make the items look a bit nicer\n  userSelect: \"none\",\n  padding: grid * 2,\n  margin: `0 0 ${grid}px 0`,\n\n  // change background colour if dragging\n  background: isDragging ? \"lightgreen\" : \"grey\",\n\n  // styles we need to apply on draggables\n  ...draggableStyle,\n});\n\nexport const getListStyle = (isDraggingOver) => ({\n  background: isDraggingOver ? \"lightblue\" : \"lightgrey\",\n  padding: grid,\n  width: 250,\n});\n","import react, {\n  useState,\n  useEffect,\n} from \"react\"; /* eslint no-unused-vars : 0 */\n\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport cx from \"classnames\";\nimport translate from \"../helpers/translate\";\n\nimport { metricsColorMap } from \"../helpers/misc\";\n\nimport * as uiDuck from \"../state/duckUi\";\nimport * as dataDuck from \"../state/duckData\";\n\nimport { reorder } from \"../helpers/sorting\";\nimport { STEP_MAIN_CHOICE, STEP_METRICS_SORTING } from \"../constants\";\nimport ContinueButton from \"../components/ContinueButton\";\nimport ReactTooltip from \"react-tooltip\";\n\n// import metrics from \"../contents/metrics_list.fr.yml\";\nfunction MetricsOrderingContainer({\n  ui: { metricsOrderIsValidated },\n  data: { metricsOrder },\n  setCurrentStep,\n  setMetricsOrder,\n  setMetricsOrderIsValidated,\n  currentStep,\n}) {\n  const [displayDescriptions, setDisplayDescriptions] = useState(false);\n  useEffect(() => {\n    setTimeout(() => ReactTooltip.rebuild());\n  }, [currentStep]);\n  const onDragEnd = (result) => {\n    // dropped outside the list\n    if (!result.destination) {\n      return;\n    }\n    const items = reorder(\n      metricsOrder,\n      result.source.index,\n      result.destination.index\n    );\n\n    setMetricsOrder(items);\n  };\n\n  const handleValidateOrder = () => {\n    setMetricsOrderIsValidated(true);\n    setCurrentStep(STEP_MAIN_CHOICE);\n  };\n  return (\n    <section className=\"sort-screen\">\n      <h1 className=\"step-title\">{translate(\"sort_screen_title\")}</h1>\n      <p className=\"instructions\">{translate(\"sort_screen_prompt\")}</p>\n      <p className=\"instructions more-instructions\">\n        {translate(\"sort_screen_prompt_details\")}\n      </p>\n      <DragDropContext onDragEnd={onDragEnd}>\n        <Droppable droppableId=\"droppable\">\n          {(provided, snapshot) => (\n            <div\n              {...provided.droppableProps}\n              ref={provided.innerRef}\n              className={cx(\"draggable-list\", {\n                \"is-dragging\": snapshot.isDraggingOver,\n              })}\n            >\n              {metricsOrder.map((item, index) => {\n                const handleDown = () => {\n                  const items = reorder(metricsOrder, index, index + 1);\n                  setMetricsOrder(items);\n                };\n                const handleUp = () => {\n                  const items = reorder(metricsOrder, index, index - 1);\n                  setMetricsOrder(items);\n                };\n                return (\n                  <Draggable\n                    key={item.name}\n                    draggableId={item.name}\n                    index={index}\n                  >\n                    {(provided, snapshot) => (\n                      <div\n                        ref={provided.innerRef}\n                        {...provided.draggableProps}\n                        {...provided.dragHandleProps}\n                        className={cx(\"draggable-item\", {\n                          \"is-dragged\": snapshot.isDragging,\n                        })}\n                        style={\n                          provided.draggableProps\n                            .style /*getItemStyle(\n                        snapshot.isDragging,\n                        provided.draggableProps.style\n                      )*/\n                        }\n                      >\n                        <h3 className=\"sortable-title\">\n                          <span>\n                            <span\n                              className=\"number-indicator\"\n                              style={{\n                                background: metricsColorMap[item.id],\n                              }}\n                            >\n                              <span>{index + 1}</span>\n                            </span>\n                          </span>\n                          <span\n                            className={cx(\"move-btn first\", {\n                              \"is-disabled\": index === metricsOrder.length - 1,\n                            })}\n                            data-for=\"sorting\"\n                            data-tip={translate(\"move_down\")}\n                            data-place=\"top\"\n                            data-effect=\"solid\"\n                            onClick={handleDown}\n                          >\n                            <span>\n                              <span>▼</span>\n                            </span>\n                          </span>\n                          <span\n                            className={cx(\"move-btn last\", {\n                              \"is-disabled\": index === 0,\n                            })}\n                            data-for=\"sorting\"\n                            data-tip={translate(\"move_up\")}\n                            data-place=\"top\"\n                            data-effect=\"solid\"\n                            onClick={handleUp}\n                          >\n                            <span>\n                              <span>▲</span>\n                            </span>\n                          </span>\n                          <span className=\"main-title\">{item.name} </span>\n                          <p\n                            className={cx(\"metrics-description\", {\n                              \"is-visible\": displayDescriptions,\n                            })}\n                          >\n                            {item.short_description}\n                          </p>\n                        </h3>\n                        <ReactTooltip id=\"sorting\" />\n                      </div>\n                    )}\n                  </Draggable>\n                );\n              })}\n              {provided.placeholder}\n            </div>\n          )}\n        </Droppable>\n      </DragDropContext>\n      <div style={{ marginBottom: \"2rem\" }}>\n        <button\n          className={cx({ \"is-active\": displayDescriptions })}\n          onClick={() => setDisplayDescriptions(!displayDescriptions)}\n        >\n          {translate(\"show-descriptions\")}\n        </button>\n      </div>\n\n      <ContinueButton\n        currentStep={currentStep}\n        onSetCurrentStep={setCurrentStep}\n        disabled={metricsOrderIsValidated}\n        onSubmit={handleValidateOrder}\n        submitMessage={translate(\"validate\")}\n        relativePosition\n        backwardEnabled\n      />\n    </section>\n  );\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  ...ownProps,\n  ...state,\n  ...uiDuck.selector(state.ui),\n  ...dataDuck.selector(state.data),\n});\n\nconst mapDispatchToProps = (dispatch) =>\n  bindActionCreators(\n    {\n      ...uiDuck,\n      ...dataDuck,\n    },\n    dispatch\n  );\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MetricsOrderingContainer);\n","import react from \"react\"; /* eslint no-unused-vars : 0 */\nimport \"./InfoTip.scss\";\nfunction InfoTip({ tip, ...props }) {\n  return (\n    <span\n      className=\"info-tip\"\n      data-effect={props.dataEffect || \"solid\"}\n      data-tip={tip}\n      {...props}\n    >\n      <span>?</span>\n    </span>\n  );\n}\nexport default InfoTip;\n","import React from \"react\"; /* eslint no-unused-vars : 0 */\nimport cx from \"classnames\";\nimport Tooltip from \"react-tooltip\";\n\nimport { metricsColorMap } from \"../helpers/misc\";\n\nimport \"./MetricsCrossingIndicator.scss\";\nimport InfoTip from \"./InfoTip\";\n\nfunction MetricsCrossingIndicator({ metrics }) {\n  return (\n    <div className=\"metrics-crossing-indicator\">\n      <ul className=\"crossing-indicator-items\">\n        {metrics.map((metric) => (\n          <li\n            className={cx(\"crossing-indicator-item\", { active: metric.active })}\n            key={metric.name}\n            style={{\n              background: metricsColorMap[metric.id],\n            }}\n          >\n            {metric.name}{\" \"}\n            <InfoTip\n              data-place=\"right\"\n              data-effect=\"solid\"\n              tip={metric.short_description}\n            />\n          </li>\n        ))}\n      </ul>\n      <Tooltip />\n    </div>\n  );\n}\n\nexport default MetricsCrossingIndicator;\n","import react, {\n  useEffect,\n  useRef,\n  useState,\n} from \"react\"; /* eslint no-unused-vars : 0 */\nimport { extent, min } from \"d3-array\";\nimport { scaleLinear } from \"d3-scale\";\nimport cx from \"classnames\";\nimport { Axis, axisPropsFromTickScale, LEFT, BOTTOM } from \"react-d3-axis\";\n\nimport metrics from \"../contents/metrics_list.fr.yml\";\n\nimport { DECIMALS } from \"../constants\";\n\nimport \"./BrushableScatterPlot.scss\";\n\nfunction BrushableScatterPlot({\n  data,\n  xVariable,\n  yVariable,\n  filteredVariables,\n  width = 500,\n  height = 500,\n  axisMargin = 30,\n  padding = 10,\n  brush: {\n    x: [xMinOriginal, xMaxOriginal],\n    y: [yMinOriginal, yMaxOriginal],\n  },\n  onBrushChange,\n  readOnly = false,\n  minified = false,\n  highlightedNodeId,\n\n  ...props\n}) {\n  const [[xMin, xMax], setXRange] = useState([xMinOriginal, xMaxOriginal]);\n  const [[yMin, yMax], setYRange] = useState([yMinOriginal, yMaxOriginal]);\n  const numberOfTicks = minified ? 3 : 10;\n  useEffect(() => {\n    setXRange([xMinOriginal, xMaxOriginal]);\n    setYRange([yMinOriginal, yMaxOriginal]);\n  }, [xMinOriginal, xMaxOriginal, yMinOriginal, yMaxOriginal]);\n  const xAccessor = (d) =>\n    xVariable === \"Privacy\"\n      ? -d.variables.filter((vName) => filteredVariables.includes(vName)).length\n      : +d[xVariable];\n  const yAccessor = (d) =>\n    yVariable === \"Privacy\"\n      ? -d.variables.filter((vName) => filteredVariables.includes(vName)).length\n      : +d[yVariable];\n  let xExtent = extent(data, xAccessor);\n  let yExtent = extent(data, yAccessor);\n  const xScale = scaleLinear()\n    .domain(xExtent)\n    .range([axisMargin + padding, width - padding]);\n\n  const yScale = scaleLinear()\n    .domain(yExtent.reverse())\n    .range([padding, height - axisMargin - padding]);\n\n  const [hoveredElement, setHoveredElement] = useState(undefined);\n  const [tooltipPosition, setTooltipPosition] = useState([0, 0]);\n  const [isBrushing, setIsBrushing] = useState(false);\n\n  const svgRef = useRef(null);\n\n  const handleMouseDown = (e) => {\n    if (readOnly) return;\n    setIsBrushing(true);\n    setHoveredElement(undefined);\n    const svgDims = svgRef.current.getBoundingClientRect();\n    const thatX = xScale.invert(e.clientX - svgDims.x);\n    const thatY = yScale.invert(e.clientY - svgDims.y);\n    setXRange([thatX, thatX]);\n    setYRange([thatY, thatY]);\n  };\n\n  const handleMouseMove = (e) => {\n    if (readOnly) return;\n    if (isBrushing) {\n      const svgDims = svgRef.current.getBoundingClientRect();\n      const thatX = xScale.invert(e.clientX - svgDims.x);\n      const thatY = yScale.invert(e.clientY - svgDims.y);\n      setXRange([xMin, thatX]);\n      setYRange([yMin, thatY]);\n    }\n  };\n\n  const handleMouseUp = () => {\n    if (readOnly) return;\n    setIsBrushing(false);\n    if (xMin !== xMax && yMin !== yMax) {\n      onBrushChange({\n        x: [\n          +xMin.toFixed ? +xMin.toFixed(DECIMALS) : +xMin,\n          +xMax.toFixed ? +xMax.toFixed(DECIMALS) : +xMax,\n        ].sort(),\n        y: [\n          +yMin.toFixed ? +yMin.toFixed(DECIMALS) : +yMin,\n          +yMax.toFixed ? +yMax.toFixed(DECIMALS) : +yMax,\n        ].sort(),\n      });\n    } else {\n      setXRange([xMinOriginal, xMaxOriginal]);\n      setYRange([yMinOriginal, yMaxOriginal]);\n    }\n  };\n\n  return (\n    <div className=\"brushable-scatterplot-container\" {...props}>\n      <svg\n        width={width}\n        height={height}\n        ref={svgRef}\n        className={cx(\"brushable-scatterplot\", {\n          \"is-brushing\": isBrushing,\n          \"is-readonly\": readOnly,\n          \"is-minified\": minified,\n        })}\n        onMouseDown={handleMouseDown}\n        onMouseMove={handleMouseMove}\n        onMouseUp={handleMouseUp}\n        onMouseLeave={handleMouseUp}\n      >\n        <g\n          transform={`translate(0, ${height - axisMargin - padding})`}\n          className=\"x-axis\"\n        >\n          <Axis\n            {...axisPropsFromTickScale(xScale, numberOfTicks)}\n            style={{ orient: BOTTOM }}\n          />\n        </g>\n        <g\n          transform={`translate(${axisMargin + padding}, 0)`}\n          className=\"y-axis\"\n        >\n          <Axis\n            {...axisPropsFromTickScale(yScale, numberOfTicks)}\n            style={{ orient: LEFT }}\n          />\n        </g>\n        {xMin && xMax && yMin && yMax ? (\n          <rect\n            x={xScale(min([xMin, xMax]))}\n            y={\n              yScale(min([yMin, yMax])) - Math.abs(yScale(yMax) - yScale(yMin))\n            }\n            width={Math.abs(xScale(xMax) - xScale(xMin))}\n            height={Math.abs(yScale(yMax) - yScale(yMin))}\n            className=\"brush\"\n          />\n        ) : null}\n        <g className=\"chart\">\n          {data.map((datum, index) => {\n            const handleOvered = () => {\n              if (\n                !readOnly &&\n                !minified &&\n                !isBrushing &&\n                (!hoveredElement || hoveredElement.id !== datum.id)\n              ) {\n                setHoveredElement(datum);\n                setTooltipPosition([\n                  10 + xScale(xAccessor(datum)),\n                  yScale(yAccessor(datum)),\n                ]);\n              }\n            };\n            const handleLeave = () => {\n              if (\n                !readOnly &&\n                !minified &&\n                !isBrushing &&\n                hoveredElement &&\n                hoveredElement.id === datum.id\n              ) {\n                setHoveredElement(undefined);\n              }\n            };\n            const x = xAccessor(datum);\n            const y = yAccessor(datum);\n            const xExtent = [xMin, xMax].sort((a, b) => {\n              if (a > b) {\n                return 1;\n              } else return -1;\n            });\n            const yExtent = [yMin, yMax].sort((a, b) => {\n              if (a > b) {\n                return 1;\n              } else return -1;\n            });\n            const active =\n              x >= xExtent[0] &&\n              x <= xExtent[1] &&\n              y >= yExtent[0] &&\n              y <= yExtent[1];\n            return (\n              <circle\n                cx={xScale(x)}\n                cy={yScale(y)}\n                className={cx(\"dot\", {\n                  \"is-active\": active,\n                  \"is-highlighted\":\n                    highlightedNodeId && highlightedNodeId === datum.id,\n                })}\n                onMouseEnter={handleOvered}\n                onMouseMove={handleOvered}\n                onMouseLeave={handleLeave}\n                key={datum.id}\n                r={width / 200}\n              />\n            );\n          })}\n        </g>\n      </svg>\n      {\n        <div\n          className={cx(\"chart-tooltip\", { \"is-active\": hoveredElement })}\n          style={{\n            left: tooltipPosition[0],\n            top: tooltipPosition[1],\n          }}\n        >\n          {hoveredElement && !readOnly && !minified && (\n            <ul>\n              {metrics.map(({ id, name }) => {\n                return (\n                  <li\n                    key={id}\n                    className={cx(\"tooltip-info\", {\n                      active: id === xVariable || id === yVariable,\n                    })}\n                  >\n                    {name} :{\" \"}\n                    {id === \"Privacy\"\n                      ? -hoveredElement.variables.filter((vName) =>\n                          filteredVariables.includes(vName)\n                        ).length\n                      : hoveredElement[id]}\n                  </li>\n                );\n              })}\n              <li>Variables : {hoveredElement.variables.join(\", \")}</li>\n            </ul>\n          )}\n        </div>\n      }\n    </div>\n  );\n}\n\nexport default BrushableScatterPlot;\n","import react, {\n  useEffect,\n  useState,\n} from \"react\"; /* eslint no-unused-vars : 0 */\nimport Slider from \"rc-slider\";\nimport \"rc-slider/assets/index.css\";\nimport Tooltip from \"react-tooltip\";\nimport { metricsColorMap } from \"../helpers/misc\";\n\nimport InfoTip from \"./InfoTip\";\n\nconst Range = Slider.createSliderWithTooltip(Slider.Range);\n\nfunction Input({ onChange, validate, value, ...props }) {\n  const [localValue, setLocalValue] = useState(value);\n  const handleChange = (e) => {\n    setLocalValue(e.target.value);\n  };\n  const handleBlur = () => {\n    if (validate(localValue)) {\n      onChange(localValue);\n    } else {\n      setLocalValue(value);\n    }\n  };\n\n  useEffect(() => {\n    setLocalValue(value);\n  }, [value]);\n  return (\n    <input\n      {...props}\n      onChange={handleChange}\n      onBlur={handleBlur}\n      value={localValue}\n    />\n  );\n}\n\nfunction VariableInputs({\n  metric,\n  values,\n  min,\n  max,\n  onRangeChange,\n  axis = \"abscisses\",\n  onLabelClick,\n}) {\n  const handleMinChange = (val) => {\n    onRangeChange([val, values[1]]);\n  };\n  const handleMaxChange = (val) => {\n    onRangeChange([values[0], val]);\n  };\n  const SLIDER_MULTIPLIER = 10000;\n  return (\n    <div className=\"variable-inputs\">\n      <div>\n        <h5>\n          <code\n            onClick={onLabelClick}\n            style={{\n              background: metricsColorMap[metric.id],\n            }}\n          >\n            {axis}\n            {\" : \"}\n            {metric.name}{\" \"}\n            <InfoTip data-for=\"variable-tip\" tip={metric.short_description} />{\" \"}\n          </code>{\" \"}\n        </h5>\n        <div className=\"details-container\">\n          <div className=\"inputs-container\">\n            <div>\n              <span>{\"Min \"}</span>\n              <Input\n                validate={(val) => !isNaN(val) && val < values[1]}\n                onChange={handleMinChange}\n                value={\"\" + values[0]}\n                type=\"text\"\n              />\n            </div>\n            <div>\n              <span>{\"Max \"}</span>\n              <Input\n                validate={(val) => !isNaN(val) && val > values[0]}\n                value={\"\" + values[1]}\n                onChange={handleMaxChange}\n                type=\"text\"\n              />\n            </div>\n            {/*(min: {min}, max: {max})*/}\n          </div>\n        </div>\n        <Range\n          allowCross={false}\n          tipFormatter={(val) => val / SLIDER_MULTIPLIER}\n          onChange={([thatMin, thatMax]) => {\n            onRangeChange([\n              thatMin / SLIDER_MULTIPLIER,\n              thatMax / SLIDER_MULTIPLIER,\n            ]);\n          }}\n          step={metric.type === \"integer\" ? SLIDER_MULTIPLIER : undefined}\n          min={min * SLIDER_MULTIPLIER}\n          max={max * SLIDER_MULTIPLIER}\n          defaultValue={[min * SLIDER_MULTIPLIER, max * SLIDER_MULTIPLIER]}\n          value={[values[0] * SLIDER_MULTIPLIER, values[1] * SLIDER_MULTIPLIER]}\n        />\n      </div>\n      <Tooltip id=\"variable-tip\" />\n    </div>\n  );\n}\n\nexport default VariableInputs;\n","export const filterModels = (models, filters) => {\n  return filters.reduce((res, filter) => {\n    return res.filter((model) => {\n      const { variable, type, range } = filter;\n      let value = model[variable];\n      /* @todo dirty - just to handle privacy */\n      if (filter.variables) {\n        value = -model.variables.filter((vName) =>\n          filter.variables.includes(vName)\n        ).length;\n      }\n      switch (type) {\n        case \"range\":\n        default:\n          const [min, max] = range.sort((a, b) => {\n            if (a > b) {\n              return 1;\n            } else return -1;\n          });\n          return value >= min && value <= max;\n      }\n    });\n  }, models);\n};\n","import react, {\n  // useCallback,\n  useEffect,\n  useState,\n} from \"react\"; /* eslint no-unused-vars : 0 */\nimport { min, max } from \"d3-array\";\nimport Tooltip from \"react-tooltip\";\nimport Dimensions from \"react-dimensions\";\nimport cx from \"classnames\";\nimport \"./FilterForm.scss\";\n\nimport BrushableScatterPlot from \"./BrushableScatterPlot\";\nimport VariableInputs from \"./VariableInputs\";\nimport ContinueButton from \"./ContinueButton\";\n\nimport { useDebounce } from \"../helpers/hooks\";\nimport { filterModels } from \"../helpers/filters\";\nimport variables from \"../contents/variables_list.fr.yml\";\nimport { DECIMALS } from \"../constants\";\nimport InfoTip from \"./InfoTip\";\nimport translate from \"../helpers/translate\";\n\nfunction FilterForm({\n  metrics,\n  models,\n  onSubmit,\n  onPreviousStep,\n  filters = [],\n  privacyVariables,\n  values,\n  containerWidth,\n  containerHeight,\n}) {\n  let [metric1, metric2] = metrics;\n\n  const filteredVariables = variables\n    .filter(({ id }) => privacyVariables[id])\n    .map(({ id }) => id);\n\n  const [absoluteMin1, setAbsoluteMin1] = useState(0);\n  const [absoluteMax2, setAbsoluteMax2] = useState(0);\n\n  const [absoluteMin2, setAbsoluteMin2] = useState(0);\n  const [absoluteMax1, setAbsoluteMax1] = useState(0);\n  const [choosenMin1, setChoosenMin1] = useState(null);\n  const [choosenMax2, setChoosenMax2] = useState(null);\n\n  const [choosenMin2, setChoosenMin2] = useState(null);\n  const [choosenMax1, setChoosenMax1] = useState(null);\n\n  const [xOptionsVisible, setXOptionsVisible] = useState(false);\n  const [yOptionsVisible, setYOptionsVisible] = useState(false);\n\n  const [filteredModels, setFilteredModels] = useState(models);\n\n  useEffect(() => {\n    if (!models.length) return null;\n    if (values && values.length > 1) {\n      setChoosenMin1(values[0].range[0]);\n      setChoosenMax1(values[0].range[1]);\n      setChoosenMin2(values[1].range[0]);\n      setChoosenMax2(values[1].range[1]);\n    } else {\n      setChoosenMin1(absoluteMin1);\n      setChoosenMax1(absoluteMax1);\n      setChoosenMin2(absoluteMin2);\n      setChoosenMax2(absoluteMax2);\n    }\n  }, [values]); /* eslint react-hooks/exhaustive-deps : 0 */\n\n  useDebounce(\n    () => {\n      if (!models.length) return null;\n      const theseFilters = [\n        ...filters,\n        {\n          variable: metric1.id,\n          type: \"range\",\n          range: [choosenMin1, choosenMax1],\n          variables: metric1.id === \"Privacy\" ? filteredVariables : undefined,\n        },\n        {\n          variable: metric2.id,\n          type: \"range\",\n          range: [choosenMin2, choosenMax2],\n          variables: metric2.id === \"Privacy\" ? filteredVariables : undefined,\n        },\n      ];\n      setFilteredModels(filterModels(models, theseFilters));\n    },\n    [choosenMin1, choosenMax1, choosenMin2, choosenMax2],\n    1000\n  );\n\n  useEffect(() => {\n    if (!models.length) return null;\n    metric1 = metrics[0];\n    metric2 = metrics[1];\n    let absMin1, absMax1, absMin2, absMax2;\n    if (metric1.id === \"Privacy\") {\n      absMin1 = -max(\n        models,\n        (d) =>\n          d.variables.filter((vName) => -filteredVariables.includes(vName))\n            .length\n      );\n      absMax1 = -min(\n        models,\n        (d) =>\n          d.variables.filter((vName) => -filteredVariables.includes(vName))\n            .length\n      );\n    } else {\n      absMin1 = min(models, (d) => +d[metric1.id]);\n      absMax1 = max(models, (d) => +d[metric1.id]);\n    }\n    if (metric2.id === \"Privacy\") {\n      absMin2 = -max(\n        models,\n        (d) =>\n          d.variables.filter((vName) => -filteredVariables.includes(vName))\n            .length\n      );\n      absMax2 = -min(\n        models,\n        (d) =>\n          d.variables.filter((vName) => -filteredVariables.includes(vName))\n            .length\n      );\n    } else {\n      absMin2 = min(models, (d) => +d[metric2.id]);\n      absMax2 = max(models, (d) => +d[metric2.id]);\n    }\n    setAbsoluteMin1(+absMin1.toFixed(DECIMALS));\n    setAbsoluteMax1(+absMax1.toFixed(DECIMALS));\n    setAbsoluteMin2(+absMin2.toFixed(DECIMALS));\n    setAbsoluteMax2(+absMax2.toFixed(DECIMALS));\n\n    if (!values) {\n      setChoosenMin1(+absMin1.toFixed(DECIMALS));\n      setChoosenMax1(+absMax1.toFixed(DECIMALS));\n      setChoosenMin2(+absMin2.toFixed(DECIMALS));\n      setChoosenMax2(+absMax2.toFixed(DECIMALS));\n    }\n  }, [models, metrics]);\n\n  useEffect(() => {\n    if (!models.length) return null;\n    if (metric1.id === \"Privacy\") {\n      const absMin1 = -max(\n        models,\n        (d) =>\n          d.variables.filter((vName) => -filteredVariables.includes(vName))\n            .length\n      );\n      const absMax1 = -min(\n        models,\n        (d) =>\n          d.variables.filter((vName) => -filteredVariables.includes(vName))\n            .length\n      );\n      setAbsoluteMin1(absMin1);\n      setAbsoluteMax1(absMax1);\n    }\n    if (metric2.id === \"Privacy\") {\n      const absMin2 = -max(\n        models,\n        (d) =>\n          d.variables.filter((vName) => filteredVariables.includes(vName))\n            .length\n      );\n      const absMax2 = -min(\n        models,\n        (d) =>\n          d.variables.filter((vName) => filteredVariables.includes(vName))\n            .length\n      );\n      setAbsoluteMin2(absMin2);\n      setAbsoluteMax2(absMax2);\n    }\n  }, [filteredVariables]);\n\n  if (!models.length) return null;\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n  };\n\n  const handleValidate = (e) => {\n    onSubmit([\n      {\n        variable: metric1.id,\n        type: \"range\",\n        range: [choosenMin1, choosenMax1],\n        variables: metric1.id === \"Privacy\" ? filteredVariables : undefined,\n      },\n      {\n        variable: metric2.id,\n        type: \"range\",\n        range: [choosenMin2, choosenMax2],\n        variables: metric2.id === \"Privacy\" ? filteredVariables : undefined,\n      },\n    ]);\n  };\n  const handleBrushChange = ({\n    x: [thatXMin, thatXMax],\n    y: [thatYMin, thatYMax],\n  }) => {\n    setChoosenMin1(+thatXMin.toFixed(DECIMALS));\n    setChoosenMax1(+thatXMax.toFixed(DECIMALS));\n    setChoosenMin2(+thatYMin.toFixed(DECIMALS));\n    setChoosenMax2(+thatYMax.toFixed(DECIMALS));\n  };\n  return (\n    <form className=\"filter-form\" onSubmit={handleSubmit}>\n      <div className=\"columns-container\">\n        <div className=\"column is-main\">\n          <div\n            className={cx(\"axis-container axis-y\", {\n              \"is-deployed\": yOptionsVisible,\n            })}\n          >\n            <VariableInputs\n              metric={metric2}\n              values={[choosenMin2, choosenMax2]}\n              min={absoluteMin2}\n              max={absoluteMax2}\n              onLabelClick={() => setYOptionsVisible(!yOptionsVisible)}\n              filteredVariables={filteredVariables}\n              axis={\"y\"}\n              onRangeChange={([thatMin, thatMax]) => {\n                setChoosenMin2(thatMin);\n                setChoosenMax2(thatMax);\n              }}\n            />\n          </div>\n          <BrushableScatterPlot\n            data={models}\n            xVariable={metric1.id}\n            yVariable={metric2.id}\n            filteredVariables={filteredVariables}\n            brush={{\n              x: [choosenMin1, choosenMax1],\n              y: [choosenMin2, choosenMax2],\n            }}\n            onBrushChange={handleBrushChange}\n            width={containerWidth * 0.85}\n            height={400}\n            style={{\n              paddingLeft: containerWidth * 0.1,\n            }}\n          />\n          <div\n            className={cx(\"axis-container axis-x\", {\n              \"is-deployed\": xOptionsVisible,\n            })}\n          >\n            <VariableInputs\n              metric={metric1}\n              values={[choosenMin1, choosenMax1]}\n              min={absoluteMin1}\n              max={absoluteMax1}\n              axis={\"x\"}\n              onLabelClick={() => setXOptionsVisible(!xOptionsVisible)}\n              filteredVariables={filteredVariables}\n              onRangeChange={([thatMin, thatMax]) => {\n                setChoosenMin1(thatMin);\n                setChoosenMax1(thatMax);\n              }}\n            />\n          </div>\n          {/*<h4>\n            Vous filtrez dans{\" \"}\n            <code>\n              {metric1.name} <InfoTip tip={metric1.short_description} />\n            </code>{\" \"}\n            sur les x et{\" \"}\n            <code>\n              {metric2.name} <InfoTip tip={metric2.short_description} />\n            </code>{\" \"}\n            sur les y\n          </h4>*/}\n          <div\n            style={{\n              // position: 'absolute',\n              // top: 0,\n              // right: 0,\n              // bottom: '1rem',\n              // paddingLeft: containerWidth * .15,\n              maxWidth: containerWidth * 0.4,\n            }}\n            className=\"count-container\"\n          >\n            <p>\n              <span className=\"count-indicator\">{filteredModels.length}</span>{\" \"}\n              modèles sélectionnés.\n            </p>\n            <p>\n              <i>Faire glisser la souris pour sélectionner des modèles.</i>\n            </p>\n          </div>\n        </div>\n      </div>\n      <ContinueButton\n        disabled={!filteredModels.length}\n        onSubmit={handleValidate}\n        submitMessage={translate(\"validate\")}\n        onPreviousStep={onPreviousStep}\n        backwardEnabled\n        type={\"submit\"}\n      />\n\n      <Tooltip id=\"tip\" />\n    </form>\n  );\n}\n\nexport default Dimensions()(FilterForm);\n","import react, { useEffect } from \"react\"; /* eslint no-unused-vars : 0 */\n\nexport function useDebounce(fn, values, delay) {\n  useEffect(() => {\n    const handler = setTimeout(fn, delay);\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [delay, fn, ...values]); /* eslint react-hooks/exhaustive-deps : 0 */\n}\n","import react from \"react\"; /* eslint no-unused-vars : 0 */\n\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\n\nimport translate from \"../helpers/translate\";\n\nimport * as uiDuck from \"../state/duckUi\";\nimport * as dataDuck from \"../state/duckData\";\nimport MetricsCrossingIndicator from \"../components/MetricsCrossingIndicator\";\n\nimport FilterForm from \"../components/FilterForm\";\nimport { STEP_SECONDARY_CHOICE_1 } from \"../constants\";\n\nfunction MainChoiceContainer({\n  data: { metricsOrder, models, filters, privacyVariables },\n  setCurrentStep,\n  setMainChoiceIsValidated,\n  addFilters,\n  currentStep,\n}) {\n  const handleSubmit = (theseFilters) => {\n    const [filter1, filter2] = theseFilters;\n    addFilters({\n      0: filter1,\n      1: filter2,\n    });\n    setMainChoiceIsValidated(true);\n    setCurrentStep(STEP_SECONDARY_CHOICE_1);\n  };\n  const handlePreviousStep = () => {\n    setCurrentStep(currentStep - 1);\n  };\n  const activeMetrics = metricsOrder.map((m, i) => ({\n    ...m,\n    active: i <= 1,\n  }));\n  return (\n    <section className=\"main-choice-screen\">\n      <h1 className=\"step-title\">{translate(\"main_choice_screen_title\")}</h1>\n      <div className=\"columns-container\">\n        <aside className=\"column is-aside\">\n          <p className=\"instructions\">\n            {translate(\"main_choice_screen_intro\")}\n          </p>\n          <MetricsCrossingIndicator metrics={activeMetrics} />\n        </aside>\n        <main className=\"column is-main\">\n          <FilterForm\n            metrics={metricsOrder.slice(0, 2)}\n            models={models}\n            onSubmit={handleSubmit}\n            onPreviousStep={handlePreviousStep}\n            privacyVariables={privacyVariables}\n            values={\n              filters[\"0\"] && filters[\"1\"]\n                ? [filters[\"0\"], filters[\"1\"]]\n                : undefined\n            }\n          />\n        </main>\n      </div>\n    </section>\n  );\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  ...ownProps,\n  ...state,\n  ...uiDuck.selector(state.ui),\n  ...dataDuck.selector(state.data),\n});\n\nconst mapDispatchToProps = (dispatch) =>\n  bindActionCreators(\n    {\n      ...uiDuck,\n      ...dataDuck,\n    },\n    dispatch\n  );\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MainChoiceContainer);\n","import React from \"react\";\nimport BrushableScatterPlot from \"./BrushableScatterPlot\";\nimport Slider from \"rc-slider\";\nimport { min, max } from \"d3-array\";\n\nimport { metricsColorMap } from \"../helpers/misc\";\n\nimport metricsList from \"../contents/metrics_list.fr.yml\";\nimport \"./MiniGraph.scss\";\n\nconst Range = Slider.createSliderWithTooltip(Slider.Range);\n\nconst MiniGraph = ({\n  index,\n  filters,\n  models,\n  from,\n  to,\n  onNav,\n  fromName,\n  toName,\n  variables,\n  choosenModel,\n  highlightedNodeId,\n  addFilters,\n  filterModels,\n  readOnly,\n}) => {\n  const actuallyHighlitedNodeId = choosenModel\n    ? highlightedNodeId || choosenModel.id\n    : highlightedNodeId;\n\n  const brushData = {\n    x: filters[from + \"\"].range,\n    y: filters[to + \"\"].range,\n  };\n  const data =\n    from === 0\n      ? models\n      : filterModels(\n          models,\n          Object.entries(filters)\n            .filter(([key]) => +key < from)\n            .map(([_key, filter]) => filter)\n        );\n\n  const handleBrushChange = ({\n    x: [thatXMin, thatXMax],\n    y: [thatYMin, thatYMax],\n  }) => {\n    addFilters({\n      [from + \"\"]: {\n        ...filters[from + \"\"],\n        range: [thatXMin, thatXMax],\n      },\n      [to + \"\"]: {\n        ...filters[to + \"\"],\n        range: [thatYMin, thatYMax],\n      },\n    });\n  };\n  const SLIDER_MULTIPLIER = 10000;\n\n  const handleRangeChange = (axis, range) => {\n    const key = axis === \"x\" ? from + \"\" : to + \"\";\n    if (axis === \"x\") {\n      console.log(\"on change\", { range });\n    }\n    addFilters({\n      [key]: {\n        ...filters[key],\n        range,\n      },\n    });\n  };\n  const val1 = filters[from + \"\"].range;\n  const xVariable = filters[from + \"\"].variable;\n  const metric1 = metricsList.find(({ id }) => id === xVariable);\n  const min1 = min(data, (d) => +d[xVariable]);\n  const max1 = max(data, (d) => +d[xVariable]);\n\n  const val2 = filters[to + \"\"].range;\n  const yVariable = filters[to + \"\"].variable;\n  const metric2 = metricsList.find(({ id }) => id === yVariable);\n  const min2 = min(data, (d) => +d[yVariable]);\n  const max2 = max(data, (d) => +d[yVariable]);\n  return (\n    <div className=\"mini-graph-container\">\n      <h5 className=\"mini-graph-title\">\n        <div>\n          <span onClick={onNav} className=\"number-indicator\">\n            {index + 1}\n          </span>\n        </div>\n        <div className=\"values-container\">\n          <span className=\"value-container\">\n            <code\n              style={{\n                background: metricsColorMap[xVariable],\n              }}\n            >\n              {fromName}\n            </code>\n            <Range\n              allowCross={false}\n              tipFormatter={(val) => val / SLIDER_MULTIPLIER}\n              onChange={([thatMin, thatMax]) => {\n                handleRangeChange(\"x\", [\n                  thatMin / SLIDER_MULTIPLIER,\n                  thatMax / SLIDER_MULTIPLIER,\n                ]);\n              }}\n              step={metric1.type === \"integer\" ? SLIDER_MULTIPLIER : undefined}\n              min={min1 * SLIDER_MULTIPLIER}\n              max={max1 * SLIDER_MULTIPLIER}\n              defaultValue={[\n                min1 * SLIDER_MULTIPLIER,\n                max1 * SLIDER_MULTIPLIER,\n              ]}\n              value={[val1[0] * SLIDER_MULTIPLIER, val1[1] * SLIDER_MULTIPLIER]}\n              style={{\n                width: \"100%\",\n              }}\n            />\n          </span>\n          <span className=\"value-container\">\n            <code\n              style={{\n                background: metricsColorMap[yVariable],\n              }}\n            >\n              {toName}\n            </code>\n            <Range\n              allowCross={false}\n              tipFormatter={(val) => val / SLIDER_MULTIPLIER}\n              onChange={([thatMin, thatMax]) => {\n                handleRangeChange(\"y\", [\n                  thatMin / SLIDER_MULTIPLIER,\n                  thatMax / SLIDER_MULTIPLIER,\n                ]);\n              }}\n              step={metric2.type === \"integer\" ? SLIDER_MULTIPLIER : undefined}\n              min={min2 * SLIDER_MULTIPLIER}\n              max={max2 * SLIDER_MULTIPLIER}\n              defaultValue={[\n                min2 * SLIDER_MULTIPLIER,\n                max2 * SLIDER_MULTIPLIER,\n              ]}\n              value={[val2[0] * SLIDER_MULTIPLIER, val2[1] * SLIDER_MULTIPLIER]}\n              style={{\n                width: \"100%\",\n              }}\n            />\n          </span>\n        </div>\n      </h5>\n      <BrushableScatterPlot\n        data={data}\n        xVariable={xVariable}\n        yVariable={yVariable}\n        filteredVariables={variables}\n        brush={brushData}\n        readOnly={readOnly}\n        minified\n        highlightedNodeId={actuallyHighlitedNodeId}\n        width={200}\n        height={200}\n        onBrushChange={handleBrushChange}\n      />\n    </div>\n  );\n};\n\nexport default MiniGraph;\n","import react from \"react\"; /* eslint no-unused-vars : 0 */\n\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\n\nimport translate from \"../helpers/translate\";\nimport { filterModels } from \"../helpers/filters\";\n\nimport * as uiDuck from \"../state/duckUi\";\nimport * as dataDuck from \"../state/duckData\";\nimport MetricsCrossingIndicator from \"../components/MetricsCrossingIndicator\";\n\nimport FilterForm from \"../components/FilterForm\";\n\nimport {\n  STEP_MAIN_CHOICE,\n  STEP_SECONDARY_CHOICE_1,\n  STEP_SECONDARY_CHOICE_2,\n} from \"../constants\";\nimport MiniGraph from \"../components/MiniGraph\";\n\nfunction SecondChoiceContainer({\n  data: { metricsOrder, models, filters, privacyVariables = {} },\n  setCurrentStep,\n  setMainChoiceIsValidated,\n  addFilters,\n  metricsExtent: [fromMetric, toMetric] = [2, 3],\n  previousExtents = [],\n  nextStep = STEP_SECONDARY_CHOICE_2,\n  currentStep,\n}) {\n  const handleSubmit = (theseFilters) => {\n    const [filter1, filter2] = theseFilters;\n    addFilters({\n      [fromMetric + \"\"]: filter1,\n      [toMetric + \"\"]: filter2,\n    });\n    setMainChoiceIsValidated(true);\n    setCurrentStep(nextStep);\n  };\n  const handlePreviousStep = () => {\n    setCurrentStep(currentStep - 1);\n  };\n\n  if (!Object.keys(filters).length) return null;\n\n  return (\n    <section className=\"second-choice-screen\">\n      <h1 className=\"step-title\">{translate(\"second_choice_screen_title\")}</h1>\n      <div className=\"columns-container\">\n        <aside className=\"column is-aside\">\n          <p className=\"instructions\">\n            {translate(\"second_choice_screen_intro\")}\n          </p>\n          <MetricsCrossingIndicator\n            metrics={metricsOrder.map((m, i) => ({\n              ...m,\n              active: i >= fromMetric && i <= toMetric,\n            }))}\n          />\n          <h4>Vos arbitrages précédents :</h4>\n          {/* mini scatterplots for previous steps */}\n          {previousExtents.map(([from, to], index) => {\n            let theseVariables = [filters[from + \"\"], filters[to + \"\"]].find(\n              (f) => f && f.variables\n            );\n            theseVariables = theseVariables\n              ? theseVariables.variables\n              : undefined;\n            const handleNav = () => {\n              let target;\n              switch (index) {\n                case 0:\n                  target = STEP_MAIN_CHOICE;\n                  break;\n                case 1:\n                  target = STEP_SECONDARY_CHOICE_1;\n                  break;\n                case 2:\n                default:\n                  target = STEP_SECONDARY_CHOICE_2;\n                  break;\n              }\n              setCurrentStep(target);\n            };\n            return (\n              <MiniGraph\n                key={index}\n                {...{\n                  index,\n                  filters,\n                  models,\n                  fromName: metricsOrder.find(\n                    ({ id }) => id === filters[from + \"\"].variable\n                  ).name,\n                  toName: metricsOrder.find(\n                    ({ id }) => id === filters[to + \"\"].variable\n                  ).name,\n                  onNav: handleNav,\n                  from,\n                  to,\n                  variables: theseVariables,\n                  addFilters,\n                  filterModels,\n                }}\n              />\n            );\n          })}\n        </aside>\n        <main className=\"column is-main\">\n          <FilterForm\n            metrics={metricsOrder.slice(fromMetric, toMetric + 1)}\n            models={filterModels(\n              models,\n              Object.entries(filters)\n                .filter(([key]) => +key < fromMetric)\n                .map(([_key, filter]) => filter)\n            )}\n            onSubmit={handleSubmit}\n            onPreviousStep={handlePreviousStep}\n            privacyVariables={privacyVariables}\n            values={\n              filters[fromMetric + \"\"] && filters[toMetric + \"\"]\n                ? [filters[fromMetric + \"\"], filters[toMetric + \"\"]]\n                : undefined\n            }\n          />\n        </main>\n      </div>\n    </section>\n  );\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  ...ownProps,\n  ...state,\n  ...uiDuck.selector(state.ui),\n  ...dataDuck.selector(state.data),\n});\n\nconst mapDispatchToProps = (dispatch) =>\n  bindActionCreators(\n    {\n      ...uiDuck,\n      ...dataDuck,\n    },\n    dispatch\n  );\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SecondChoiceContainer);\n","import react, { useState } from \"react\"; /* eslint no-unused-vars : 0 */\n\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport cx from \"classnames\";\n\nimport translate from \"../helpers/translate\";\nimport { filterModels } from \"../helpers/filters\";\nimport { sortModelsByDistance } from \"../helpers/sorters\";\n\nimport * as uiDuck from \"../state/duckUi\";\nimport * as dataDuck from \"../state/duckData\";\n\nimport \"./ModelChoiceContainer.scss\";\n\nimport metricsList from \"../contents/metrics_list.fr.yml\";\nimport MiniGraph from \"../components/MiniGraph\";\nimport ReactTooltip from \"react-tooltip\";\nimport { extent } from \"d3-array\";\nimport { scaleLinear } from \"d3-scale\";\n\nfunction ModelChoiceContainer({\n  ui: { currentStep },\n  data: { models, filters, choosenModel, privacyVariables, metricsOrder },\n  setChoosenModel,\n  setCurrentStep,\n  addFilters,\n}) {\n  const [highlightedNodeId, setHighlightedNodeId] = useState(undefined);\n  const previousExtents = [\n    [0, 1],\n    [2, 3],\n    [3, 4],\n  ];\n\n  let visibleModels = filterModels(\n    models,\n    Object.entries(filters).map(([_key, filter]) => filter)\n  );\n  const colorScales = metricsList.reduce((res, { id }) => {\n    const range = extent(visibleModels, (d) => +d[id]);\n    const scale = scaleLinear().domain(range).range([\"red\", \"green\"]);\n    return {\n      ...res,\n      [id]: scale,\n    };\n  }, {});\n  const normalScales = metricsList.reduce((res, { id }) => {\n    const range = extent(visibleModels, (d) => +d[id]);\n    const scale = scaleLinear().domain(range).range([0, 1]);\n    return {\n      ...res,\n      [id]: scale,\n    };\n  }, {});\n  visibleModels = visibleModels.sort((a, b) =>\n    sortModelsByDistance(\n      a,\n      b,\n      metricsOrder.map(({ id }) => id),\n      normalScales\n    )\n  );\n\n  if (!Object.keys(filters).length) return null;\n\n  return (\n    <section className=\"single-choice-screen\">\n      <h1 className=\"step-title\">{translate(\"model_choice_screen_title\")}</h1>\n      <div className=\"columns-container\">\n        <aside className=\"column is-aside\">\n          <p className=\"instructions\">\n            {translate(\"model_choice_screen_intro\")}\n          </p>\n          {/* mini scatterplots for previous steps */}\n          <div className=\"\">\n            {previousExtents.map(([from, to], index) => {\n              let theseVariables = [filters[from + \"\"], filters[to + \"\"]].find(\n                (f) => f && f.variables\n              );\n              theseVariables = theseVariables\n                ? theseVariables.variables\n                : undefined;\n              return (\n                <MiniGraph\n                  key={index}\n                  {...{\n                    index,\n                    filters,\n                    models,\n                    from,\n                    to,\n                    fromName: metricsOrder.find(\n                      ({ id }) => id === filters[from + \"\"].variable\n                    ).name,\n                    toName: metricsOrder.find(\n                      ({ id }) => id === filters[to + \"\"].variable\n                    ).name,\n                    variables: theseVariables,\n                    choosenModel,\n                    highlightedNodeId,\n                    addFilters,\n                    filterModels,\n                  }}\n                />\n              );\n            })}\n          </div>\n        </aside>\n        <main className=\"column is-main\">\n          <table className=\"model-choice-table\">\n            <thead>\n              <tr>\n                <th></th>\n                {metricsOrder.map(({ name, id }) => (\n                  <th key={id}>\n                    <div>\n                      <span>{name}</span>\n                    </div>\n                  </th>\n                ))}\n              </tr>\n            </thead>\n            <tbody\n              onMouseLeave={() => {\n                setHighlightedNodeId(undefined);\n              }}\n            >\n              {visibleModels.map((model) => {\n                return (\n                  <tr\n                    key={model.id}\n                    onMouseOver={() => {\n                      setHighlightedNodeId(model.id);\n                    }}\n                    onClick={() => {\n                      setChoosenModel(model);\n                      setCurrentStep(currentStep + 1);\n                    }}\n                    className={cx(\"model-row\", {\n                      \"is-active\": choosenModel\n                        ? model.id === highlightedNodeId ||\n                          model.id === choosenModel.id\n                        : model.id === highlightedNodeId,\n                    })}\n                  >\n                    <th>\n                      <button>{translate(\"select_model\")}</button>\n                    </th>\n                    {metricsOrder.map(({ name, id }) => {\n                      let tip = name + \" : \" + model[id];\n                      if (id === \"privacy\") {\n                        tip =\n                          name +\n                          \" : \" +\n                          -model.variables.filter(\n                            (vName) => privacyVariables[vName]\n                          ).length;\n                      } else if (id === \"interpretability\") {\n                        tip =\n                          name +\n                          \" : \" +\n                          model[id] +\n                          \"<br/> variables utilisées : \" +\n                          model.variables.join(\", \");\n                      }\n                      return (\n                        <th\n                          key={id}\n                          data-for=\"table-tooltip\"\n                          data-tip={tip}\n                          data-html={true}\n                          style={{\n                            background: colorScales[id](+model[id]),\n                          }}\n                        >\n                          {id === \"interpretability\"\n                            ? model.variables.length\n                            : \"\"}\n                        </th>\n                      );\n                    })}\n                    <ReactTooltip id=\"table-tooltip\" />\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </main>\n      </div>\n    </section>\n  );\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  ...ownProps,\n  ...state,\n  ...uiDuck.selector(state.ui),\n  ...dataDuck.selector(state.data),\n});\n\nconst mapDispatchToProps = (dispatch) =>\n  bindActionCreators(\n    {\n      ...uiDuck,\n      ...dataDuck,\n    },\n    dispatch\n  );\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ModelChoiceContainer);\n","export const sortModelsByDistance = (a, b, keys, scales) => {\n  const vector1 = keys.map((k) => scales[k](+a[k]));\n  const vector2 = keys.map((k) => scales[k](+b[k]));\n  const distance = keys.reduce(\n    (sum, _k, index) => sum + (vector2[index] - vector1[index]),\n    0\n  );\n  if (distance > 0) {\n    return 1;\n  } else if (distance < 0) {\n    return -1;\n  }\n  return 0;\n};\n","// import { combineReducers } from 'redux';\nimport { createStructuredSelector } from \"reselect\";\n\n/**\n * ACTION NAMES\n */\nimport {\n  RESET_APP,\n  SET_METRICS_ORDER,\n  ADD_FILTERS,\n  SET_DATAIKU_RESULTS,\n  SET_CHOOSEN_MODEL,\n} from \"./duckData\";\nimport { SET_CURRENT_STEP, START_APP } from \"./duckUi\";\n\n/**\n * ACTION FUNCTIONS\n */\n/**\n * REDUCER\n */\nconst DEFAULT_STATE = {\n  history: [],\n};\n\nfunction data(state = DEFAULT_STATE, action) {\n  // const { payload } = action;\n  switch (action.type) {\n    case RESET_APP:\n      return DEFAULT_STATE;\n    case SET_METRICS_ORDER:\n    case ADD_FILTERS:\n    case SET_DATAIKU_RESULTS:\n    case SET_CHOOSEN_MODEL:\n    case SET_CURRENT_STEP:\n    case START_APP:\n      return {\n        ...state,\n        history: [\n          ...state.history,\n          {\n            action,\n            date: new Date(),\n          },\n        ],\n      };\n    default:\n      return state;\n  }\n}\n\n// export default combineReducers({data, ...})\nexport default data;\n\n/**\n * SELECTOR\n */\n\nconst history = (state) => state.history;\n\nexport const selector = createStructuredSelector({\n  history,\n});\n","import FileSaver from \"file-saver\";\n\n/**\n * @param {string} text - the text to put in the file\n * @param {string} extension - the extension to append to file name\n * @param {string} fileName - the name to attribute to the downloaded file\n */\nexport default function downloadFile(\n  text,\n  extension = \"txt\",\n  fileName = \"download\"\n) {\n  let type;\n  switch (extension) {\n    case \"zip\":\n      type = \"octet/stream\";\n      break;\n    case \"html\":\n      type = \"text/html;charset=utf-8\";\n      break;\n    default:\n      type = \"text/plain;charset=utf-8\";\n      break;\n  }\n  const blob = new Blob([text], { type });\n  console.log(text);\n  FileSaver.saveAs(blob, `${fileName}.${extension}`);\n}\n","import react from \"react\"; /* eslint no-unused-vars : 0 */\nimport translate from \"../helpers/translate\";\n\nimport {\n  SET_METRICS_ORDER,\n  ADD_FILTERS,\n  SET_DATAIKU_RESULTS,\n  SET_CHOOSEN_MODEL,\n} from \"../state/duckData\";\n\nimport { SET_CURRENT_STEP, START_APP } from \"../state/duckUi\";\nimport {\n  STEP_HEADER,\n  STEP_DATAIKU_PRACTICE,\n  STEP_EU_LEGISLATION,\n  STEP_METRICS_EXPLANATION_0,\n  STEP_METRICS_EXPLANATION_1,\n  STEP_METRICS_EXPLANATION_2,\n  STEP_METRICS_EXPLANATION_3,\n  STEP_METRICS_EXPLANATION_4,\n  STEP_METRICS_EXPLANATION_5,\n  STEP_METRICS_SORTING,\n  STEP_MAIN_CHOICE,\n  STEP_SECONDARY_CHOICE_1,\n  STEP_SECONDARY_CHOICE_2,\n  STEP_MODEL_CHOICE,\n  STEP_CONCLUSION,\n} from \"../constants\";\nimport downloadFile from \"../helpers/download\";\n\nimport \"./History.scss\";\n\nconst serializeStep = (payload) => {\n  switch (payload) {\n    case STEP_HEADER:\n      return translate(\"app_header_view\");\n    case STEP_DATAIKU_PRACTICE:\n      return translate(\"dataiku_practice_view\");\n    case STEP_EU_LEGISLATION:\n      return translate(\"eu_legislation_view\");\n    case STEP_METRICS_EXPLANATION_0:\n    case STEP_METRICS_EXPLANATION_1:\n    case STEP_METRICS_EXPLANATION_2:\n    case STEP_METRICS_EXPLANATION_3:\n    case STEP_METRICS_EXPLANATION_4:\n    case STEP_METRICS_EXPLANATION_5:\n      return translate(\"metrics_explanation_view\");\n    case STEP_METRICS_SORTING:\n      return translate(\"metrics_sorting_view\");\n    case STEP_MAIN_CHOICE:\n      return translate(\"main_filter_view\");\n    case STEP_SECONDARY_CHOICE_1:\n      return translate(\"secondary_filter_view\");\n    case STEP_SECONDARY_CHOICE_2:\n      return translate(\"tertiary_filter_view\");\n    case STEP_MODEL_CHOICE:\n      return translate(\"model_choice_view\");\n    case STEP_CONCLUSION:\n      return translate(\"conclusion_view\");\n    default:\n      return \"\";\n  }\n};\n\nconst actionsSerialization = {\n  START_APP: {\n    description: (payload) => translate(\"started_the_app\"),\n  },\n  SET_METRICS_ORDER: {\n    description: (payload) =>\n      translate(\"changed_metrics_order_to\") +\n      \" \" +\n      payload.map((i, index) => index + 1 + \"/ \" + i.name).join(\", \"),\n  },\n  ADD_FILTERS: {\n    description: (payload) =>\n      translate(\"add_filters\") +\n      \" \" +\n      Object.entries(payload)\n        .map(\n          ([_key, filter]) =>\n            `${filter.variable} (entre ${filter.range[0]} et ${filter.range[1]})`\n        )\n        .join(\" \" + translate(\"and\") + \" \"),\n  },\n  SET_DATAIKU_RESULTS: {\n    description: () => translate(\"set_dataiku_results\"),\n  },\n  SET_CHOOSEN_MODEL: {\n    description: (payload) =>\n      translate(\"set_choosen_model\") + \" : \" + payload.variables.join(\"/\"),\n  },\n  SET_CURRENT_STEP: {\n    description: (payload) =>\n      translate(\"navigated_to\") + \" \" + serializeStep(payload),\n  },\n};\n\nfunction History({ history = [] }) {\n  const renderAction = (action, date, index) => {\n    if (actionsSerialization[action.type]) {\n      return actionsSerialization[action.type].description(action.payload);\n    }\n    return \"nope\";\n  };\n  const csv = `heure;action\n${history\n  .map(\n    ({ action, date }, index) =>\n      `${new Date(date).toLocaleTimeString()};${renderAction(\n        action,\n        date,\n        index\n      )}`\n  )\n  .join(\"\\n\")}`;\n  return (\n    <div className=\"history\">\n      <ul className=\"history-details\">\n        {history.map(({ action, date }, index) => {\n          return (\n            <li className=\"history-item\" key={index}>\n              <div className=\"date-container\">\n                <code>{new Date(date).toLocaleTimeString()}</code>\n              </div>\n              <div>{renderAction(action, date, index)}</div>\n            </li>\n          );\n        })}\n      </ul>\n      <div>\n        <button onClick={() => downloadFile(csv, \"csv\", \"history\")}>\n          {translate(\"download_history\")}\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default History;\n","import react from \"react\"; /* eslint no-unused-vars : 0 */\n\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport Tooltip from \"react-tooltip\";\n\nimport translate from \"../helpers/translate\";\n\nimport * as uiDuck from \"../state/duckUi\";\nimport * as dataDuck from \"../state/duckData\";\nimport * as historyDuck from \"../state/duckHistory\";\n\nimport History from \"../components/History\";\n\nimport metricsList from \"../contents/metrics_list.fr.yml\";\nimport variablesLists from \"../contents/variables_list.fr.yml\";\nimport { STEP_METRICS_SORTING } from \"../constants\";\nimport downloadFile from \"../helpers/download\";\nimport { metricsColorMap } from \"../helpers/misc\";\n\nfunction ConclusionContainer({\n  data: {\n    dataikuResults,\n    choosenModel,\n    filters,\n    privacyVariables,\n    metricsOrder,\n  },\n  history,\n  resetApp,\n  setCurrentStep,\n}) {\n  if (!choosenModel) {\n    return null;\n  }\n  const csv = `source;${metricsList\n    .map(({ name }) => name)\n    .join(\";\")};variables considérées comme privées\ndataiku;${metricsList.map(({ id }) => dataikuResults[id]).join(\";\")};\ninterface;${metricsList\n    .map(({ id, name }) => {\n      const value =\n        id === \"Privacy\"\n          ? -Object.keys(privacyVariables).filter((f) => privacyVariables[f])\n              .length\n          : choosenModel[id];\n\n      return value;\n    })\n    .join(\";\")};${Object.keys(privacyVariables)\n    .filter((f) => privacyVariables[f])\n    .join(\", \")}`;\n  return (\n    <section className=\"single-choice-screen\">\n      <h1 className=\"step-title\">{translate(\"conclusion_screen_title\")}</h1>\n      <div className=\"step-section\">\n        <p>\n          Le modèle que vous avez choisi utilise les dimensions suivantes pour\n          prendre une décision :{\" \"}\n          {choosenModel.variables\n            .map(\n              (thatId) => variablesLists.find(({ id }) => id === thatId).name\n            )\n            .map((text) => <strong>{text}</strong>)\n            .reduce(\n              (res, el, index) => [...res, index === 0 ? null : \", \", el],\n              []\n            )}\n          .\n        </p>\n        <h2>{translate(\"conclusion_results_title\")}</h2>\n        <table className=\"results-table\">\n          {/* <thead>\n            <th></th>\n            <th></th>\n            <th>Sans les métriques</th>\n            <th></th>\n            <th>Avec les métriques</th>\n          </thead> */}\n          <tbody>\n            {metricsOrder.map(({ name, id }) => {\n              const color = metricsColorMap[id];\n              const dataikuResult = dataikuResults[id];\n              let expResult =\n                id === \"privacy\"\n                  ? -Object.keys(privacyVariables).filter(\n                      (f) => privacyVariables[f]\n                    ).length\n                  : choosenModel[id];\n              expResult = +expResult;\n              expResult = expResult.toFixed ? expResult.toFixed(2) : expResult;\n              const isImproving = +expResult > +(dataikuResult || 0);\n              return (\n                <tr key={id}>\n                  <th>\n                    <span style={{ background: color }}>{name}</span>\n                  </th>\n\n                  <th>\n                    <span\n                      style={{\n                        background: \"grey\",\n                      }}\n                    >\n                      {dataikuResult}\n                    </span>\n                  </th>\n                  <th>→</th>\n                  <th>\n                    <span\n                      style={{\n                        background: !isImproving ? \"red\" : \"green\",\n                      }}\n                    >\n                      {expResult}\n                    </span>\n                  </th>\n                  <th>\n                    {isImproving\n                      ? \"Vous avez amélioré cet indicateur\"\n                      : \"Vous avez dégradé cet indicateur\"}\n                  </th>\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n        {/* <div className=\"results-container\">\n          <div className=\"result-container\">\n            \n            <h3>{translate(\"first_model_dataiku\")}</h3>\n            <ul>\n              {metricsList.map(({ id, name, short_description }) => {\n                return (\n                  <li key={id}>\n                    <span className=\"label-container\">\n                      <code>\n                        {name} <InfoTip tip={short_description} />{\" \"}\n                      </code>\n                    </span>{\" \"}\n                    <span>{dataikuResults[id]}</span>\n                  </li>\n                );\n              })}\n            </ul>\n          </div>\n          <div className=\"result-container\">\n            <h3>{translate(\"second_model_choosen\")}</h3>\n            <ul>\n              {metricsList.map(({ id, name, short_description }) => {\n                const value =\n                  id === \"privacy\"\n                    ? -Object.keys(privacyVariables).filter(\n                        (f) => privacyVariables[f]\n                      ).length\n                    : choosenModel[id];\n                return (\n                  <li key={id}>\n                    <span className=\"label-container\">\n                      <code>\n                        {name} <InfoTip tip={short_description} />{\" \"}\n                      </code>\n                    </span>{\" \"}\n                    <span>{value}</span>\n                  </li>\n                );\n              })}\n            </ul>\n          </div>\n        </div> */}\n        <div>\n          <button onClick={() => downloadFile(csv, \"csv\", \"modeles_expe\")}>\n            {translate(\"download\")}\n          </button>\n        </div>\n      </div>\n      <div className=\"step-section\">\n        <h2>{translate(\"conclusion_history_title\")}</h2>\n        <History history={history} />\n      </div>\n\n      <div>\n        <button\n          onClick={() => {\n            resetApp();\n            setCurrentStep(STEP_METRICS_SORTING);\n          }}\n        >\n          {translate(\"restart\")}\n        </button>\n      </div>\n      <Tooltip />\n    </section>\n  );\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    ...ownProps,\n    ...state,\n    ...uiDuck.selector(state.ui),\n    ...dataDuck.selector(state.data),\n    ...historyDuck.selector(state.history),\n  };\n};\n\nconst mapDispatchToProps = (dispatch) =>\n  bindActionCreators(\n    {\n      ...uiDuck,\n      ...dataDuck,\n    },\n    dispatch\n  );\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ConclusionContainer);\n","import react, { useEffect } from \"react\"; /* eslint no-unused-vars : 0 */\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport Tooltip from \"react-tooltip\";\n\nimport * as uiDuck from \"../state/duckUi\";\nimport * as dataDuck from \"../state/duckData\";\nimport StepNav from \"../components/StepNav\";\n\nimport \"./GlobalContainer.scss\";\n\nimport StepContainer from \"../components/StepContainer\";\n\nimport HeaderContainer from \"./HeaderContainer\";\nimport DataikuIntroContainer from \"./DataikuIntroContainer\";\nimport EuLegislationContainer from \"./EuLegislationContainer\";\nimport MetricsIntroContainer from \"./MetricsIntroContainer\";\nimport MetricsOrderingContainer from \"./MetricsOrderingContainer\";\nimport MainChoiceContainer from \"./MainChoiceContainer\";\nimport SecondaryChoiceContainer from \"./SecondaryChoiceContainer\";\nimport ModelChoiceContainer from \"./ModelChoiceContainer\";\nimport ConclusionContainer from \"./ConclusionContainer\";\n\nimport {\n  STEP_HEADER,\n  STEP_DATAIKU_PRACTICE,\n  STEP_EU_LEGISLATION,\n  STEP_METRICS_EXPLANATION_0,\n  STEP_METRICS_EXPLANATION_1,\n  STEP_METRICS_EXPLANATION_2,\n  STEP_METRICS_EXPLANATION_3,\n  STEP_METRICS_EXPLANATION_4,\n  STEP_METRICS_EXPLANATION_5,\n  STEP_METRICS_SORTING,\n  STEP_MAIN_CHOICE,\n  STEP_SECONDARY_CHOICE_1,\n  STEP_SECONDARY_CHOICE_2,\n  STEP_MODEL_CHOICE,\n  STEP_DATAIKU_FEEDBACK,\n  STEP_CONCLUSION,\n} from \"../constants\";\nimport translate from \"../helpers/translate\";\n\nfunction GlobalContainer({\n  ui: { currentStep, metricsOrderIsValidated },\n  data: { filters, choosenModel },\n  setCurrentStep,\n  startApp,\n  getData,\n}) {\n  useEffect(() => {\n    startApp();\n    getData();\n  }, [startApp, getData]);\n\n  const steps = {\n    [STEP_HEADER]: {\n      renderStep: () => <HeaderContainer />,\n      title: translate(\"home\"),\n    },\n    [STEP_DATAIKU_PRACTICE]: {\n      renderStep: () => <DataikuIntroContainer />,\n      title: translate(\"intro-dataiku\"),\n    },\n    [STEP_EU_LEGISLATION]: {\n      renderStep: () => <EuLegislationContainer />,\n      title: translate(\"intro-eu\"),\n    },\n    [STEP_METRICS_SORTING]: {\n      renderStep: () => <MetricsOrderingContainer />,\n      title: translate(\"metrics-sorting\"),\n    },\n    [STEP_MAIN_CHOICE]: {\n      renderStep: () => <MainChoiceContainer />,\n      title: translate(\"main-choice\"),\n      disabled: !metricsOrderIsValidated,\n    },\n    [STEP_SECONDARY_CHOICE_1]: {\n      renderStep: () =>\n        Object.keys(filters).length < 2 ? null : (\n          <SecondaryChoiceContainer\n            metricsExtent={[2, 3]}\n            previousExtents={[[0, 1]]}\n          />\n        ),\n      title: translate(\"secondary-choice\") + \" 1\",\n      disabled: !metricsOrderIsValidated || Object.keys(filters).length < 2,\n    },\n    [STEP_SECONDARY_CHOICE_2]: {\n      renderStep: () =>\n        Object.keys(filters).length < 4 ? null : (\n          <SecondaryChoiceContainer\n            nextStep={STEP_MODEL_CHOICE}\n            previousExtents={[\n              [0, 1],\n              [2, 3],\n            ]}\n            metricsExtent={[3, 4]}\n          />\n        ),\n      title: translate(\"secondary-choice\") + \" 2\",\n      disabled: !metricsOrderIsValidated || Object.keys(filters).length < 4,\n    },\n    [STEP_MODEL_CHOICE]: {\n      renderStep: () =>\n        Object.keys(filters).length < 5 ? null : <ModelChoiceContainer />,\n      title: translate(\"model-choice\"),\n      disabled: !metricsOrderIsValidated || Object.keys(filters).length < 5,\n    },\n    [STEP_CONCLUSION]: {\n      renderStep: () => <ConclusionContainer />,\n      title: translate(\"conclusion\"),\n      disabled: !metricsOrderIsValidated || !choosenModel,\n    },\n  };\n  const metricsInfo = [\n    STEP_METRICS_EXPLANATION_0,\n    STEP_METRICS_EXPLANATION_1,\n    STEP_METRICS_EXPLANATION_2,\n    STEP_METRICS_EXPLANATION_3,\n    STEP_METRICS_EXPLANATION_4,\n    STEP_METRICS_EXPLANATION_5,\n  ];\n  metricsInfo.forEach((index) => {\n    steps[index] = {\n      renderStep: () => <MetricsIntroContainer />,\n      title: `${translate(\"intro-metrics\")} (${index + 1})`,\n    };\n  });\n  return (\n    <div className=\"container\">\n      {Object.entries(steps).map(([index, s]) => {\n        const { renderStep } = s;\n        return (\n          <StepContainer key={index} active={+index === currentStep}>\n            {renderStep()}\n          </StepContainer>\n        );\n      })}\n      <StepNav\n        {...{\n          currentStep,\n          setCurrentStep,\n          steps,\n        }}\n      />\n      <Tooltip id=\"tooltip\" />\n    </div>\n  );\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  ...ownProps,\n  ...state,\n  ...uiDuck.selector(state.ui),\n  ...dataDuck.selector(state.data),\n});\n\nconst mapDispatchToProps = (dispatch) =>\n  bindActionCreators(\n    {\n      ...uiDuck,\n      ...dataDuck,\n    },\n    dispatch\n  );\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GlobalContainer);\n","/**\n * Fonio Reducers Endpoint\n * ===================================\n *\n * Combining the app's reducers.\n */\nimport { combineReducers } from \"redux\";\nimport { rememberReducer } from \"redux-remember\";\nimport data from \"./duckData\";\nimport history from \"./duckHistory\";\nimport ui from \"./duckUi\";\n\nexport default rememberReducer(\n  combineReducers({\n    data,\n    history,\n    ui,\n  })\n);\n","/**\n * Promise middleware\n * ===================================\n * If a promise is passed in an action,\n * this middleware will resolve it and dispatch related actions names\n * (ACTION_NAME when started, then ACTION_NAME_SUCCESS or ACTION_NAME_FAIL depending on promise outcome)\n */\n\nconst promiseMiddleware = () => ({ dispatch, getState }) => (next) => (\n  action\n) => {\n  // If the action is a function, execute it\n  if (typeof action === \"function\") {\n    return action(dispatch, getState);\n  }\n\n  const { promise, type, ...rest } = action;\n\n  // If there is no promise in the action, ignore it\n  if (!promise) {\n    // pass the action to the next middleware\n    return next(action);\n  } else if (typeof promise !== \"function\" || !Promise.resolve(promise)) {\n    console.warn(\n      'passed an action with a \"promise\" prop which is not a promise function, action:',\n      action\n    ); /* eslint  no-console : 0 */\n    return next(action);\n  }\n  // build constants that will be used to dispatch actions\n  const REQUEST = `${type}_PENDING`;\n  const SUCCESS = `${type}_SUCCESS`;\n  const FAIL = `${type}_FAIL`;\n  const RESET = `${type}_RESET`;\n\n  /*\n   * Trigger the action once to dispatch\n   * the fact promise is starting resolving (for loading indication for instance)\n   */\n  next({ ...rest, type: REQUEST });\n  // resolve promise\n  return promise(dispatch, getState)\n    .then((result) => {\n      setTimeout(() => next({ ...rest, type: RESET }), 1000);\n      return next({ ...rest, result, type: SUCCESS });\n    })\n    .catch((error) => next({ ...rest, error, type: FAIL }));\n};\n\nexport default promiseMiddleware;\n","/* eslint import/no-webpack-loader-syntax: off */\nimport \"./App.scss\";\n\nimport { Provider } from \"react-redux\";\nimport { Helmet } from \"react-helmet\";\n\nimport Container from \"./containers/GlobalContainer\";\n\nimport configureStore from \"./state/store\";\nimport translate from \"./helpers/translate\";\n\nconst initialState = {};\n\nconst store = configureStore(initialState);\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <Helmet>\n        <title>{translate(\"site_title\")}</title>\n      </Helmet>\n      <Container />\n    </Provider>\n  );\n}\n\nexport default App;\n","/**\n * Fonio store configuration\n * ===================================\n * Configuring store with appropriate middlewares\n */\nimport { applyMiddleware, createStore, compose } from \"redux\";\nimport rootReducer from \"./rootReducer\";\nimport promiseMiddleware from \"./promiseMiddleware\";\nimport { rememberEnhancer } from \"redux-remember\";\n\n/**\n * Configures store with a possible inherited state and appropriate reducers\n * @param initialState - the state to use to bootstrap the reducer\n * @return {object} store - the configured store\n */\nexport default function configureStore(initialState = {}) {\n  // Compose final middleware with thunk and promises handling\n  const middleware = applyMiddleware(promiseMiddleware());\n  // Create final store and subscribe router in debug env ie. for devtools\n  const createStoreWithMiddleware = window.__REDUX_DEVTOOLS_EXTENSION__\n    ? compose(\n        // related middlewares\n        middleware,\n        // connection to redux dev tools\n        window.__REDUX_DEVTOOLS_EXTENSION__(),\n        rememberEnhancer(window.localStorage, [\"ui\", \"data\", \"history\"])\n      )(createStore)\n    : compose(\n        middleware,\n        rememberEnhancer(window.localStorage, [\"ui\", \"data\", \"history\"])\n      )(createStore);\n\n  const store = createStoreWithMiddleware(rootReducer, initialState);\n  return store;\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","module.exports = [{\"id\":\"age\",\"name\":\"age\",\"description\":null,\"relates_to_privacy\":true},{\"id\":\"credit_history\",\"name\":\"historique de crédit\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"foreign_worker\",\"name\":\"travailleur étranger\",\"description\":null,\"relates_to_privacy\":true},{\"id\":\"housing\",\"name\":\"logement\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"installment_as_income_perc\",\"name\":\"taux de versement du revenu disponible en pourcentage\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"other_debtors\",\"name\":\"autres débiteurs\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"personal._status\",\"name\":\"statut personnel\",\"description\":null,\"relates_to_privacy\":true},{\"id\":\"present_emp_since\",\"name\":\"emploi actuel depuis\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"property\",\"name\":\"propriétaire\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"telephone\",\"name\":\"téléphone\",\"description\":null,\"relates_to_privacy\":true},{\"id\":\"account_check_status\",\"name\":\"statut du compte\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"credits_this_bank\",\"name\":\"crédits précédents dans cette banque\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"other_installment_plans\",\"name\":\"autres plans d'installation\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"sex\",\"name\":\"sexe\",\"description\":null,\"relates_to_privacy\":true},{\"id\":\"credit_amount\",\"name\":\"montant du crédit\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"savings\",\"name\":\"épargnes\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"people_under_maintenance\",\"name\":\"personnes à charge\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"present_res_since\",\"name\":\"résidence actuelle depuis\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"job\",\"name\":\"emploi\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"duration_in_month\",\"name\":\"durée en mois\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"purpose\",\"name\":\"objectif\",\"description\":null,\"relates_to_privacy\":false}]","module.exports = {\"site_title\":\"Pratiques de l'IA\",\"step\":\"étape\",\"next_step\":\"continuer\",\"previous_step\":\"retour\",\"validate\":\"valider\",\"step_1_title\":\"Étape 1 : expérimentation avec dataiku\",\"step_2_title\":\"Étape 2 : la législation européenne\",\"step_3_title\":\"Étape 3 : mesurer l'éthique ?\",\"sort_screen_title\":\"Classer les indicateurs\",\"sort_screen_prompt\":\"Veuillez classer les indicateurs dans l'ordre qui vous semble être celui du plus important au moins important.\",\"sort_screen_prompt_details\":\"Vous pouvez faire glisser les cartes dans l'ordre désiré.\",\"main_choice_screen_title\":\"Sélectionner des modèles dans les deux dimensions les plus importantes\",\"main_choice_screen_intro\":\"Veuillez sélectionnez des modèles à partir des deux indicateurs que vous avez définis comme les plus importants.\",\"second_choice_screen_title\":\"Sélectionner des modèles dans les autres dimensions\",\"second_choice_screen_intro\":\"Veuillez sélectionnez des modèles à partir des filtrages précédents.\",\"model_choice_screen_title\":\"Choisir un modèle\",\"model_choice_screen_intro\":\"Veuillez sélectionnez le modèle qui correspond à vos préférences.\",\"dataiku_input_screen_title\":\"Avant de voir vos résultats, entrez les métriques de votre première expérience\",\"dataiku_input_screen_intro\":\"Veuillez renseigner les informations pour les métriques fournies.\",\"conclusion_screen_title\":\"Conclusion\",\"conclusion_results_title\":\"Votre évolution entre les étapes 1 et 2\",\"conclusion_history_title\":\"Votre cheminement\",\"restart\":\"Recommencer l'expérience\",\"navigated_to\":\"A navigué sur\",\"add_filters\":\"A ajouté des filtres pour les indicateurs\",\"app_header_view\":\"l'accueil\",\"dataiku_practice_view\":\"la vue dédiée à la phase d'expérimentation avec Heroku\",\"eu_legislation_view\":\"la vue dédiée à la legislation européenne\",\"metrics_explanation_view\":\"la vue dédiée à l'explication des indicateurs\",\"metrics_sorting_view\":\"la vue dédiée à l'ordonnancement des indicateurs\",\"main_filter_view\":\"la vue dédiée au filtre principal\",\"secondary_filter_view\":\"la vue dédiée au filtre secondaire\",\"tertiary_filter_view\":\"la vue dédiée au filtre tertiaire\",\"model_choice_view\":\"la vue dédiée au choix du modèle\",\"dataiku_feedback_view\":\"la vue dédiée à entrer les informations heroku\",\"conclusion_view\":\"la vue de conclusion\",\"set_choosen_model\":\"A choisi son modèle\",\"set_dataiku_results\":\"A entré les résultats obtenus via dataiku\",\"changed_metrics_order_to\":\"A changé l'ordre des indicateurs pour\",\"started_the_app\":\"A commencé l'expérimentation\",\"and\":\"et\",\"download\":\"télécharger\",\"download_history\":\"télécharger l'historique\",\"first_model_dataiku\":\"Premier modèle issu de l'expérience avec Dataiku\",\"second_model_choosen\":\"Second modèle issu de l'expérience avec cette interface\",\"performance\":\"Performance\",\"disparate_impact\":\"Disparate impact sur le genre\",\"errors_distribution\":\"Distribution des erreurs entre hommes et femmes\",\"privacy\":\"Privacy\",\"interpretability\":\"Interprétabilité\",\"dataiku_results_label\":\"Votre score issu de l'étape 1 réalisée avec Dataiku\",\"privacy_prompt\":\"Définissez les variables qui relèvent de la privacy selon vous\",\"home\":\"accueil\",\"intro-dataiku\":\"Étape 1 - expérience avec Dataiku\",\"intro-eu\":\"Principes de l'Union Européenne\",\"metrics-sorting\":\"Classement des métriques\",\"main-choice\":\"Arbitrage principal\",\"secondary-choice\":\"Arbitrage secondaire\",\"model-choice\":\"Choix du modèle\",\"conclusion\":\"Conclusion\",\"intro-metrics\":\"Introduction aux métriques\",\"show-descriptions\":\"remontrer les descriptions des métriques\",\"move_up\":\"remonter\",\"move_down\":\"descendre\",\"select_model\":\"sélectionner\"}"],"sourceRoot":""}