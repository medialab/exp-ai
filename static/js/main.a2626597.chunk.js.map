{"version":3,"sources":["contents/metrics_list.fr.yml","helpers/stateHelpers.js","helpers/client.js","state/duckData.js","state/duckUi.js","constants.js","components/StepNav.js","components/StepContainer.js","helpers/translate.js","components/ContinueButton.js","containers/HeaderContainer.js","contents/global_intro.md","helpers/misc.js","helpers/sorting.js","containers/MetricsOrderingContainer.js","components/InfoTip.js","components/MetricsCrossingIndicator.js","components/BrushableScatterPlot.js","components/VariableInputs.js","helpers/filters.js","components/FilterForm.js","helpers/hooks.js","containers/MainChoiceContainer.js","components/MiniGraph.js","containers/SecondaryChoiceContainer.js","containers/ModelChoiceContainer.js","state/duckHistory.js","helpers/download.js","components/History.js","components/DebouncedInput.js","containers/ConclusionContainer.js","containers/GlobalContainer.js","state/rootReducer.js","state/promiseMiddleware.js","App.js","state/store.js","reportWebVitals.js","index.js","contents/variables_list.fr.yml","contents/messages.fr.yml","worker.js"],"names":["module","exports","setPropInState","actionName","payload","state","varName","replace","toLowerCase","a","b","substr","toUpperCase","fetchData","Promise","resolve","reject","get","process","then","data","map","datum","id","variables","nom_modele","split","undefined","formatModels","csvParse","catch","GET_DATA","SET_METRICS_ORDER","SET_PRIVACY_VARIABLES","ADD_FILTERS","SET_CHOOSEN_MODEL","SET_DATAIKU_RESULTS","SET_PREVIOUS_MODEL","RESET_APP","resetApp","type","getData","promise","setMetricsOrder","setPrivacyVariables","addFilters","setChoosenModel","setDataikuResults","setPreviousModel","defaultPrivacyVariables","reduce","res","relates_to_privacy","DEFAULT_STATE","models","metricsOrder","metrics","filter","m","iteration","filters","choosenModel","dataikuResults","privacyVariables","previousModel","action","result","SET_METRICS_ORDER_IS_VALIDATED","selector","createStructuredSelector","SET_CURRENT_STEP","SET_ITERATION_NUMBER","SET_MAIN_CHOICE_IS_VALIDATED","START_APP","setCurrentStep","setMetricsOrderIsValidated","setMainChoiceIsValidated","setIterationNumber","startApp","currentStep","numberOfSteps","metricsOrderIsValidated","mainChoiceIsValidated","iterationNumber","ui","StepNav","steps","className","Object","entries","index","step","cx","active","disabled","onClick","data-for","data-tip","title","data-effect","data-place","StepContainer","children","style","otherProps","nodeRef","useRef","useEffect","setTimeout","document","querySelector","scrollTo","top","behavior","Transition","in","timeout","ref","translate","key","lang","messagesFr","console","warn","ContinueButton","onSetCurrentStep","onPreviousStep","backwardEnabled","onSubmit","submitMessage","relativePosition","props","e","preventDefault","stopPropagation","connect","ownProps","uiDuck","dispatch","bindActionCreators","source","metricsColorMap","color","reorder","list","startIndex","endIndex","Array","from","splice","removed","dataDuck","useState","displayDescriptions","setDisplayDescriptions","ReactTooltip","rebuild","onDragEnd","destination","items","droppableId","provided","snapshot","droppableProps","innerRef","isDraggingOver","item","handleDown","handleUp","draggableId","name","draggableProps","dragHandleProps","isDragging","background","length","short_description","placeholder","marginBottom","InfoTip","tip","dataEffect","MetricsCrossingIndicator","metric","BrushableScatterPlot","xVariable","yVariable","filteredVariables","width","height","axisMargin","padding","brush","x","xMinOriginal","xMaxOriginal","y","yMinOriginal","yMaxOriginal","onBrushChange","readOnly","minified","highlightedNodeId","xMin","xMax","setXRange","yMin","yMax","setYRange","numberOfTicks","xAccessor","d","vName","includes","yAccessor","xExtent","extent","yExtent","xScale","scaleLinear","domain","range","yScale","reverse","hoveredElement","setHoveredElement","tooltipPosition","setTooltipPosition","isBrushing","setIsBrushing","svgRef","handleMouseUp","toFixed","sort","onMouseDown","svgDims","current","getBoundingClientRect","thatX","invert","clientX","thatY","clientY","onMouseMove","onMouseUp","onMouseLeave","transform","axisPropsFromTickScale","orient","BOTTOM","LEFT","min","Math","abs","handleOvered","cy","onMouseEnter","r","left","val","parseFloat","join","Slider","createSliderWithTooltip","Range","Input","onChange","validate","value","localValue","setLocalValue","target","onBlur","VariableInputs","values","onRangeChange","max","axis","onLabelClick","isNaN","filterModels","model","variable","Dimensions","containerWidth","containerHeight","metric1","metric2","absoluteMin1","setAbsoluteMin1","absoluteMax2","setAbsoluteMax2","absoluteMin2","setAbsoluteMin2","absoluteMax1","setAbsoluteMax1","choosenMin1","setChoosenMin1","choosenMax2","setChoosenMax2","choosenMin2","setChoosenMin2","choosenMax1","setChoosenMax1","xOptionsVisible","setXOptionsVisible","yOptionsVisible","setYOptionsVisible","filteredModels","setFilteredModels","hasChoosen","setHasChoosen","fn","delay","handler","clearTimeout","useDebounce","theseFilters","absMin1","absMax1","absMin2","absMax2","thatMin","thatMax","thatXMin","thatXMax","thatYMin","thatYMax","paddingLeft","maxWidth","activeMetrics","i","slice","filter1","filter2","0","1","MiniGraph","to","onNav","fromName","toName","actuallyHighlitedNodeId","brushData","SLIDER_MULTIPLIER","handleRangeChange","val1","metricsList","find","min1","max1","val2","min2","max2","allowCross","tipFormatter","defaultValue","metricsExtent","fromMetric","toMetric","previousExtents","nextStep","keys","theseVariables","f","workerInstance","worker","colorScales","previousStep","selectedNodeId","setSelectedNodeId","sortMode","setSortMode","setHighlightedNodeId","visibleModels","setVisibleModels","displayFilter","setDisplayFilter","addEventListener","message","getVisibleModels","scale","onMouseOver","parseInt","data-html","history","date","Date","downloadFile","text","extension","fileName","blob","Blob","FileSaver","saveAs","serializeStep","actionsSerialization","description","new_order","variable1","range1","filter1_type","filter1_value","variable2","range2","filter2_type","filter2_value","choosen_model","History","renderAction","csv","resume","renderPayload","toLocaleTimeString","DebouncedInput","componentWillReceiveProps","nextProps","setState","debounce","handleChange","render","Component","historyDuck","thatId","variablesLists","el","metricsToCompare","previousValue","dataikuResult","isImproving","expResult","renderStep","SecondaryChoiceContainer","rememberReducer","combineReducers","promiseMiddleware","getState","next","rest","REQUEST","SUCCESS","FAIL","RESET","error","store","initialState","middleware","applyMiddleware","createStoreWithMiddleware","window","__REDUX_DEVTOOLS_EXTENSION__","compose","rememberEnhancer","localStorage","createStore","rootReducer","configureStore","App","Helmet","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById","addMethods","methods","w","Worker"],"mappings":"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","file":"static/js/main.a2626597.chunk.js","sourcesContent":["module.exports = [{\"name\":\"Performance\",\"id\":\"performance\",\"color\":\"#0096D1\",\"short_description\":\"L'AUC est un nombre entre 0 et 1 mesurant la performance de l'algorithme. Un algorithme performant possède un AUC proche de 1. Comme traditionnellement dans l’industrie du Machine Learning, on supposera que le data scientist banquier est d’abord incité sur le critère de la performance de son algorithme car l’AUC est proportionnel au gain financier procuré par l’algorithme.\",\"iteration\":0},{\"name\":\"Disparate impact (femmes/hommes)\",\"id\":\"fairness_disparate_impact\",\"color\":\"#984F0E\",\"short_description\":\"il s’agit du ratio du pourcentage d’acceptation du crédit chez les femmes sur le pourcentage d’acceptation chez les hommes. Lorsque ce ratio est égal à 1, on considérera qu’il n’y pas d’effet disparate entre les hommes et les femmes. La règle des 80% est utilisée par le droit américain pour détecter des effets discriminants : si le ratio du disparate impact est en-dessous de 80% alors on dira qu'il y a effet disparate entre hommes et femmes.\",\"iteration\":0},{\"name\":\"Interprétabilité\",\"id\":\"interpretability\",\"color\":\"#ECC0A5\",\"type\":\"integer\",\"short_description\":\"Selon la législation (RGPD), les demandeurs ont le droit d'exiger une explication des décisions. On considèrera que l’opposé du nombre total de variables dans le modèle comme un proxy de l’interprétabilité des algorithmes. En effet, des explications avec 20 variables seront beaucoup plus difficiles à fournir qu’une explication avec 5 variables.\",\"iteration\":0},{\"name\":\"Disparate impact (travailleur étranger)\",\"id\":\"disparate_impact_foreign\",\"color\":\"#8D5F5B\",\"short_description\":\"il s’agit du ratio du pourcentage d’acceptation du crédit chez les travailleurs étrangers sur le pourcentage d’acceptation chez les travailleurs non-étrangers. Lorsque ce ratio est égal à 1, on considérera qu’il n’y pas d’effet disparate entre les hommes et les femmes. La règle des 80% est utilisée par le droit américain pour détecter des effets discriminants : si le ratio du disparate impact est en-dessous de 80% alors on dira qu'il y a effet disparate entre hommes et femmes.\",\"iteration\":1}]","export const setPropInState = (actionName, payload, state) => {\n  const varName = actionName\n    .replace(\"SET_\", \"\")\n    .toLowerCase()\n    .replace(/(_[a-z])/gi, (a, b) => b.substr(1).toUpperCase());\n  return {\n    ...state,\n    [varName]: payload,\n  };\n};\n","import get from \"axios\";\nimport { csvParse } from \"d3-dsv\";\n\nconst formatModels = (data) => {\n  return data.map((datum, id) => {\n    return {\n      ...datum,\n      variables: datum.nom_modele.split(\" \"),\n      nom_modele: undefined,\n      id,\n    };\n  });\n};\n\nexport const fetchData = () =>\n  new Promise((resolve, reject) => {\n    get(`${process.env.PUBLIC_URL}/models-sample.csv`)\n      .then(({ data }) => {\n        resolve(formatModels(csvParse(data)));\n      })\n      .catch(reject);\n  });\n","// import { combineReducers } from 'redux';\nimport { createStructuredSelector } from \"reselect\";\nimport { fetchData } from \"../helpers/client\";\nimport { setPropInState } from \"../helpers/stateHelpers\";\n\nimport metrics from \"../contents/metrics_list.fr.yml\";\nimport variables from \"../contents/variables_list.fr.yml\";\n\n/**\n * ACTION NAMES\n */\nimport { SET_METRICS_ORDER_IS_VALIDATED } from \"./duckUi\";\nconst GET_DATA = \"GET_DATA\";\nexport const SET_METRICS_ORDER = \"SET_METRICS_ORDER\";\nexport const SET_PRIVACY_VARIABLES = \"SET_PRIVACY_VARIABLES\";\nexport const ADD_FILTERS = \"ADD_FILTERS\";\nexport const SET_CHOOSEN_MODEL = \"SET_CHOOSEN_MODEL\";\nexport const SET_DATAIKU_RESULTS = \"SET_DATAIKU_RESULTS\";\nexport const SET_PREVIOUS_MODEL = \"SET_PREVIOUS_MODEL\";\nexport const RESET_APP = \"RESET_APP\";\n\n/**\n * ACTION FUNCTIONS\n */\nexport const resetApp = () => ({\n  type: RESET_APP,\n});\nexport const getData = (payload) => ({\n  type: GET_DATA,\n  payload,\n  promise: () => fetchData(),\n});\n\nexport const setMetricsOrder = (payload) => ({\n  type: SET_METRICS_ORDER,\n  payload,\n});\n\nexport const setPrivacyVariables = (payload) => ({\n  type: SET_PRIVACY_VARIABLES,\n  payload,\n});\n\nexport const addFilters = (payload) => ({\n  type: ADD_FILTERS,\n  payload,\n});\n\nexport const setChoosenModel = (payload) => ({\n  type: SET_CHOOSEN_MODEL,\n  payload,\n});\n\nexport const setDataikuResults = (payload) => ({\n  type: SET_DATAIKU_RESULTS,\n  payload,\n});\n\nexport const setPreviousModel = (payload) => ({\n  type: SET_PREVIOUS_MODEL,\n  payload,\n});\n\n/**\n * REDUCER\n */\nconst defaultPrivacyVariables = variables.reduce(\n  (res, { relates_to_privacy, id }) => ({\n    ...res,\n    [id]: relates_to_privacy,\n  }),\n  {}\n);\n\nconst DEFAULT_STATE = {\n  models: [],\n  metricsOrder: [...metrics.filter((m) => m.iteration === 0)],\n  filters: {},\n  choosenModel: undefined,\n  dataikuResults: {},\n  privacyVariables: defaultPrivacyVariables,\n  previousModel: undefined,\n};\n\nfunction data(state = DEFAULT_STATE, action) {\n  const { payload, result } = action;\n  switch (action.type) {\n    case RESET_APP:\n      return {\n        ...DEFAULT_STATE,\n        models: state.models,\n      };\n    case `${GET_DATA}`:\n      return state;\n    case `${GET_DATA}_SUCCESS`:\n      return {\n        ...state,\n        models: result,\n      };\n    case `${GET_DATA}_ERROR`:\n      return state;\n    case SET_PRIVACY_VARIABLES:\n    case SET_METRICS_ORDER:\n    case SET_PREVIOUS_MODEL:\n      return setPropInState(action.type, payload, state);\n    case ADD_FILTERS:\n      return {\n        ...state,\n        filters: {\n          ...state.filters,\n          ...payload,\n        },\n      };\n    // reset filters cases\n    case SET_METRICS_ORDER_IS_VALIDATED:\n      return {\n        ...state,\n        filters: DEFAULT_STATE.filters,\n      };\n    case SET_DATAIKU_RESULTS:\n    case SET_CHOOSEN_MODEL:\n      return setPropInState(action.type, payload, state);\n    default:\n      return state;\n  }\n}\n\n// export default combineReducers({data, ...})\nexport default data;\n\n/**\n * SELECTOR\n */\n\nconst models = (state) => state.models;\nconst metricsOrder = (state) => state.metricsOrder;\nconst filters = (state) => state.filters;\nconst choosenModel = (state) => state.choosenModel;\nconst dataikuResults = (state) => state.dataikuResults;\nconst privacyVariables = (state) => state.privacyVariables;\nconst previousModel = (state) => state.previousModel;\n\nexport const selector = createStructuredSelector({\n  models,\n  metricsOrder,\n  filters,\n  choosenModel,\n  dataikuResults,\n  privacyVariables,\n  previousModel,\n});\n","// import { combineReducers } from 'redux';\nimport { createStructuredSelector } from \"reselect\";\nimport { setPropInState } from \"../helpers/stateHelpers\";\nimport { STEP_CONCLUSION } from \"../constants\";\n/**\n * ACTION NAMES\n */\nimport { SET_METRICS_ORDER, RESET_APP } from \"./duckData\";\nexport const SET_CURRENT_STEP = \"SET_CURRENT_STEP\";\nexport const SET_ITERATION_NUMBER = \"SET_ITERATION_NUMBER\";\nexport const SET_METRICS_ORDER_IS_VALIDATED = \"SET_METRICS_ORDER_IS_VALIDATED\";\nexport const SET_MAIN_CHOICE_IS_VALIDATED = \"SET_MAIN_CHOICE_IS_VALIDATED\";\nexport const START_APP = \"START_APP\";\n\n/**\n * ACTION FUNCTIONS\n */\nexport const setCurrentStep = (payload) => ({\n  type: SET_CURRENT_STEP,\n  payload,\n});\n\nexport const setMetricsOrderIsValidated = (payload) => ({\n  type: SET_METRICS_ORDER_IS_VALIDATED,\n  payload,\n});\nexport const setMainChoiceIsValidated = (payload) => ({\n  type: SET_MAIN_CHOICE_IS_VALIDATED,\n  payload,\n});\nexport const setIterationNumber = (payload) => ({\n  type: SET_ITERATION_NUMBER,\n  payload,\n});\n\nexport const startApp = (payload) => ({\n  type: START_APP,\n  payload,\n});\n\n/**\n * REDUCER\n */\nconst DEFAULT_STATE = {\n  currentStep: 0,\n  numberOfSteps: STEP_CONCLUSION,\n  metricsOrderIsValidated: false,\n  mainChoiceIsValidated: false,\n  iterationNumber: 0,\n};\n\nfunction ui(state = DEFAULT_STATE, action) {\n  const { payload } = action;\n  switch (action.type) {\n    case RESET_APP:\n      return DEFAULT_STATE;\n    case SET_CURRENT_STEP:\n    case SET_ITERATION_NUMBER:\n      return setPropInState(action.type, payload, state);\n    case SET_METRICS_ORDER_IS_VALIDATED:\n      return {\n        ...state,\n        metricsOrderIsValidated: payload,\n        mainChoiceIsValidated: payload ? state.mainChoiceIsValidated : false,\n      };\n    case SET_MAIN_CHOICE_IS_VALIDATED:\n      return {\n        ...state,\n        mainChoiceIsValidated: payload,\n      };\n    case SET_METRICS_ORDER:\n      return {\n        ...state,\n        metricsOrderIsValidated: false,\n      };\n    default:\n      return state;\n  }\n}\n\n// export default combineReducers({data, ...})\nexport default ui;\n\n/**\n * SELECTOR\n */\n\nconst currentStep = (state) => state.currentStep;\nconst numberOfSteps = (state) => state.numberOfSteps;\nconst metricsOrderIsValidated = (state) => state.metricsOrderIsValidated;\nconst mainChoiceIsValidated = (state) => state.mainChoiceIsValidated;\nconst iterationNumber = (state) => state.iterationNumber;\n\nexport const selector = createStructuredSelector({\n  currentStep,\n  numberOfSteps,\n  metricsOrderIsValidated,\n  mainChoiceIsValidated,\n  iterationNumber,\n});\n","// export const STEP_HEADER = 0;\n// export const STEP_DATAIKU_PRACTICE = 1;\n// export const STEP_EU_LEGISLATION = 2;\n\n// export const STEP_METRICS_EXPLANATION_0 = 3;\n// export const STEP_METRICS_EXPLANATION_1 = 4;\n// export const STEP_METRICS_EXPLANATION_2 = 5;\n// export const STEP_METRICS_EXPLANATION_3 = 6;\n// export const STEP_METRICS_EXPLANATION_4 = 7;\n// export const STEP_METRICS_EXPLANATION_5 = 8;\n\n// export const STEP_METRICS_SORTING = 9;\n// export const STEP_MAIN_CHOICE = 10;\n// export const STEP_SECONDARY_CHOICE_1 = 11;\n// export const STEP_SECONDARY_CHOICE_2 = 12;\n// export const STEP_MODEL_CHOICE = 13;\n// export const STEP_CONCLUSION = 14;\n\nexport const STEP_HEADER = 0;\n// export const STEP_DATAIKU_PRACTICE = 1;\n\n// export const STEP_EU_LEGISLATION = 2;\n\n// export const STEP_METRICS_EXPLANATION_0 = 3;\n// export const STEP_METRICS_EXPLANATION_1 = 4;\n// export const STEP_METRICS_EXPLANATION_2 = 5;\n// export const STEP_METRICS_EXPLANATION_3 = 6;\n// export const STEP_METRICS_EXPLANATION_4 = 7;\n// export const STEP_METRICS_EXPLANATION_5 = 8;\n\nexport const STEP_METRICS_SORTING = 1;\nexport const STEP_MAIN_CHOICE = 2;\nexport const STEP_SECONDARY_CHOICE_1 = 3;\nexport const STEP_SECONDARY_CHOICE_2 = 4;\nexport const STEP_SECONDARY_CHOICE_3 = 5;\nexport const STEP_MODEL_CHOICE = 6;\nexport const STEP_CONCLUSION = 7;\n/**\n * Number of decimals after comma for indicators brushes\n */\nexport const DECIMALS = 2;\n","import React, {\n  useState,\n  useMemo,\n} from \"react\"; /* eslint no-unused-vars : 0 */\nimport cx from \"classnames\";\n\nimport \"./StepNav.scss\";\n\nfunction StepNav({ currentStep, setCurrentStep, steps }) {\n  return (\n    <nav className=\"step-nav\">\n      <ul className=\"step-nav-items-container\">\n        {Object.entries(steps).map(([index, step]) => (\n          <li\n            className={cx(\"step-nav-item\", {\n              active: +index === currentStep,\n              disabled: step.disabled,\n            })}\n            onClick={() => setCurrentStep(+index)}\n            key={index}\n            data-for=\"tooltip\"\n            data-tip={step.title}\n            data-effect=\"solid\"\n            data-place=\"left\"\n          />\n        ))}\n      </ul>\n    </nav>\n  );\n}\n\nexport default StepNav;\n","import react, {\n  useRef,\n  useEffect,\n} from \"react\"; /* eslint no-unused-vars : 0 */\nimport { Transition } from \"react-transition-group\";\nimport cx from \"classnames\";\n\nimport \"./StepContainer.scss\";\n\nconst visibleStyle = {\n  opacity: 1,\n  maxHeight: \"calc(100vh - 4rem)\",\n  minHeight: \"calc(100vh - 4rem)\",\n};\nconst hiddenStyle = {\n  opacity: 0,\n  maxHeight: 0,\n  minHeight: 0,\n};\n\nconst transitionStyles = {\n  entering: visibleStyle,\n  entered: visibleStyle,\n  exiting: hiddenStyle,\n  exited: hiddenStyle,\n};\nconst duration = 300;\n\nfunction StepContainer({ children, active, style = {}, ...otherProps }) {\n  const nodeRef = useRef(null);\n  useEffect(() => {\n    if (active) {\n      setTimeout(() => {\n        document.querySelector(\"html\").scrollTo({\n          top: 0,\n          behavior: \"smooth\",\n        });\n      }, 500);\n    }\n  }, [active]);\n  return (\n    <Transition nodeRef={nodeRef} in={active} timeout={duration}>\n      {(state) => (\n        <div\n          className={cx(\"step-container\", state)}\n          ref={nodeRef}\n          {...otherProps}\n          style={{\n            ...style,\n            // ...transitionStyles[state],\n          }}\n        >\n          {children}\n        </div>\n      )}\n    </Transition>\n  );\n}\n\nexport default StepContainer;\n","import messagesFr from \"../contents/messages.fr.yml\";\n\nfunction translate(key, lang = \"fr\") {\n  if (lang === \"fr\") {\n    if (!messagesFr[key]) {\n      console.warn(\"unstranslated key: \", key);\n    }\n    return messagesFr[key] || key;\n  }\n}\n\nexport default translate;\n","import React from \"react\"; /* eslint no-unused-vars : 0 */\nimport translate from \"../helpers/translate\";\nimport cx from \"classnames\";\n\nfunction ContinueButton({\n  currentStep,\n  onSetCurrentStep,\n  onPreviousStep,\n  disabled,\n  backwardEnabled,\n  onSubmit,\n  submitMessage,\n  relativePosition,\n  ...props\n}) {\n  const onNext = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (typeof onSubmit === \"function\") {\n      onSubmit();\n    } else {\n      onSetCurrentStep(currentStep + 1);\n    }\n  };\n  const onPrevious = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (typeof onPreviousStep === \"function\") {\n      onPreviousStep();\n    } else {\n      onSetCurrentStep(currentStep - 1);\n    }\n  };\n  return (\n    <div\n      className={cx(\"continue-button-container\", {\n        \"backward-enabled\": backwardEnabled,\n        \"relative-position\": relativePosition,\n      })}\n    >\n      <button\n        disabled={disabled}\n        onClick={onNext}\n        className=\"continue-button next\"\n        {...props}\n        type=\"button\"\n      >\n        {submitMessage || translate(\"next_step\")}\n      </button>\n\n      {backwardEnabled ? (\n        <button\n          onClick={onPrevious}\n          className=\"continue-button previous\"\n          type=\"button\"\n        >\n          {translate(\"previous_step\")}\n        </button>\n      ) : null}\n    </div>\n  );\n}\n\nexport default ContinueButton;\n","/* eslint import/no-webpack-loader-syntax: off */\nimport react from \"react\"; /* eslint no-unused-vars : 0 */\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport Md from \"react-markdown\";\n\nimport translate from \"../helpers/translate\";\n\nimport * as uiDuck from \"../state/duckUi\";\n\nimport intro from \"!!raw-loader!../contents/global_intro.md\";\n\nimport ContinueButton from \"../components/ContinueButton\";\n// import { STEP_DATAIKU_PRACTICE } from \"../constants\";\nimport { STEP_METRICS_SORTING } from \"../constants\";\n\nfunction HeaderContainer({ setCurrentStep }) {\n  return (\n    <header className=\"header contents-wrapper\">\n      <div className=\"contents-container\">\n        <h1 className=\"header-title\">{translate(\"site_title\")}</h1>\n        <div className=\"emphasis\">\n          <Md source={intro} />\n        </div>\n      </div>\n      <ContinueButton onClick={() => setCurrentStep(STEP_METRICS_SORTING)} />\n    </header>\n  );\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  ...ownProps,\n  ...state,\n  ...uiDuck.selector(state.ui),\n});\n\nconst mapDispatchToProps = (dispatch) =>\n  bindActionCreators(\n    {\n      ...uiDuck,\n    },\n    dispatch\n  );\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderContainer);\n","export default \"Vous participez à une enquête dans le cadre de la conception d’un outil de Machine Learning. Cette enquête est réalisée par l’Institut Mines-Télécom et Sciences Po dans le cadre d’un travail de recherche.\\n\";","import metrics from \"../contents/metrics_list.fr.yml\";\nexport const metricsColorMap = metrics.reduce(\n  (res, { id, color }) => ({\n    ...res,\n    [id]: color,\n  }),\n  {}\n);\n","// a little function to help us with reordering the result\nexport const reorder = (list, startIndex, endIndex) => {\n  const result = Array.from(list);\n  const [removed] = result.splice(startIndex, 1);\n  result.splice(endIndex, 0, removed);\n\n  return result;\n};\n\nconst grid = 8;\n\nexport const getItemStyle = (isDragging, draggableStyle) => ({\n  // some basic styles to make the items look a bit nicer\n  userSelect: \"none\",\n  padding: grid * 2,\n  margin: `0 0 ${grid}px 0`,\n\n  // change background colour if dragging\n  background: isDragging ? \"lightgreen\" : \"grey\",\n\n  // styles we need to apply on draggables\n  ...draggableStyle,\n});\n\nexport const getListStyle = (isDraggingOver) => ({\n  background: isDraggingOver ? \"lightblue\" : \"lightgrey\",\n  padding: grid,\n  width: 250,\n});\n","import react, {\n  useState,\n  useEffect,\n} from \"react\"; /* eslint no-unused-vars : 0 */\n\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport cx from \"classnames\";\nimport translate from \"../helpers/translate\";\n\nimport { metricsColorMap } from \"../helpers/misc\";\n\nimport * as uiDuck from \"../state/duckUi\";\nimport * as dataDuck from \"../state/duckData\";\n\nimport { reorder } from \"../helpers/sorting\";\nimport { STEP_MAIN_CHOICE, STEP_METRICS_SORTING } from \"../constants\";\nimport ContinueButton from \"../components/ContinueButton\";\nimport ReactTooltip from \"react-tooltip\";\n\n// import metrics from \"../contents/metrics_list.fr.yml\";\nfunction MetricsOrderingContainer({\n  ui: { metricsOrderIsValidated, iterationNumber },\n  data: { metricsOrder },\n  setCurrentStep,\n  setMetricsOrder,\n  setMetricsOrderIsValidated,\n  currentStep,\n}) {\n  const [displayDescriptions, setDisplayDescriptions] = useState(false);\n  useEffect(() => {\n    setTimeout(() => ReactTooltip.rebuild());\n  }, [currentStep]);\n  const onDragEnd = (result) => {\n    // dropped outside the list\n    if (!result.destination) {\n      return;\n    }\n    const items = reorder(\n      metricsOrder,\n      result.source.index,\n      result.destination.index\n    );\n\n    setMetricsOrder(items);\n  };\n\n  const handleValidateOrder = () => {\n    setMetricsOrderIsValidated(true);\n    setCurrentStep(STEP_MAIN_CHOICE);\n  };\n  return (\n    <section className=\"sort-screen\">\n      <h1 className=\"step-title\">{translate(\"sort_screen_title\")}</h1>\n      <p className=\"instructions\">{translate(\"sort_screen_prompt\")}</p>\n      <p className=\"instructions more-instructions\">\n        {translate(\"sort_screen_prompt_details\")}\n      </p>\n      <DragDropContext onDragEnd={onDragEnd}>\n        <Droppable droppableId=\"droppable\">\n          {(provided, snapshot) => (\n            <div\n              {...provided.droppableProps}\n              ref={provided.innerRef}\n              className={cx(\"draggable-list\", {\n                \"is-dragging\": snapshot.isDraggingOver,\n              })}\n            >\n              {metricsOrder.map((item, index) => {\n                const handleDown = () => {\n                  const items = reorder(metricsOrder, index, index + 1);\n                  setMetricsOrder(items);\n                };\n                const handleUp = () => {\n                  const items = reorder(metricsOrder, index, index - 1);\n                  setMetricsOrder(items);\n                };\n                return (\n                  <Draggable\n                    key={item.name}\n                    draggableId={item.name}\n                    index={index}\n                  >\n                    {(provided, snapshot) => (\n                      <div\n                        ref={provided.innerRef}\n                        {...provided.draggableProps}\n                        {...provided.dragHandleProps}\n                        className={cx(\"draggable-item\", {\n                          \"is-dragged\": snapshot.isDragging,\n                        })}\n                        style={\n                          provided.draggableProps\n                            .style /*getItemStyle(\n                        snapshot.isDragging,\n                        provided.draggableProps.style\n                      )*/\n                        }\n                      >\n                        <h3 className=\"sortable-title\">\n                          <span>\n                            <span\n                              className=\"number-indicator\"\n                              style={{\n                                background: metricsColorMap[item.id],\n                              }}\n                            >\n                              <span>{index + 1}</span>\n                            </span>\n                          </span>\n                          <span\n                            className={cx(\"move-btn first\", {\n                              \"is-disabled\": index === metricsOrder.length - 1,\n                            })}\n                            data-for=\"sorting\"\n                            data-tip={translate(\"move_down\")}\n                            data-place=\"top\"\n                            data-effect=\"solid\"\n                            onClick={handleDown}\n                          >\n                            <span>\n                              <span>▼</span>\n                            </span>\n                          </span>\n                          <span\n                            className={cx(\"move-btn last\", {\n                              \"is-disabled\": index === 0,\n                            })}\n                            data-for=\"sorting\"\n                            data-tip={translate(\"move_up\")}\n                            data-place=\"top\"\n                            data-effect=\"solid\"\n                            onClick={handleUp}\n                          >\n                            <span>\n                              <span>▲</span>\n                            </span>\n                          </span>\n                          <span className=\"main-title\">{item.name} </span>\n                          <p\n                            className={cx(\"metrics-description\", {\n                              \"is-visible\": displayDescriptions,\n                            })}\n                          >\n                            {item.short_description}\n                          </p>\n                        </h3>\n                        <ReactTooltip id=\"sorting\" />\n                      </div>\n                    )}\n                  </Draggable>\n                );\n              })}\n              {provided.placeholder}\n            </div>\n          )}\n        </Droppable>\n      </DragDropContext>\n      <div style={{ marginBottom: \"2rem\" }}>\n        <button\n          className={cx({ \"is-active\": displayDescriptions })}\n          onClick={() => setDisplayDescriptions(!displayDescriptions)}\n        >\n          {translate(\"show-descriptions\")}\n        </button>\n      </div>\n\n      <ContinueButton\n        currentStep={currentStep}\n        onSetCurrentStep={setCurrentStep}\n        disabled={metricsOrderIsValidated}\n        onSubmit={handleValidateOrder}\n        submitMessage={translate(\"validate\")}\n        relativePosition\n        backwardEnabled\n      />\n    </section>\n  );\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  ...ownProps,\n  ...state,\n  ...uiDuck.selector(state.ui),\n  ...dataDuck.selector(state.data),\n});\n\nconst mapDispatchToProps = (dispatch) =>\n  bindActionCreators(\n    {\n      ...uiDuck,\n      ...dataDuck,\n    },\n    dispatch\n  );\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MetricsOrderingContainer);\n","import react from \"react\"; /* eslint no-unused-vars : 0 */\nimport \"./InfoTip.scss\";\nfunction InfoTip({ tip, ...props }) {\n  return (\n    <span\n      className=\"info-tip\"\n      data-effect={props.dataEffect || \"solid\"}\n      data-tip={tip}\n      {...props}\n    >\n      <span>?</span>\n    </span>\n  );\n}\nexport default InfoTip;\n","import React from \"react\"; /* eslint no-unused-vars : 0 */\nimport cx from \"classnames\";\nimport Tooltip from \"react-tooltip\";\n\nimport { metricsColorMap } from \"../helpers/misc\";\n\nimport \"./MetricsCrossingIndicator.scss\";\nimport InfoTip from \"./InfoTip\";\n\nfunction MetricsCrossingIndicator({ metrics }) {\n  return (\n    <div className=\"metrics-crossing-indicator\">\n      <ul className=\"crossing-indicator-items\">\n        {metrics.map((metric) => (\n          <li\n            className={cx(\"crossing-indicator-item\", { active: metric.active })}\n            key={metric.name}\n            style={{\n              background: metricsColorMap[metric.id],\n            }}\n          >\n            {metric.name}{\" \"}\n            <InfoTip\n              data-place=\"right\"\n              data-effect=\"solid\"\n              tip={metric.short_description}\n            />\n          </li>\n        ))}\n      </ul>\n      <Tooltip />\n    </div>\n  );\n}\n\nexport default MetricsCrossingIndicator;\n","import react, {\n  useEffect,\n  useRef,\n  useState,\n} from \"react\"; /* eslint no-unused-vars : 0 */\nimport { extent, min } from \"d3-array\";\nimport { scaleLinear } from \"d3-scale\";\nimport cx from \"classnames\";\nimport { Axis, axisPropsFromTickScale, LEFT, BOTTOM } from \"react-d3-axis\";\n\nimport metrics from \"../contents/metrics_list.fr.yml\";\n\nimport { DECIMALS } from \"../constants\";\n\nimport \"./BrushableScatterPlot.scss\";\n\nfunction BrushableScatterPlot({\n  data,\n  xVariable,\n  yVariable,\n  filteredVariables,\n  width = 500,\n  height = 500,\n  axisMargin = 30,\n  padding = 10,\n  brush: {\n    x: [xMinOriginal, xMaxOriginal],\n    y: [yMinOriginal, yMaxOriginal],\n  },\n  onBrushChange,\n  readOnly = false,\n  minified = false,\n  highlightedNodeId,\n\n  ...props\n}) {\n  const [[xMin, xMax], setXRange] = useState([xMinOriginal, xMaxOriginal]);\n  const [[yMin, yMax], setYRange] = useState([yMinOriginal, yMaxOriginal]);\n  const numberOfTicks = minified ? 3 : 10;\n  useEffect(() => {\n    setXRange([xMinOriginal, xMaxOriginal]);\n    setYRange([yMinOriginal, yMaxOriginal]);\n  }, [xMinOriginal, xMaxOriginal, yMinOriginal, yMaxOriginal]);\n  const xAccessor = (d) =>\n    xVariable === \"Privacy\"\n      ? -d.variables.filter((vName) => filteredVariables.includes(vName)).length\n      : +d[xVariable];\n  const yAccessor = (d) =>\n    yVariable === \"Privacy\"\n      ? -d.variables.filter((vName) => filteredVariables.includes(vName)).length\n      : +d[yVariable];\n  let xExtent = extent(data, xAccessor);\n  let yExtent = extent(data, yAccessor);\n  const xScale = scaleLinear()\n    .domain(xExtent)\n    .range([axisMargin + padding, width - padding]);\n\n  const yScale = scaleLinear()\n    .domain(yExtent.reverse())\n    .range([padding, height - axisMargin - padding]);\n\n  const [hoveredElement, setHoveredElement] = useState(undefined);\n  const [tooltipPosition, setTooltipPosition] = useState([0, 0]);\n  const [isBrushing, setIsBrushing] = useState(false);\n\n  const svgRef = useRef(null);\n\n  const handleMouseDown = (e) => {\n    if (readOnly) return;\n    setIsBrushing(true);\n    setHoveredElement(undefined);\n    const svgDims = svgRef.current.getBoundingClientRect();\n    const thatX = xScale.invert(e.clientX - svgDims.x);\n    const thatY = yScale.invert(e.clientY - svgDims.y);\n    setXRange([thatX, thatX]);\n    setYRange([thatY, thatY]);\n  };\n\n  const handleMouseMove = (e) => {\n    if (readOnly) return;\n    if (isBrushing) {\n      const svgDims = svgRef.current.getBoundingClientRect();\n      const thatX = xScale.invert(e.clientX - svgDims.x);\n      const thatY = yScale.invert(e.clientY - svgDims.y);\n      setXRange([xMin, thatX]);\n      setYRange([yMin, thatY]);\n    }\n  };\n\n  const handleMouseUp = () => {\n    if (readOnly) return;\n    if (isBrushing && xMin !== xMax && yMin !== yMax) {\n      onBrushChange({\n        x: [\n          +xMin.toFixed ? +xMin.toFixed(DECIMALS) : +xMin,\n          +xMax.toFixed ? +xMax.toFixed(DECIMALS) : +xMax,\n        ].sort(),\n        y: [\n          +yMin.toFixed ? +yMin.toFixed(DECIMALS) : +yMin,\n          +yMax.toFixed ? +yMax.toFixed(DECIMALS) : +yMax,\n        ].sort(),\n      });\n    } else {\n      setXRange([xMinOriginal, xMaxOriginal]);\n      setYRange([yMinOriginal, yMaxOriginal]);\n    }\n    setIsBrushing(false);\n  };\n\n  return (\n    <div className=\"brushable-scatterplot-container\" {...props}>\n      <svg\n        width={width}\n        height={height}\n        ref={svgRef}\n        className={cx(\"brushable-scatterplot\", {\n          \"is-brushing\": isBrushing,\n          \"is-readonly\": readOnly,\n          \"is-minified\": minified,\n        })}\n        onMouseDown={handleMouseDown}\n        onMouseMove={handleMouseMove}\n        onMouseUp={handleMouseUp}\n        onMouseLeave={handleMouseUp}\n      >\n        <g\n          transform={`translate(0, ${height - axisMargin - padding})`}\n          className=\"x-axis\"\n        >\n          <Axis\n            {...axisPropsFromTickScale(xScale, numberOfTicks)}\n            style={{ orient: BOTTOM }}\n          />\n        </g>\n        <g\n          transform={`translate(${axisMargin + padding}, 0)`}\n          className=\"y-axis\"\n        >\n          <Axis\n            {...axisPropsFromTickScale(yScale, numberOfTicks)}\n            style={{ orient: LEFT }}\n          />\n        </g>\n        {xMin && xMax && yMin && yMax ? (\n          <rect\n            x={xScale(min([xMin, xMax]))}\n            y={\n              yScale(min([yMin, yMax])) - Math.abs(yScale(yMax) - yScale(yMin))\n            }\n            width={Math.abs(xScale(xMax) - xScale(xMin))}\n            height={Math.abs(yScale(yMax) - yScale(yMin))}\n            className=\"brush\"\n          />\n        ) : null}\n        <g className=\"chart\">\n          {data.map((datum, index) => {\n            const handleOvered = () => {\n              if (\n                !readOnly &&\n                !minified &&\n                !isBrushing &&\n                (!hoveredElement || hoveredElement.id !== datum.id)\n              ) {\n                setHoveredElement(datum);\n                setTooltipPosition([\n                  10 + xScale(xAccessor(datum)),\n                  yScale(yAccessor(datum)),\n                ]);\n              }\n            };\n            const handleLeave = () => {\n              if (\n                !readOnly &&\n                !minified &&\n                !isBrushing &&\n                hoveredElement &&\n                hoveredElement.id === datum.id\n              ) {\n                setHoveredElement(undefined);\n              }\n            };\n            const x = xAccessor(datum);\n            const y = yAccessor(datum);\n            const xExtent = [xMin, xMax].sort((a, b) => {\n              if (a > b) {\n                return 1;\n              } else return -1;\n            });\n            const yExtent = [yMin, yMax].sort((a, b) => {\n              if (a > b) {\n                return 1;\n              } else return -1;\n            });\n            const active =\n              x >= xExtent[0] &&\n              x <= xExtent[1] &&\n              y >= yExtent[0] &&\n              y <= yExtent[1];\n            return (\n              <circle\n                cx={xScale(x)}\n                cy={yScale(y)}\n                className={cx(\"dot\", {\n                  \"is-active\": active,\n                  \"is-highlighted\":\n                    highlightedNodeId && highlightedNodeId === datum.id,\n                })}\n                onMouseEnter={handleOvered}\n                onMouseMove={handleOvered}\n                onMouseLeave={handleLeave}\n                key={datum.id}\n                r={width / 200}\n              />\n            );\n          })}\n        </g>\n      </svg>\n      {\n        <div\n          className={cx(\"chart-tooltip\", { \"is-active\": hoveredElement })}\n          style={{\n            left: tooltipPosition[0],\n            top: tooltipPosition[1],\n          }}\n        >\n          {hoveredElement && !readOnly && !minified && (\n            <ul>\n              {metrics.map(({ id, name }) => {\n                let val = hoveredElement[id];\n                val = parseFloat(val).toFixed(DECIMALS);\n                return (\n                  <li\n                    key={id}\n                    className={cx(\"tooltip-info\", {\n                      active: id === xVariable || id === yVariable,\n                    })}\n                  >\n                    {name} :{\" \"}\n                    {id === \"Privacy\"\n                      ? -hoveredElement.variables.filter((vName) =>\n                          filteredVariables.includes(vName)\n                        ).length\n                      : val}\n                  </li>\n                );\n              })}\n              <li>Variables : {hoveredElement.variables.join(\", \")}</li>\n            </ul>\n          )}\n        </div>\n      }\n    </div>\n  );\n}\n\nexport default BrushableScatterPlot;\n","import react, {\n  useEffect,\n  useState,\n} from \"react\"; /* eslint no-unused-vars : 0 */\nimport Slider from \"rc-slider\";\nimport \"rc-slider/assets/index.css\";\nimport Tooltip from \"react-tooltip\";\nimport { metricsColorMap } from \"../helpers/misc\";\n\nimport InfoTip from \"./InfoTip\";\n\nconst Range = Slider.createSliderWithTooltip(Slider.Range);\n\nfunction Input({ onChange, validate, value, ...props }) {\n  const [localValue, setLocalValue] = useState(value);\n  const handleChange = (e) => {\n    setLocalValue(e.target.value.replace(\",\", \".\"));\n  };\n  const handleBlur = () => {\n    if (validate(localValue)) {\n      onChange(localValue);\n    } else {\n      setLocalValue(value);\n    }\n  };\n\n  useEffect(() => {\n    setLocalValue(value);\n  }, [value]);\n  return (\n    <input\n      {...props}\n      onChange={handleChange}\n      onBlur={handleBlur}\n      value={localValue}\n    />\n  );\n}\n\nfunction VariableInputs({\n  metric,\n  values,\n  min,\n  max,\n  onRangeChange,\n  axis = \"abscisses\",\n  onLabelClick,\n}) {\n  const handleMinChange = (val) => {\n    onRangeChange([val, values[1]]);\n  };\n  const handleMaxChange = (val) => {\n    onRangeChange([values[0], val]);\n  };\n  const SLIDER_MULTIPLIER = 10000;\n  return (\n    <div className=\"variable-inputs\">\n      <div>\n        <h5>\n          <code\n            onClick={onLabelClick}\n            style={{\n              background: metricsColorMap[metric.id],\n            }}\n          >\n            {axis}\n            {\" : \"}\n            {metric.name}{\" \"}\n            <InfoTip data-for=\"variable-tip\" tip={metric.short_description} />{\" \"}\n          </code>{\" \"}\n        </h5>\n        <div className=\"details-container\">\n          <div className=\"inputs-container\">\n            <div>\n              <span>{\"Min \"}</span>\n              <Input\n                validate={(val) => !isNaN(val) && val < values[1]}\n                onChange={handleMinChange}\n                value={\"\" + values[0]}\n                type=\"text\"\n              />\n            </div>\n            <div>\n              <span>{\"Max \"}</span>\n              <Input\n                validate={(val) => !isNaN(val) && val > values[0]}\n                value={\"\" + values[1]}\n                onChange={handleMaxChange}\n                type=\"text\"\n              />\n            </div>\n            {/*(min: {min}, max: {max})*/}\n          </div>\n        </div>\n        {/*\n        <Range\n          allowCross={false}\n          tipFormatter={(val) => val / SLIDER_MULTIPLIER}\n          onChange={([thatMin, thatMax]) => {\n            onRangeChange([\n              thatMin / SLIDER_MULTIPLIER,\n              thatMax / SLIDER_MULTIPLIER,\n            ]);\n          }}\n          step={metric.type === \"integer\" ? SLIDER_MULTIPLIER : undefined}\n          min={min * SLIDER_MULTIPLIER}\n          max={max * SLIDER_MULTIPLIER}\n          defaultValue={[min * SLIDER_MULTIPLIER, max * SLIDER_MULTIPLIER]}\n          value={[values[0] * SLIDER_MULTIPLIER, values[1] * SLIDER_MULTIPLIER]}\n        />\n        */}\n      </div>\n      <Tooltip id=\"variable-tip\" />\n    </div>\n  );\n}\n\nexport default VariableInputs;\n","export const filterModels = (models, filters) => {\n  return filters.reduce((res, filter) => {\n    return res.filter((model) => {\n      const { variable, type, range } = filter;\n      let value = model[variable];\n      /* @todo dirty - just to handle privacy */\n      if (filter.variables) {\n        value = -model.variables.filter((vName) =>\n          filter.variables.includes(vName)\n        ).length;\n      }\n      switch (type) {\n        case \"range\":\n        default:\n          const [min, max] = range.sort((a, b) => {\n            if (a > b) {\n              return 1;\n            } else return -1;\n          });\n          return value >= min && value <= max;\n      }\n    });\n  }, models);\n};\n","import react, {\n  // useCallback,\n  useEffect,\n  useState,\n} from \"react\"; /* eslint no-unused-vars : 0 */\nimport { min, max } from \"d3-array\";\nimport Tooltip from \"react-tooltip\";\nimport Dimensions from \"react-dimensions\";\nimport cx from \"classnames\";\nimport \"./FilterForm.scss\";\n\nimport BrushableScatterPlot from \"./BrushableScatterPlot\";\nimport VariableInputs from \"./VariableInputs\";\nimport ContinueButton from \"./ContinueButton\";\n\nimport { useDebounce } from \"../helpers/hooks\";\nimport { filterModels } from \"../helpers/filters\";\nimport variables from \"../contents/variables_list.fr.yml\";\nimport { DECIMALS } from \"../constants\";\nimport InfoTip from \"./InfoTip\";\nimport translate from \"../helpers/translate\";\n\nfunction FilterForm({\n  metrics,\n  models,\n  onSubmit,\n  onPreviousStep,\n  filters = [],\n  privacyVariables,\n  values,\n  containerWidth,\n  containerHeight,\n}) {\n  let [metric1, metric2] = metrics;\n\n  const filteredVariables = variables\n    .filter(({ id }) => privacyVariables[id])\n    .map(({ id }) => id);\n\n  const [absoluteMin1, setAbsoluteMin1] = useState(0);\n  const [absoluteMax2, setAbsoluteMax2] = useState(0);\n\n  const [absoluteMin2, setAbsoluteMin2] = useState(0);\n  const [absoluteMax1, setAbsoluteMax1] = useState(0);\n  const [choosenMin1, setChoosenMin1] = useState(null);\n  const [choosenMax2, setChoosenMax2] = useState(null);\n\n  const [choosenMin2, setChoosenMin2] = useState(null);\n  const [choosenMax1, setChoosenMax1] = useState(null);\n\n  const [xOptionsVisible, setXOptionsVisible] = useState(false);\n  const [yOptionsVisible, setYOptionsVisible] = useState(false);\n\n  const [filteredModels, setFilteredModels] = useState(models);\n\n  const [hasChoosen, setHasChoosen] = useState(\n    values && values.length > 1 ? true : false\n  );\n\n  useEffect(() => {\n    if (!models.length) return null;\n    if (values && values.length > 1) {\n      setChoosenMin1(values[0].range[0]);\n      setChoosenMax1(values[0].range[1]);\n      setChoosenMin2(values[1].range[0]);\n      setChoosenMax2(values[1].range[1]);\n    } else {\n      setChoosenMin1(absoluteMin1);\n      setChoosenMax1(absoluteMax1);\n      setChoosenMin2(absoluteMin2);\n      setChoosenMax2(absoluteMax2);\n    }\n  }, [values]); /* eslint react-hooks/exhaustive-deps : 0 */\n\n  useDebounce(\n    () => {\n      if (!models.length) return null;\n      if (!metric1 || !metric2) {\n        return null;\n      }\n\n      const theseFilters = [\n        ...filters,\n        {\n          variable: metric1.id,\n          type: \"range\",\n          range: [choosenMin1, choosenMax1],\n          variables: metric1.id === \"Privacy\" ? filteredVariables : undefined,\n        },\n        {\n          variable: metric2.id,\n          type: \"range\",\n          range: [choosenMin2, choosenMax2],\n          variables: metric2.id === \"Privacy\" ? filteredVariables : undefined,\n        },\n      ];\n      setFilteredModels(filterModels(models, theseFilters));\n    },\n    [choosenMin1, choosenMax1, choosenMin2, choosenMax2],\n    1000\n  );\n\n  useEffect(() => {\n    if (!models.length) return null;\n    metric1 = metrics[0];\n    metric2 = metrics[1];\n    if (!metric1 || !metric2) {\n      return null;\n    }\n    let absMin1, absMax1, absMin2, absMax2;\n    if (metric1.id === \"Privacy\") {\n      absMin1 = -max(\n        models,\n        (d) =>\n          d.variables.filter((vName) => -filteredVariables.includes(vName))\n            .length\n      );\n      absMax1 = -min(\n        models,\n        (d) =>\n          d.variables.filter((vName) => -filteredVariables.includes(vName))\n            .length\n      );\n    } else {\n      absMin1 = min(models, (d) => +d[metric1.id]);\n      absMax1 = max(models, (d) => +d[metric1.id]);\n    }\n    if (metric2.id === \"Privacy\") {\n      absMin2 = -max(\n        models,\n        (d) =>\n          d.variables.filter((vName) => -filteredVariables.includes(vName))\n            .length\n      );\n      absMax2 = -min(\n        models,\n        (d) =>\n          d.variables.filter((vName) => -filteredVariables.includes(vName))\n            .length\n      );\n    } else {\n      absMin2 = min(models, (d) => +d[metric2.id]);\n      absMax2 = max(models, (d) => +d[metric2.id]);\n    }\n    setAbsoluteMin1(+absMin1.toFixed(DECIMALS));\n    setAbsoluteMax1(+absMax1.toFixed(DECIMALS));\n    setAbsoluteMin2(+absMin2.toFixed(DECIMALS));\n    setAbsoluteMax2(+absMax2.toFixed(DECIMALS));\n\n    if (!values) {\n      setChoosenMin1(+absMin1.toFixed(DECIMALS));\n      setChoosenMax1(+absMax1.toFixed(DECIMALS));\n      setChoosenMin2(+absMin2.toFixed(DECIMALS));\n      setChoosenMax2(+absMax2.toFixed(DECIMALS));\n    }\n  }, [models, metrics]);\n\n  useEffect(() => {\n    if (!models.length) return null;\n    if (!metric1 || !metric2) {\n      return null;\n    }\n    if (metric1.id === \"Privacy\") {\n      const absMin1 = -max(\n        models,\n        (d) =>\n          d.variables.filter((vName) => -filteredVariables.includes(vName))\n            .length\n      );\n      const absMax1 = -min(\n        models,\n        (d) =>\n          d.variables.filter((vName) => -filteredVariables.includes(vName))\n            .length\n      );\n      setAbsoluteMin1(absMin1);\n      setAbsoluteMax1(absMax1);\n    }\n    if (metric2.id === \"Privacy\") {\n      const absMin2 = -max(\n        models,\n        (d) =>\n          d.variables.filter((vName) => filteredVariables.includes(vName))\n            .length\n      );\n      const absMax2 = -min(\n        models,\n        (d) =>\n          d.variables.filter((vName) => filteredVariables.includes(vName))\n            .length\n      );\n      setAbsoluteMin2(absMin2);\n      setAbsoluteMax2(absMax2);\n    }\n  }, [filteredVariables]);\n\n  if (!metric1 || !metric2) {\n    return null;\n  }\n\n  if (!models.length) return null;\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  const handleValidate = (e) => {\n    onSubmit([\n      {\n        variable: metric1.id,\n        type: \"range\",\n        range: [choosenMin1, choosenMax1],\n        variables: metric1.id === \"Privacy\" ? filteredVariables : undefined,\n      },\n      {\n        variable: metric2.id,\n        type: \"range\",\n        range: [choosenMin2, choosenMax2],\n        variables: metric2.id === \"Privacy\" ? filteredVariables : undefined,\n      },\n    ]);\n  };\n  const handleBrushChange = ({\n    x: [thatXMin, thatXMax],\n    y: [thatYMin, thatYMax],\n  }) => {\n    setChoosenMin1(+thatXMin.toFixed(DECIMALS));\n    setChoosenMax1(+thatXMax.toFixed(DECIMALS));\n    setChoosenMin2(+thatYMin.toFixed(DECIMALS));\n    setChoosenMax2(+thatYMax.toFixed(DECIMALS));\n    setHasChoosen(true);\n  };\n\n  return (\n    <form className=\"filter-form\" onSubmit={handleSubmit}>\n      <div className=\"columns-container\">\n        <div className=\"column is-main\">\n          <div\n            className={cx(\"axis-container axis-y\", {\n              \"is-deployed\": yOptionsVisible,\n            })}\n          >\n            <VariableInputs\n              metric={metric2}\n              values={[choosenMin2, choosenMax2]}\n              min={absoluteMin2}\n              max={absoluteMax2}\n              onLabelClick={() => setYOptionsVisible(!yOptionsVisible)}\n              filteredVariables={filteredVariables}\n              axis={\"y\"}\n              onRangeChange={([thatMin, thatMax]) => {\n                setChoosenMin2(thatMin);\n                setChoosenMax2(thatMax);\n                setHasChoosen(true);\n              }}\n            />\n          </div>\n          <BrushableScatterPlot\n            data={models}\n            xVariable={metric1.id}\n            yVariable={metric2.id}\n            filteredVariables={filteredVariables}\n            brush={{\n              x: [choosenMin1, choosenMax1],\n              y: [choosenMin2, choosenMax2],\n            }}\n            onBrushChange={handleBrushChange}\n            width={containerWidth * 0.85}\n            height={400}\n            style={{\n              paddingLeft: containerWidth * 0.1,\n            }}\n          />\n          <div\n            className={cx(\"axis-container axis-x\", {\n              \"is-deployed\": xOptionsVisible,\n            })}\n          >\n            <VariableInputs\n              metric={metric1}\n              values={[choosenMin1, choosenMax1]}\n              min={absoluteMin1}\n              max={absoluteMax1}\n              axis={\"x\"}\n              onLabelClick={() => setXOptionsVisible(!xOptionsVisible)}\n              filteredVariables={filteredVariables}\n              onRangeChange={([thatMin, thatMax]) => {\n                setChoosenMin1(thatMin);\n                setChoosenMax1(thatMax);\n                setHasChoosen(true);\n              }}\n            />\n          </div>\n          {/*<h4>\n            Vous filtrez dans{\" \"}\n            <code>\n              {metric1.name} <InfoTip tip={metric1.short_description} />\n            </code>{\" \"}\n            sur les x et{\" \"}\n            <code>\n              {metric2.name} <InfoTip tip={metric2.short_description} />\n            </code>{\" \"}\n            sur les y\n          </h4>*/}\n          <div\n            style={{\n              // position: 'absolute',\n              // top: 0,\n              // right: 0,\n              // bottom: '1rem',\n              // paddingLeft: containerWidth * .15,\n              maxWidth: containerWidth * 0.4,\n            }}\n            className=\"count-container\"\n          >\n            <p>\n              <span className=\"count-indicator\">{filteredModels.length}</span>{\" \"}\n              modèles sélectionnés.\n            </p>\n            <p>\n              <i>Faire glisser la souris pour sélectionner des modèles.</i>\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <ContinueButton\n        disabled={!filteredModels.length || !hasChoosen}\n        onSubmit={handleValidate}\n        submitMessage={translate(\"validate\")}\n        onPreviousStep={onPreviousStep}\n        backwardEnabled\n      />\n\n      <Tooltip id=\"tip\" />\n    </form>\n  );\n}\n\nexport default Dimensions()(FilterForm);\n","import react, { useEffect } from \"react\"; /* eslint no-unused-vars : 0 */\n\nexport function useDebounce(fn, values, delay) {\n  useEffect(() => {\n    const handler = setTimeout(fn, delay);\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [delay, fn, ...values]); /* eslint react-hooks/exhaustive-deps : 0 */\n}\n","import react from \"react\"; /* eslint no-unused-vars : 0 */\n\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\n\nimport translate from \"../helpers/translate\";\n\nimport * as uiDuck from \"../state/duckUi\";\nimport * as dataDuck from \"../state/duckData\";\nimport MetricsCrossingIndicator from \"../components/MetricsCrossingIndicator\";\n\nimport FilterForm from \"../components/FilterForm\";\nimport { STEP_SECONDARY_CHOICE_1 } from \"../constants\";\n\nfunction MainChoiceContainer({\n  data: { metricsOrder, models, filters, privacyVariables },\n  ui: { iterationNumber },\n  setCurrentStep,\n  setMainChoiceIsValidated,\n  addFilters,\n  currentStep,\n}) {\n  const handleSubmit = (theseFilters) => {\n    const [filter1, filter2] = theseFilters;\n    addFilters({\n      0: filter1,\n      1: filter2,\n    });\n    setMainChoiceIsValidated(true);\n    setCurrentStep(STEP_SECONDARY_CHOICE_1);\n  };\n  const handlePreviousStep = () => {\n    setCurrentStep(currentStep - 1);\n  };\n  const activeMetrics = metricsOrder.map((m, i) => ({\n    ...m,\n    active: i <= 1,\n  }));\n  return (\n    <section className=\"main-choice-screen\">\n      <h1 className=\"step-title\">{translate(\"main_choice_screen_title\")}</h1>\n      <div className=\"columns-container\">\n        <aside className=\"column is-aside\">\n          <p className=\"instructions\">\n            {translate(\"main_choice_screen_intro\")}\n          </p>\n          <MetricsCrossingIndicator metrics={activeMetrics} />\n        </aside>\n        <main className=\"column is-main\">\n          <FilterForm\n            metrics={metricsOrder.slice(0, 2)}\n            models={models}\n            onSubmit={handleSubmit}\n            onPreviousStep={handlePreviousStep}\n            privacyVariables={privacyVariables}\n            values={\n              filters[\"0\"] && filters[\"1\"]\n                ? [filters[\"0\"], filters[\"1\"]]\n                : undefined\n            }\n          />\n        </main>\n      </div>\n    </section>\n  );\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  ...ownProps,\n  ...state,\n  ...uiDuck.selector(state.ui),\n  ...dataDuck.selector(state.data),\n});\n\nconst mapDispatchToProps = (dispatch) =>\n  bindActionCreators(\n    {\n      ...uiDuck,\n      ...dataDuck,\n    },\n    dispatch\n  );\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MainChoiceContainer);\n","import React from \"react\";\nimport BrushableScatterPlot from \"./BrushableScatterPlot\";\nimport Slider from \"rc-slider\";\nimport { min, max } from \"d3-array\";\n\nimport { metricsColorMap } from \"../helpers/misc\";\n\nimport metricsList from \"../contents/metrics_list.fr.yml\";\nimport \"./MiniGraph.scss\";\n\nconst Range = Slider.createSliderWithTooltip(Slider.Range);\n\nconst MiniGraph = ({\n  index,\n  filters,\n  models,\n  from,\n  to,\n  onNav,\n  fromName,\n  toName,\n  variables,\n  choosenModel,\n  highlightedNodeId,\n  addFilters,\n  filterModels,\n  readOnly,\n}) => {\n  const actuallyHighlitedNodeId = choosenModel\n    ? highlightedNodeId || choosenModel.id\n    : highlightedNodeId;\n\n  const brushData = {\n    x: filters[from + \"\"].range,\n    y: filters[to + \"\"].range,\n  };\n  const data =\n    from === 0\n      ? models\n      : filterModels(\n          models,\n          Object.entries(filters)\n            .filter(([key]) => +key < from)\n            .map(([_key, filter]) => filter)\n        );\n\n  const handleBrushChange = ({\n    x: [thatXMin, thatXMax],\n    y: [thatYMin, thatYMax],\n  }) => {\n    addFilters({\n      [from + \"\"]: {\n        ...filters[from + \"\"],\n        range: [thatXMin, thatXMax],\n      },\n      [to + \"\"]: {\n        ...filters[to + \"\"],\n        range: [thatYMin, thatYMax],\n      },\n    });\n  };\n  const SLIDER_MULTIPLIER = 10000;\n\n  const handleRangeChange = (axis, range) => {\n    const key = axis === \"x\" ? from + \"\" : to + \"\";\n    addFilters({\n      [key]: {\n        ...filters[key],\n        range,\n      },\n    });\n  };\n  const val1 = filters[from + \"\"].range;\n  const xVariable = filters[from + \"\"].variable;\n  const metric1 = metricsList.find(({ id }) => id === xVariable);\n  const min1 = min(data, (d) => +d[xVariable]);\n  const max1 = max(data, (d) => +d[xVariable]);\n\n  const val2 = filters[to + \"\"].range;\n  const yVariable = filters[to + \"\"].variable;\n  const metric2 = metricsList.find(({ id }) => id === yVariable);\n  const min2 = min(data, (d) => +d[yVariable]);\n  const max2 = max(data, (d) => +d[yVariable]);\n  return (\n    <div className=\"mini-graph-container\">\n      <h5 className=\"mini-graph-title\">\n        <div>\n          <span onClick={onNav} className=\"number-indicator\">\n            {index + 1}\n          </span>\n        </div>\n        <div className=\"values-container\">\n          <span className=\"value-container\">\n            <code\n              style={{\n                background: metricsColorMap[xVariable],\n              }}\n            >\n              x: {fromName}\n            </code>\n            <Range\n              allowCross={false}\n              tipFormatter={(val) => val / SLIDER_MULTIPLIER}\n              onChange={([thatMin, thatMax]) => {\n                handleRangeChange(\"x\", [\n                  thatMin / SLIDER_MULTIPLIER,\n                  thatMax / SLIDER_MULTIPLIER,\n                ]);\n              }}\n              step={metric1.type === \"integer\" ? SLIDER_MULTIPLIER : undefined}\n              min={min1 * SLIDER_MULTIPLIER}\n              max={max1 * SLIDER_MULTIPLIER}\n              defaultValue={[\n                min1 * SLIDER_MULTIPLIER,\n                max1 * SLIDER_MULTIPLIER,\n              ]}\n              value={[val1[0] * SLIDER_MULTIPLIER, val1[1] * SLIDER_MULTIPLIER]}\n              style={{\n                width: \"100%\",\n              }}\n            />\n          </span>\n          <span className=\"value-container\">\n            <code\n              style={{\n                background: metricsColorMap[yVariable],\n              }}\n            >\n              y: {toName}\n            </code>\n            <Range\n              allowCross={false}\n              tipFormatter={(val) => val / SLIDER_MULTIPLIER}\n              onChange={([thatMin, thatMax]) => {\n                handleRangeChange(\"y\", [\n                  thatMin / SLIDER_MULTIPLIER,\n                  thatMax / SLIDER_MULTIPLIER,\n                ]);\n              }}\n              step={metric2.type === \"integer\" ? SLIDER_MULTIPLIER : undefined}\n              min={min2 * SLIDER_MULTIPLIER}\n              max={max2 * SLIDER_MULTIPLIER}\n              defaultValue={[\n                min2 * SLIDER_MULTIPLIER,\n                max2 * SLIDER_MULTIPLIER,\n              ]}\n              value={[val2[0] * SLIDER_MULTIPLIER, val2[1] * SLIDER_MULTIPLIER]}\n              style={{\n                width: \"100%\",\n              }}\n            />\n          </span>\n        </div>\n      </h5>\n      <BrushableScatterPlot\n        data={data}\n        xVariable={xVariable}\n        yVariable={yVariable}\n        filteredVariables={variables}\n        brush={brushData}\n        readOnly={readOnly}\n        minified\n        highlightedNodeId={actuallyHighlitedNodeId}\n        width={200}\n        height={200}\n        onBrushChange={handleBrushChange}\n      />\n    </div>\n  );\n};\n\nexport default MiniGraph;\n","import react from \"react\"; /* eslint no-unused-vars : 0 */\n\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\n\nimport translate from \"../helpers/translate\";\nimport { filterModels } from \"../helpers/filters\";\n\nimport * as uiDuck from \"../state/duckUi\";\nimport * as dataDuck from \"../state/duckData\";\nimport MetricsCrossingIndicator from \"../components/MetricsCrossingIndicator\";\n\nimport FilterForm from \"../components/FilterForm\";\n\nimport {\n  STEP_MAIN_CHOICE,\n  STEP_SECONDARY_CHOICE_1,\n  STEP_SECONDARY_CHOICE_2,\n} from \"../constants\";\nimport MiniGraph from \"../components/MiniGraph\";\n\nfunction SecondChoiceContainer({\n  data: { metricsOrder, models, filters, privacyVariables = {} },\n  ui: { iterationNumber },\n  setCurrentStep,\n  setMainChoiceIsValidated,\n  addFilters,\n  metricsExtent: [fromMetric, toMetric] = [1, 2],\n  previousExtents = [],\n  nextStep = STEP_SECONDARY_CHOICE_2,\n  currentStep,\n}) {\n  const handleSubmit = (theseFilters) => {\n    const [filter1, filter2] = theseFilters;\n    addFilters({\n      [fromMetric + \"\"]: filter1,\n      [toMetric + \"\"]: filter2,\n    });\n    setMainChoiceIsValidated(true);\n    if (iterationNumber === 0) {\n      setCurrentStep(nextStep);\n    } else {\n      setCurrentStep(nextStep);\n    }\n  };\n  const handlePreviousStep = () => {\n    setCurrentStep(currentStep - 1);\n  };\n\n  if (!Object.keys(filters).length) return null;\n\n  return (\n    <section className=\"second-choice-screen\">\n      <h1 className=\"step-title\">{translate(\"second_choice_screen_title\")}</h1>\n      <div className=\"columns-container\">\n        <aside className=\"column is-aside\">\n          <p className=\"instructions\">\n            {translate(\"second_choice_screen_intro\")}\n          </p>\n          <MetricsCrossingIndicator\n            metrics={metricsOrder\n              .filter((m) => m.iteration <= iterationNumber)\n              .map((m, i) => ({\n                ...m,\n                active: i >= fromMetric && i <= toMetric,\n              }))}\n          />\n          <h4>Vos arbitrages précédents :</h4>\n          {/* mini scatterplots for previous steps */}\n          <div className=\"mini-graphs-wrapper\">\n            {previousExtents\n              .filter(\n                ([from, to]) =>\n                  filters[from + \"\"] !== undefined &&\n                  filters[to + \"\"] !== undefined\n              )\n              .map(([from, to], index) => {\n                // console.log({ from, to });\n                let theseVariables = [\n                  filters[from + \"\"],\n                  filters[to + \"\"],\n                ].find((f) => f && f.variables);\n                theseVariables = theseVariables\n                  ? theseVariables.variables\n                  : undefined;\n                const handleNav = () => {\n                  let target;\n                  switch (index) {\n                    case 0:\n                      target = STEP_MAIN_CHOICE;\n                      break;\n                    case 1:\n                      target = STEP_SECONDARY_CHOICE_1;\n                      break;\n                    case 2:\n                    default:\n                      target = STEP_SECONDARY_CHOICE_2;\n                      break;\n                  }\n                  setCurrentStep(target);\n                };\n                return (\n                  <MiniGraph\n                    key={index}\n                    {...{\n                      index,\n                      filters,\n                      models,\n                      fromName: metricsOrder.find(\n                        ({ id }) => id === filters[from + \"\"].variable\n                      ).name,\n                      toName: metricsOrder.find(\n                        ({ id }) => id === filters[to + \"\"].variable\n                      ).name,\n                      onNav: handleNav,\n                      from,\n                      to,\n                      variables: theseVariables,\n                      addFilters,\n                      filterModels,\n                    }}\n                  />\n                );\n              })}\n          </div>\n        </aside>\n        <main className=\"column is-main\">\n          <FilterForm\n            metrics={metricsOrder.slice(fromMetric, toMetric + 1)}\n            models={filterModels(\n              models,\n              Object.entries(filters)\n                .filter(([key]) => +key < fromMetric)\n                .map(([_key, filter]) => filter)\n            )}\n            onSubmit={handleSubmit}\n            onPreviousStep={handlePreviousStep}\n            privacyVariables={privacyVariables}\n            values={\n              filters[fromMetric + \"\"] && filters[toMetric + \"\"]\n                ? [filters[fromMetric + \"\"], filters[toMetric + \"\"]]\n                : undefined\n            }\n          />\n        </main>\n      </div>\n    </section>\n  );\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  ...ownProps,\n  ...state,\n  ...uiDuck.selector(state.ui),\n  ...dataDuck.selector(state.data),\n});\n\nconst mapDispatchToProps = (dispatch) =>\n  bindActionCreators(\n    {\n      ...uiDuck,\n      ...dataDuck,\n    },\n    dispatch\n  );\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SecondChoiceContainer);\n","import react, {\n  useState,\n  useEffect,\n} from \"react\"; /* eslint no-unused-vars : 0 */\n\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport cx from \"classnames\";\n\nimport translate from \"../helpers/translate\";\nimport { filterModels } from \"../helpers/filters\";\nimport { useDebounce } from \"../helpers/hooks\";\n\nimport * as uiDuck from \"../state/duckUi\";\nimport * as dataDuck from \"../state/duckData\";\n\nimport { DECIMALS } from \"../constants\";\n\nimport \"./ModelChoiceContainer.scss\";\n\nimport metricsList from \"../contents/metrics_list.fr.yml\";\nimport MiniGraph from \"../components/MiniGraph\";\nimport ContinueButton from \"../components/ContinueButton\";\nimport ReactTooltip from \"react-tooltip\";\nimport { extent } from \"d3-array\";\nimport { scaleLinear } from \"d3-scale\";\n\nimport worker from \"workerize-loader!../worker\"; // eslint-disable-line import/no-webpack-loader-syntax\n\nconst workerInstance = worker();\n\nconst DISPLAY_FILTER_STEP = 30;\n\nfunction ModelChoiceContainer({\n  ui: { currentStep },\n  data: { models, filters, choosenModel, privacyVariables, metricsOrder },\n  setChoosenModel,\n  step,\n  setCurrentStep,\n  previousStep,\n  addFilters,\n}) {\n  const [selectedNodeId, setSelectedNodeId] = useState(undefined);\n  const [sortMode, setSortMode] = useState(\"similarity\");\n  const [highlightedNodeId, setHighlightedNodeId] = useState(undefined);\n  const [visibleModels, setVisibleModels] = useState(undefined);\n  const [displayFilter, setDisplayFilter] = useState(DISPLAY_FILTER_STEP);\n  const previousExtents = [\n    [0, 1],\n    [1, 2],\n    [2, 3],\n    // [3, 4],\n  ];\n\n  useEffect(() => {\n    workerInstance.addEventListener(\"message\", (message) => {\n      if (message.data.type === \"RPC\" && message.data.result) {\n        setDisplayFilter(DISPLAY_FILTER_STEP);\n        setVisibleModels(message.data.result);\n      }\n    });\n  }, []);\n\n  useEffect(() => {\n    setVisibleModels(undefined);\n    if (currentStep === step) {\n      setTimeout(() => {\n        workerInstance.getVisibleModels({\n          models,\n          filters,\n          sortMode,\n          metricsOrder,\n        });\n      });\n    }\n  }, [filters, sortMode, metricsOrder, currentStep, step, models]);\n\n  if (!Object.keys(filters).length) return null;\n\n  let colorScales;\n  if (visibleModels) {\n    colorScales = metricsList.reduce((res, { id }) => {\n      // relative scaling\n      let range = extent(visibleModels, (d) =>\n        parseFloat(d[id]).toFixed(DECIMALS)\n      );\n      // absolute scaling\n      // let range = extent(models, (d) => +d[id]);\n      let mapping = [\"red\", \"green\"];\n      if ([\"disparate_impact\"].includes(id)) {\n        range = extent(models, (d) => Math.abs(1 - +d[id]));\n      }\n      const scale = scaleLinear().domain(range).range(mapping);\n      return {\n        ...res,\n        [id]: scale,\n      };\n    }, {});\n  }\n\n  const handleViewMore = () => {\n    setDisplayFilter(displayFilter + DISPLAY_FILTER_STEP);\n  };\n\n  return (\n    <section className=\"single-choice-screen\">\n      <h1 className=\"step-title\">{translate(\"model_choice_screen_title\")}</h1>\n      <div className=\"columns-container\">\n        <aside className=\"column is-aside\">\n          <p className=\"instructions\">\n            {translate(\"model_choice_screen_intro\")}\n          </p>\n          {/* mini scatterplots for previous steps */}\n          <div className=\"\">\n            {previousExtents\n              .filter(\n                ([from, to]) =>\n                  filters[from + \"\"] !== undefined &&\n                  filters[to + \"\"] !== undefined\n              )\n              .map(([from, to], index) => {\n                let theseVariables = [\n                  filters[from + \"\"],\n                  filters[to + \"\"],\n                ].find((f) => f && f.variables);\n                theseVariables = theseVariables\n                  ? theseVariables.variables\n                  : undefined;\n                return (\n                  <MiniGraph\n                    key={index}\n                    {...{\n                      index,\n                      filters,\n                      models,\n                      from,\n                      to,\n                      fromName: metricsOrder.find(\n                        ({ id }) => id === filters[from + \"\"].variable\n                      ).name,\n                      toName: metricsOrder.find(\n                        ({ id }) => id === filters[to + \"\"].variable\n                      ).name,\n                      variables: theseVariables,\n                      choosenModel,\n                      highlightedNodeId: highlightedNodeId || selectedNodeId,\n                      addFilters,\n                      filterModels,\n                    }}\n                  />\n                );\n              })}\n          </div>\n        </aside>\n        <main className=\"column is-main\">\n          <div>\n            <span>{translate(\"sort_by\")}</span>\n            <select\n              value={sortMode}\n              onChange={(e) => setSortMode(e.target.value)}\n            >\n              <option value=\"similarity\">{translate(\"similarity\")}</option>\n              {metricsOrder.map(({ id, name }) => (\n                <option key={id} value={id}>\n                  {name}\n                </option>\n              ))}\n            </select>\n          </div>\n          {visibleModels ? (\n            <table className=\"model-choice-table\">\n              <thead>\n                <tr>\n                  <th></th>\n                  {metricsOrder.map(({ name, id }) => (\n                    <th key={id}>\n                      <div>\n                        <span>{name}</span>\n                      </div>\n                    </th>\n                  ))}\n                </tr>\n              </thead>\n              <tbody\n                onMouseLeave={() => {\n                  setHighlightedNodeId(undefined);\n                }}\n              >\n                {visibleModels.slice(0, displayFilter).map((model) => {\n                  return (\n                    <tr\n                      key={model.id}\n                      onMouseOver={() => {\n                        setHighlightedNodeId(model.id);\n                      }}\n                      onClick={() => {\n                        if (model.id === selectedNodeId) {\n                          setChoosenModel(model);\n                          setCurrentStep(currentStep + 1);\n                        } else {\n                          setSelectedNodeId(model.id);\n                        }\n                      }}\n                      className={cx(\"model-row\", {\n                        \"is-active\": choosenModel\n                          ? model.id === highlightedNodeId ||\n                            model.id === choosenModel.id\n                          : model.id === highlightedNodeId,\n                        \"is-selected\": model.id === selectedNodeId,\n                      })}\n                    >\n                      <th>\n                        <button>\n                          {model.id === selectedNodeId\n                            ? translate(\"validate\")\n                            : translate(\"select_model\")}\n                        </button>\n                      </th>\n                      {metricsOrder.map(({ name, id }) => {\n                        let val = (+model[id]).toFixed(2);\n                        if (id === \"privacy\") {\n                          val = -model.variables.filter(\n                            (vName) => privacyVariables[vName]\n                          ).length;\n                        }\n                        let tip = name + \" : \" + val;\n                        if (id === \"interpretability\") {\n                          val = parseInt(val);\n                          tip =\n                            name +\n                            \" : \" +\n                            val +\n                            \"<br/> variables utilisées : \" +\n                            model.variables.join(\", \");\n                        }\n\n                        return (\n                          <th\n                            key={id}\n                            data-for=\"table-tooltip\"\n                            data-tip={tip}\n                            data-html={true}\n                            style={{\n                              background:\n                                id === \"disparate_impact\"\n                                  ? colorScales[id](\n                                      Math.abs(\n                                        1 -\n                                          parseFloat(model[id]).toFixed(\n                                            DECIMALS\n                                          )\n                                      )\n                                    )\n                                  : colorScales[id](\n                                      parseFloat(model[id]).toFixed(DECIMALS)\n                                    ),\n                            }}\n                          >\n                            {val}\n                          </th>\n                        );\n                      })}\n                      <ReactTooltip id=\"table-tooltip\" />\n                    </tr>\n                  );\n                })}\n                {displayFilter < visibleModels.length ? (\n                  <div className=\"view-more-container\">\n                    <button className=\"view-more-btn\" onClick={handleViewMore}>\n                      {translate(\"show_more_models\")} (\n                      {visibleModels.length - displayFilter}{\" \"}\n                      {translate(\"not_displayed\")})\n                    </button>\n                  </div>\n                ) : null}\n              </tbody>\n            </table>\n          ) : (\n            <div\n              className={`loading ${currentStep === step ? \"is-active\" : \"\"}`}\n            >\n              <div>{translate(\"loading\")}</div>\n            </div>\n          )}\n        </main>\n        <ContinueButton\n          disabled={!selectedNodeId}\n          onSubmit={() => {\n            if (selectedNodeId) {\n              setChoosenModel(models.find(({ id }) => id === selectedNodeId));\n              setCurrentStep(currentStep + 1);\n            }\n          }}\n          onSetCurrentStep={setCurrentStep}\n          currentStep={currentStep}\n          onPreviousStep={() => setCurrentStep(previousStep)}\n          backwardEnabled\n        />\n      </div>\n    </section>\n  );\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  ...ownProps,\n  ...state,\n  ...uiDuck.selector(state.ui),\n  ...dataDuck.selector(state.data),\n});\n\nconst mapDispatchToProps = (dispatch) =>\n  bindActionCreators(\n    {\n      ...uiDuck,\n      ...dataDuck,\n    },\n    dispatch\n  );\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ModelChoiceContainer);\n","// import { combineReducers } from 'redux';\nimport { createStructuredSelector } from \"reselect\";\n\n/**\n * ACTION NAMES\n */\nimport {\n  RESET_APP,\n  SET_METRICS_ORDER,\n  ADD_FILTERS,\n  SET_DATAIKU_RESULTS,\n  SET_CHOOSEN_MODEL,\n} from \"./duckData\";\nimport { SET_CURRENT_STEP, START_APP, SET_ITERATION_NUMBER } from \"./duckUi\";\n\n/**\n * ACTION FUNCTIONS\n */\n/**\n * REDUCER\n */\nconst DEFAULT_STATE = {\n  history: [],\n};\n\nfunction data(state = DEFAULT_STATE, action) {\n  // const { payload } = action;\n  switch (action.type) {\n    case RESET_APP:\n      return DEFAULT_STATE;\n    case SET_METRICS_ORDER:\n    case ADD_FILTERS:\n    case SET_DATAIKU_RESULTS:\n    case SET_CHOOSEN_MODEL:\n    case SET_CURRENT_STEP:\n    case START_APP:\n    case SET_ITERATION_NUMBER:\n      return {\n        ...state,\n        history: [\n          ...state.history,\n          {\n            action,\n            date: new Date(),\n          },\n        ],\n      };\n    default:\n      return state;\n  }\n}\n\n// export default combineReducers({data, ...})\nexport default data;\n\n/**\n * SELECTOR\n */\n\nconst history = (state) => state.history;\n\nexport const selector = createStructuredSelector({\n  history,\n});\n","import FileSaver from \"file-saver\";\n\n/**\n * @param {string} text - the text to put in the file\n * @param {string} extension - the extension to append to file name\n * @param {string} fileName - the name to attribute to the downloaded file\n */\nexport default function downloadFile(\n  text,\n  extension = \"txt\",\n  fileName = \"download\"\n) {\n  let type;\n  switch (extension) {\n    case \"zip\":\n      type = \"octet/stream\";\n      break;\n    case \"html\":\n      type = \"text/html;charset=utf-8\";\n      break;\n    default:\n      type = \"text/plain;charset=utf-8\";\n      break;\n  }\n  const blob = new Blob([text], { type });\n  FileSaver.saveAs(blob, `${fileName}.${extension}`);\n}\n","import react from \"react\"; /* eslint no-unused-vars : 0 */\nimport translate from \"../helpers/translate\";\n\nimport {\n  SET_METRICS_ORDER,\n  ADD_FILTERS,\n  SET_DATAIKU_RESULTS,\n  SET_CHOOSEN_MODEL,\n} from \"../state/duckData\";\n\nimport { SET_CURRENT_STEP, START_APP } from \"../state/duckUi\";\nimport {\n  STEP_HEADER,\n  // STEP_DATAIKU_PRACTICE,\n  // STEP_EU_LEGISLATION,\n  // STEP_METRICS_EXPLANATION_0,\n  // STEP_METRICS_EXPLANATION_1,\n  // STEP_METRICS_EXPLANATION_2,\n  // STEP_METRICS_EXPLANATION_3,\n  // STEP_METRICS_EXPLANATION_4,\n  // STEP_METRICS_EXPLANATION_5,\n  STEP_METRICS_SORTING,\n  STEP_MAIN_CHOICE,\n  STEP_SECONDARY_CHOICE_1,\n  STEP_SECONDARY_CHOICE_2,\n  STEP_MODEL_CHOICE,\n  STEP_CONCLUSION,\n} from \"../constants\";\nimport downloadFile from \"../helpers/download\";\n\nimport \"./History.scss\";\n\nconst serializeStep = (payload) => {\n  switch (payload) {\n    case STEP_HEADER:\n      return translate(\"app_header_view\");\n    // case STEP_DATAIKU_PRACTICE:\n    //   return translate(\"dataiku_practice_view\");\n    // case STEP_EU_LEGISLATION:\n    //   return translate(\"eu_legislation_view\");\n    // case STEP_METRICS_EXPLANATION_0:\n    // case STEP_METRICS_EXPLANATION_1:\n    // case STEP_METRICS_EXPLANATION_2:\n    // case STEP_METRICS_EXPLANATION_3:\n    // case STEP_METRICS_EXPLANATION_4:\n    // case STEP_METRICS_EXPLANATION_5:\n    //   return translate(\"metrics_explanation_view\");\n    case STEP_METRICS_SORTING:\n      return translate(\"metrics_sorting_view\");\n    case STEP_MAIN_CHOICE:\n      return translate(\"main_filter_view\");\n    case STEP_SECONDARY_CHOICE_1:\n      return translate(\"secondary_filter_view\");\n    case STEP_SECONDARY_CHOICE_2:\n      return translate(\"tertiary_filter_view\");\n    case STEP_MODEL_CHOICE:\n      return translate(\"model_choice_view\");\n    case STEP_CONCLUSION:\n      return translate(\"conclusion_view\");\n    default:\n      return \"\";\n  }\n};\n\nconst actionsSerialization = {\n  START_APP: {\n    payload: () => ({}),\n    description: (payload) => translate(\"started_the_app\"),\n  },\n  SET_METRICS_ORDER: {\n    payload: (payload) => ({\n      new_order: payload.map(({ id }) => id).join(\", \"),\n    }),\n    description: (payload) =>\n      translate(\"changed_metrics_order_to\") +\n      \" \" +\n      payload.map((i, index) => index + 1 + \"/ \" + i.name).join(\", \"),\n  },\n  ADD_FILTERS: {\n    payload: (payload = {}) => {\n      if (Object.entries(payload).length === 0) {\n        return 0;\n      } else if (Object.entries(payload).length === 1) {\n        const [\n          [_key1, { variable: variable1, range: range1 }],\n        ] = Object.entries(payload);\n        return {\n          filter1_type: variable1,\n          filter1_value: range1.join(\", \"),\n        };\n      }\n      const [\n        [_key1, { variable: variable1, range: range1 }],\n        [_key2, { variable: variable2, range: range2 }],\n      ] = Object.entries(payload);\n      return {\n        filter1_type: variable1,\n        filter1_value: range1.join(\", \"),\n        filter2_type: variable2,\n        filter2_value: range2.join(\", \"),\n      };\n    },\n    description: (payload) =>\n      translate(\"add_filters\") +\n      \" \" +\n      Object.entries(payload)\n        .map(\n          ([_key, filter]) =>\n            `${filter.variable} (entre ${filter.range[0]} et ${filter.range[1]})`\n        )\n        .join(\" \" + translate(\"and\") + \" \"),\n  },\n  SET_DATAIKU_RESULTS: {\n    payload: () => ({}),\n    description: () => translate(\"set_dataiku_results\"),\n  },\n  SET_ITERATION_NUMBER: {\n    // payload: (payload) => ({\n    //   iterationNumber: payload.iterationNumber\n    // }),\n    payload: (payload) => payload,\n    description: (iterationNumber) =>\n      translate(\"set_iteration_number\") + (+iterationNumber + 1),\n  },\n  SET_CHOOSEN_MODEL: {\n    payload: (payload) => ({\n      choosen_model: payload.variables.join(\"/\"),\n    }),\n    description: (payload) =>\n      translate(\"set_choosen_model\") + \" : \" + payload.variables.join(\"/\"),\n  },\n  SET_CURRENT_STEP: {\n    payload: (payload) => ({ step: serializeStep(payload) }),\n    description: (payload) =>\n      translate(\"navigated_to\") + \" \" + serializeStep(payload),\n  },\n};\n\nfunction History({ history = [] }) {\n  const renderAction = (action, date, index) => {\n    if (actionsSerialization[action.type]) {\n      return actionsSerialization[action.type].description(action.payload);\n    }\n    return \"nope\";\n  };\n  const renderPayload = (action) => {\n    if (actionsSerialization[action.type]) {\n      return actionsSerialization[action.type].payload(action.payload);\n    }\n    return \"nope\";\n  };\n\n  const csv = `id;heure;resume;type;new_order;filter1_type;filter1_value;filter2_type;filter2_value;choosen_model;step\n${history\n  .map(({ action, date }, index) => {\n    const resume = renderAction(action, date, index);\n    const {\n      new_order = \"\",\n      filter1_type = \"\",\n      filter1_value = \"\",\n      filter2_type = \"\",\n      filter2_value = \"\",\n      choosen_model = \"\",\n      step = \"\",\n    } = renderPayload(action);\n    return `id;${new Date(date).toLocaleTimeString()};${resume};${\n      action.type\n    };${new_order};${filter1_type};${filter1_value};${filter2_type};${filter2_value};${choosen_model};${step}`;\n  })\n  .join(\"\\n\")}`;\n  return (\n    <div className=\"history\">\n      <ul className=\"history-details\">\n        {history\n          .filter(\n            ({ action }) =>\n              ![\n                \"START_APP\",\n                \"SET_CURRENT_STEP\",\n                \"SET_DATAIKU_RESULTS\",\n              ].includes(action.type)\n          )\n          .map(({ action, date }, index) => {\n            return (\n              <li className=\"history-item\" key={index}>\n                <div className=\"date-container\">\n                  <code>{new Date(date).toLocaleTimeString()}</code>\n                </div>\n                <div>{renderAction(action, date, index)}</div>\n              </li>\n            );\n          })}\n      </ul>\n      <div>\n        <button onClick={() => downloadFile(csv, \"csv\", \"history\")}>\n          {translate(\"download_history\")}\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default History;\n","import React, { Component } from \"react\";\nimport { debounce } from \"lodash\";\n\nexport default class DebouncedInput extends Component {\n  constructor(props) {\n    super(props);\n    const delay = props.delay || 500;\n    this.state = {\n      value: props.value,\n      delay,\n    };\n    this.onChange = debounce(this.onChange, delay);\n  }\n\n  componentWillReceiveProps = (nextProps) => {\n    if (this.props.value !== nextProps.value) {\n      this.setState({\n        value: nextProps.value,\n      });\n    }\n    if (this.props.delay !== nextProps.delay) {\n      this.setState({\n        delay: nextProps.delay,\n      });\n      this.onChange = debounce(this.onChange, nextProps.delay);\n    }\n  };\n\n  onChange = (value) => {\n    this.props.onChange(value);\n  };\n\n  handleChange = (e) => {\n    const value = e.target.value;\n    this.setState({ value });\n    this.onChange(e);\n  };\n\n  render = () => {\n    const {\n      state: { value },\n      props: { placeholder },\n      handleChange,\n    } = this;\n    return (\n      <input\n        className={\"input\"}\n        type={\"text\"}\n        placeholder={placeholder}\n        value={value}\n        onChange={handleChange}\n      />\n    );\n  };\n}\n","import react from \"react\"; /* eslint no-unused-vars : 0 */\n\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport Tooltip from \"react-tooltip\";\n\nimport translate from \"../helpers/translate\";\n\nimport * as uiDuck from \"../state/duckUi\";\nimport * as dataDuck from \"../state/duckData\";\nimport * as historyDuck from \"../state/duckHistory\";\n\nimport History from \"../components/History\";\nimport InfoTip from \"../components/InfoTip\";\nimport DebouncedInput from \"../components/DebouncedInput\";\n\nimport metricsList from \"../contents/metrics_list.fr.yml\";\nimport variablesLists from \"../contents/variables_list.fr.yml\";\nimport { STEP_METRICS_SORTING } from \"../constants\";\nimport downloadFile from \"../helpers/download\";\nimport { metricsColorMap } from \"../helpers/misc\";\n\nimport metrics from \"../contents/metrics_list.fr.yml\";\n\nfunction ConclusionContainer({\n  data: {\n    dataikuResults,\n    choosenModel,\n    filters,\n    privacyVariables,\n    metricsOrder,\n    previousModel,\n  },\n  ui: { iterationNumber },\n  history,\n  resetApp,\n  setCurrentStep,\n  setIterationNumber,\n  setMetricsOrder,\n  setDataikuResults,\n  setPreviousModel,\n}) {\n  if (!choosenModel) {\n    return null;\n  }\n\n  const handleNewIteration = () => {\n    // resetApp();\n    setIterationNumber(iterationNumber + 1);\n    setMetricsOrder([\n      ...metrics.filter((m) => m.iteration <= iterationNumber + 1),\n    ]);\n    setPreviousModel(choosenModel);\n    setCurrentStep(STEP_METRICS_SORTING);\n  };\n  const csv = `source;${metricsList\n    .map(({ name }) => name)\n    .join(\";\")};variables considérées comme privées\ndataiku;${metricsList.map(({ id }) => dataikuResults[id]).join(\";\")};\ninterface;${metricsList\n    .map(({ id, name }) => {\n      const value =\n        id === \"Privacy\"\n          ? -Object.keys(privacyVariables).filter((f) => privacyVariables[f])\n              .length\n          : choosenModel[id];\n\n      return value;\n    })\n    .join(\";\")};${Object.keys(privacyVariables)\n    .filter((f) => privacyVariables[f])\n    .join(\", \")}`;\n  return (\n    <section className=\"single-choice-screen\">\n      <h1 className=\"step-title\">{translate(\"conclusion_screen_title\")}</h1>\n      <div className=\"step-section\">\n        <p>\n          Le modèle que vous avez choisi utilise les dimensions suivantes pour\n          prendre une décision :{\" \"}\n          {choosenModel.variables\n            .map(\n              (thatId) => variablesLists.find(({ id }) => id === thatId).name\n            )\n            .map((text) => <strong>{text}</strong>)\n            .reduce(\n              (res, el, index) => [...res, index === 0 ? null : \", \", el],\n              []\n            )}\n          .\n        </p>\n        <h2>{translate(\"conclusion_results_title\")}</h2>\n        <table className=\"results-table\">\n          {/* <thead>\n            <th></th>\n            <th></th>\n            <th>Sans les métriques</th>\n            <th></th>\n            <th>Avec les métriques</th>\n          </thead> */}\n          <tbody>\n            {metricsOrder.map(({ name, id, short_description }) => {\n              const color = metricsColorMap[id];\n              const metricsToCompare = previousModel || dataikuResults;\n              const previousValue = +metricsToCompare[id];\n              // original value >\n              // let dataikuResult = dataikuResults[id];\n              let dataikuResult = metricsToCompare[id];\n              // reverse for special cases\n              if ([\"privacy\", \"interpretability\"].includes(id)) {\n                dataikuResult = -dataikuResult;\n              }\n              let expResult =\n                id === \"privacy\"\n                  ? -Object.keys(privacyVariables).filter(\n                      (f) => privacyVariables[f]\n                    ).length\n                  : choosenModel[id];\n              expResult = +expResult;\n              expResult = expResult.toFixed ? expResult.toFixed(2) : expResult;\n              expResult = +expResult;\n              // dataikuResult = +dataikuResult;\n              let isImproving;\n              if (id.includes([\"disparate\"])) {\n                if (previousValue > 1) {\n                  if (previousValue < expResult) {\n                    isImproving = \"-1\";\n                  } else {\n                    if (expResult > 1) {\n                      isImproving = \"1\";\n                    } else {\n                      isImproving = \"-1\";\n                    }\n                  }\n                } else {\n                  if (previousValue > expResult) {\n                    isImproving = \"-1\";\n                  } else {\n                    isImproving = \"1\";\n                  }\n                }\n              }\n              if (expResult > previousValue) {\n                isImproving = \"1\";\n              } else if (expResult < previousValue) {\n                isImproving = \"-1\";\n              } else {\n                isImproving = \"0\";\n              }\n              // special case\n              if ([\"fairness_accuracy\"].includes(id)) {\n                isImproving = -+isImproving + \"\";\n              }\n              const colors = {\n                1: \"green\",\n                \"-1\": \"red\",\n                0: \"grey\",\n              };\n              const messages = {\n                1: \"Vous avez amélioré cet indicateur\",\n                \"-1\": \"Vous avez dégradé cet indicateur\",\n                0: \"Cet indicateur est resté identique\",\n              };\n\n              const handleDataikuInputChange = (e) => {\n                const value = e.target.value.replace(\",\", \".\");\n                setDataikuResults({\n                  ...dataikuResults,\n                  [id]: value,\n                });\n              };\n              return (\n                <tr key={id}>\n                  <th>\n                    <span\n                      className=\"tag metric-name\"\n                      style={{ background: color }}\n                    >\n                      <span>\n                        {name}\n                        <InfoTip\n                          tip={short_description}\n                          data-place=\"right\"\n                          data-effect=\"solid\"\n                        />\n                      </span>\n                    </span>\n                  </th>\n\n                  <th>\n                    <span\n                      className=\"tag\"\n                      style={{\n                        background: \"grey\",\n                      }}\n                    >\n                      {/* {dataikuResult !== undefined && !isNaN(dataikuResult)\n                        ? dataikuResult\n                        : translate(\"no_value\")} */}\n                      <form>\n                        {previousModel ? (\n                          <span>{previousModel[id]}</span>\n                        ) : (\n                          <DebouncedInput\n                            placeholder={`entrez vous résultats pour la métrique ${id}`}\n                            value={metricsToCompare[id] || \"\"}\n                            onChange={handleDataikuInputChange}\n                          />\n                        )}\n                      </form>\n                    </span>\n                  </th>\n                  <th>→</th>\n                  <th>\n                    <span\n                      className=\"tag\"\n                      style={{\n                        background: colors[isImproving],\n                      }}\n                    >\n                      {expResult}\n                    </span>\n                  </th>\n                  <th>\n                    {dataikuResult !== undefined && !isNaN(dataikuResult)\n                      ? messages[isImproving]\n                      : \"pas de valeur à comparer\"}\n                  </th>\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n        <div>\n          <button onClick={() => downloadFile(csv, \"csv\", \"modeles_expe\")}>\n            {translate(\"download\")}\n          </button>\n        </div>\n      </div>\n      <div className=\"step-section\">\n        <h2>{translate(\"conclusion_history_title\")}</h2>\n        <History history={history} />\n      </div>\n\n      {/* <div>\n        <button\n          onClick={() => {\n            resetApp();\n            setCurrentStep(STEP_METRICS_SORTING);\n          }}\n        >\n          {translate(\"restart\")}\n        </button>\n      </div> */}\n      {iterationNumber <= 1 ? (\n        <div>\n          <button\n            onClick={() => {\n              handleNewIteration();\n            }}\n          >\n            {translate(\"new_iteration\")}\n          </button>\n        </div>\n      ) : (\n        <div>\n          <button\n            onClick={() => {\n              resetApp();\n              setIterationNumber(0);\n              setCurrentStep(STEP_METRICS_SORTING);\n            }}\n          >\n            {translate(\"restart\")}\n          </button>\n        </div>\n      )}\n\n      <Tooltip />\n    </section>\n  );\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    ...ownProps,\n    ...state,\n    ...uiDuck.selector(state.ui),\n    ...dataDuck.selector(state.data),\n    ...historyDuck.selector(state.history),\n  };\n};\n\nconst mapDispatchToProps = (dispatch) =>\n  bindActionCreators(\n    {\n      ...uiDuck,\n      ...dataDuck,\n    },\n    dispatch\n  );\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ConclusionContainer);\n","import react, { useEffect } from \"react\"; /* eslint no-unused-vars : 0 */\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport Tooltip from \"react-tooltip\";\n\nimport * as uiDuck from \"../state/duckUi\";\nimport * as dataDuck from \"../state/duckData\";\nimport StepNav from \"../components/StepNav\";\n\nimport \"./GlobalContainer.scss\";\n\nimport StepContainer from \"../components/StepContainer\";\n\nimport HeaderContainer from \"./HeaderContainer\";\n// import DataikuIntroContainer from \"./DataikuIntroContainer\";\n// import EuLegislationContainer from \"./EuLegislationContainer\";\n// import MetricsIntroContainer from \"./MetricsIntroContainer\";\nimport MetricsOrderingContainer from \"./MetricsOrderingContainer\";\nimport MainChoiceContainer from \"./MainChoiceContainer\";\nimport SecondaryChoiceContainer from \"./SecondaryChoiceContainer\";\nimport ModelChoiceContainer from \"./ModelChoiceContainer\";\nimport ConclusionContainer from \"./ConclusionContainer\";\n\nimport {\n  STEP_HEADER,\n  STEP_DATAIKU_PRACTICE,\n  // STEP_EU_LEGISLATION,\n  STEP_METRICS_EXPLANATION_0,\n  STEP_METRICS_EXPLANATION_1,\n  STEP_METRICS_EXPLANATION_2,\n  STEP_METRICS_EXPLANATION_3,\n  STEP_METRICS_EXPLANATION_4,\n  STEP_METRICS_EXPLANATION_5,\n  STEP_METRICS_SORTING,\n  STEP_MAIN_CHOICE,\n  STEP_SECONDARY_CHOICE_1,\n  STEP_SECONDARY_CHOICE_2,\n  STEP_SECONDARY_CHOICE_3,\n  STEP_MODEL_CHOICE,\n  // STEP_DATAIKU_FEEDBACK,\n  STEP_CONCLUSION,\n} from \"../constants\";\nimport translate from \"../helpers/translate\";\n\nfunction GlobalContainer({\n  ui: { currentStep, metricsOrderIsValidated, iterationNumber },\n  data: { filters, choosenModel },\n  setCurrentStep,\n  startApp,\n  getData,\n}) {\n  useEffect(() => {\n    startApp();\n    getData();\n  }, [startApp, getData]);\n\n  const steps = {\n    [STEP_HEADER]: {\n      renderStep: () => <HeaderContainer />,\n      title: translate(\"home\"),\n    },\n    // [STEP_DATAIKU_PRACTICE]: {\n    //   renderStep: () => <DataikuIntroContainer />,\n    //   title: translate(\"intro-dataiku\"),\n    // },\n    // [STEP_EU_LEGISLATION]: {\n    //   renderStep: () => <EuLegislationContainer />,\n    //   title: translate(\"intro-eu\"),\n    // },\n    [STEP_METRICS_SORTING]: {\n      renderStep: () => <MetricsOrderingContainer />,\n      title: translate(\"metrics-sorting\"),\n    },\n    [STEP_MAIN_CHOICE]: {\n      renderStep: () => <MainChoiceContainer />,\n      title: translate(\"main-choice\"),\n      disabled: !metricsOrderIsValidated,\n    },\n    [STEP_SECONDARY_CHOICE_1]: {\n      renderStep: () =>\n        Object.keys(filters).length < 2 ? null : (\n          <SecondaryChoiceContainer\n            nextStep={\n              iterationNumber === 0\n                ? STEP_MODEL_CHOICE\n                : STEP_SECONDARY_CHOICE_2\n            }\n            metricsExtent={[1, 2]}\n            previousExtents={[[0, 1]]}\n          />\n        ),\n      title: translate(\"secondary-choice\") + \" 1\",\n      disabled: !metricsOrderIsValidated || Object.keys(filters).length < 2,\n    },\n    [STEP_SECONDARY_CHOICE_2]: {\n      renderStep: () => (\n        /* Object.keys(filters).length < 4 ? null :*/\n        <SecondaryChoiceContainer\n          nextStep={STEP_MODEL_CHOICE}\n          previousExtents={[\n            [0, 1],\n            [1, 2],\n          ]}\n          metricsExtent={[2, 3]}\n        />\n      ),\n      title: translate(\"secondary-choice\") + \" 2\",\n      disabled: !metricsOrderIsValidated /*|| Object.keys(filters).length < 4*/,\n    },\n    // [STEP_SECONDARY_CHOICE_3]: {\n    //   renderStep: () => (\n    //     /* Object.keys(filters).length < 4 ? null :*/ <SecondaryChoiceContainer\n    //       nextStep={STEP_MODEL_CHOICE}\n    //       previousExtents={[\n    //         [0, 1],\n    //         [1, 2],\n    //         [2, 3],\n    //       ]}\n    //       metricsExtent={[3, 4]}\n    //     />\n    //   ),\n    //   title: translate(\"secondary-choice\") + \" 3\",\n    //   disabled: !metricsOrderIsValidated /*|| Object.keys(filters).length < 4*/,\n    // },\n    [STEP_MODEL_CHOICE]: {\n      renderStep: () =>\n        Object.keys(filters).length < 2 ? null : (\n          <ModelChoiceContainer\n            step={STEP_MODEL_CHOICE}\n            previousStep={\n              iterationNumber === 0\n                ? STEP_SECONDARY_CHOICE_1\n                : STEP_SECONDARY_CHOICE_2\n            }\n          />\n        ),\n      title: translate(\"model-choice\"),\n      disabled: !metricsOrderIsValidated /*|| Object.keys(filters).length < 5*/,\n    },\n    [STEP_CONCLUSION]: {\n      renderStep: () => <ConclusionContainer />,\n      title: translate(\"conclusion\"),\n      disabled: !metricsOrderIsValidated || !choosenModel,\n    },\n  };\n  // console.log({ currentStep, steps });\n\n  // const metricsInfo = [\n  //   // STEP_METRICS_EXPLANATION_0,\n  //   // STEP_METRICS_EXPLANATION_1,\n  //   // STEP_METRICS_EXPLANATION_2,\n  //   // STEP_METRICS_EXPLANATION_3,\n  //   // STEP_METRICS_EXPLANATION_4,\n  //   // STEP_METRICS_EXPLANATION_5,\n  // ];\n  // metricsInfo.forEach((index) => {\n  //   steps[index] = {\n  //     renderStep: () => <MetricsIntroContainer />,\n  //     title: `${translate(\"intro-metrics\")} (${index + 1})`,\n  //   };\n  // });\n  return (\n    <div className=\"container\">\n      {Object.entries(steps).map(([index, s]) => {\n        const { renderStep } = s;\n        return (\n          <StepContainer key={index} active={+index === currentStep}>\n            {renderStep()}\n          </StepContainer>\n        );\n      })}\n      <StepNav\n        {...{\n          currentStep,\n          setCurrentStep,\n          steps,\n        }}\n      />\n      <Tooltip id=\"tooltip\" />\n    </div>\n  );\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  ...ownProps,\n  ...state,\n  ...uiDuck.selector(state.ui),\n  ...dataDuck.selector(state.data),\n});\n\nconst mapDispatchToProps = (dispatch) =>\n  bindActionCreators(\n    {\n      ...uiDuck,\n      ...dataDuck,\n    },\n    dispatch\n  );\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GlobalContainer);\n","/**\n * Fonio Reducers Endpoint\n * ===================================\n *\n * Combining the app's reducers.\n */\nimport { combineReducers } from \"redux\";\nimport { rememberReducer } from \"redux-remember\";\nimport data from \"./duckData\";\nimport history from \"./duckHistory\";\nimport ui from \"./duckUi\";\n\nexport default rememberReducer(\n  combineReducers({\n    data,\n    history,\n    ui,\n  })\n);\n","/**\n * Promise middleware\n * ===================================\n * If a promise is passed in an action,\n * this middleware will resolve it and dispatch related actions names\n * (ACTION_NAME when started, then ACTION_NAME_SUCCESS or ACTION_NAME_FAIL depending on promise outcome)\n */\n\nconst promiseMiddleware = () => ({ dispatch, getState }) => (next) => (\n  action\n) => {\n  // If the action is a function, execute it\n  if (typeof action === \"function\") {\n    return action(dispatch, getState);\n  }\n\n  const { promise, type, ...rest } = action;\n\n  // If there is no promise in the action, ignore it\n  if (!promise) {\n    // pass the action to the next middleware\n    return next(action);\n  } else if (typeof promise !== \"function\" || !Promise.resolve(promise)) {\n    console.warn(\n      'passed an action with a \"promise\" prop which is not a promise function, action:',\n      action\n    ); /* eslint  no-console : 0 */\n    return next(action);\n  }\n  // build constants that will be used to dispatch actions\n  const REQUEST = `${type}_PENDING`;\n  const SUCCESS = `${type}_SUCCESS`;\n  const FAIL = `${type}_FAIL`;\n  const RESET = `${type}_RESET`;\n\n  /*\n   * Trigger the action once to dispatch\n   * the fact promise is starting resolving (for loading indication for instance)\n   */\n  next({ ...rest, type: REQUEST });\n  // resolve promise\n  return promise(dispatch, getState)\n    .then((result) => {\n      setTimeout(() => next({ ...rest, type: RESET }), 1000);\n      return next({ ...rest, result, type: SUCCESS });\n    })\n    .catch((error) => next({ ...rest, error, type: FAIL }));\n};\n\nexport default promiseMiddleware;\n","/* eslint import/no-webpack-loader-syntax: off */\nimport \"./App.scss\";\n\nimport { Provider } from \"react-redux\";\nimport { Helmet } from \"react-helmet\";\n\nimport Container from \"./containers/GlobalContainer\";\n\nimport configureStore from \"./state/store\";\nimport translate from \"./helpers/translate\";\n\nconst initialState = {};\n\nconst store = configureStore(initialState);\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <Helmet>\n        <title>{translate(\"site_title\")}</title>\n      </Helmet>\n      <Container />\n    </Provider>\n  );\n}\n\nexport default App;\n","/**\n * Fonio store configuration\n * ===================================\n * Configuring store with appropriate middlewares\n */\nimport { applyMiddleware, createStore, compose } from \"redux\";\nimport rootReducer from \"./rootReducer\";\nimport promiseMiddleware from \"./promiseMiddleware\";\nimport { rememberEnhancer } from \"redux-remember\";\n\n/**\n * Configures store with a possible inherited state and appropriate reducers\n * @param initialState - the state to use to bootstrap the reducer\n * @return {object} store - the configured store\n */\nexport default function configureStore(initialState = {}) {\n  // Compose final middleware with thunk and promises handling\n  const middleware = applyMiddleware(promiseMiddleware());\n  // Create final store and subscribe router in debug env ie. for devtools\n  const createStoreWithMiddleware = window.__REDUX_DEVTOOLS_EXTENSION__\n    ? compose(\n        // related middlewares\n        middleware,\n        // connection to redux dev tools\n        window.__REDUX_DEVTOOLS_EXTENSION__(),\n        rememberEnhancer(window.localStorage, [\"ui\", \"data\", \"history\"])\n      )(createStore)\n    : compose(\n        middleware,\n        rememberEnhancer(window.localStorage, [\"ui\", \"data\", \"history\"])\n      )(createStore);\n\n  const store = createStoreWithMiddleware(rootReducer, initialState);\n  return store;\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","module.exports = [{\"id\":\"age\",\"name\":\"age\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"credit_history\",\"name\":\"historique de remboursement des crédits passés dans la même banque\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"foreign_worker\",\"name\":\"travailleur étranger\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"housing\",\"name\":\"logement\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"installment_as_income_perc\",\"name\":\"part de la mensualité de remboursement sur le salaire mensuel\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"other_debtors\",\"name\":\"présence de dettes dans d'autres banques\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"personal._status\",\"name\":\"célibataire / marié\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"present_emp_since\",\"name\":\"emploi actuel depuis\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"property\",\"name\":\"patrimoine\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"telephone\",\"name\":\"téléphone\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"account_check_status\",\"name\":\"montant dans le compte courant\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"credits_this_bank\",\"name\":\"nombre de crédits précédents souscrits dans cette même banque\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"other_installment_plans\",\"name\":\"autres projets d'investissements en cours\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"sex\",\"name\":\"sexe\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"credit_amount\",\"name\":\"montant du crédit\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"savings\",\"name\":\"épargnes\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"people_under_maintenance\",\"name\":\"personnes à charge\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"present_res_since\",\"name\":\"résidence actuelle depuis\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"job\",\"name\":\"emploi\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"duration_in_month\",\"name\":\"durée en mois du crédit\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"purpose\",\"name\":\"objectif\",\"description\":null,\"relates_to_privacy\":false}]","module.exports = {\"site_title\":\"Pratiques de l'IA\",\"step\":\"étape\",\"next_step\":\"continuer\",\"previous_step\":\"retour\",\"validate\":\"valider\",\"step_1_title\":\"Étape 1 : sans l'interface\",\"step_2_title\":\"Étape 2 : la législation européenne\",\"step_3_title\":\"Étape 3 : mesurer l'éthique ?\",\"sort_screen_title\":\"Classer les indicateurs\",\"sort_screen_prompt\":\"Veuillez classer les indicateurs dans l'ordre qui vous semble être celui du plus important au moins important.\",\"sort_screen_prompt_details\":\"Vous pouvez faire glisser les cartes dans l'ordre désiré.\",\"main_choice_screen_title\":\"Sélectionner des modèles dans les deux dimensions les plus importantes\",\"main_choice_screen_intro\":\"Veuillez sélectionner des modèles à partir des deux indicateurs que vous avez définis comme les plus importants.\",\"second_choice_screen_title\":\"Sélectionner des modèles dans les autres dimensions\",\"second_choice_screen_intro\":\"Veuillez sélectionner des modèles à partir des filtrages précédents.\",\"model_choice_screen_title\":\"Choisir un modèle\",\"model_choice_screen_intro\":\"Parmi les modèles qui correspondent aux arbitrages réalisés précédemment (rappelés ci-dessous), veuillez sélectionner le modèle qui correspond le mieux à une prise de décision éthique. Chaque ligne correspond à un modèle dont les caractéristiques sont rappelées sur chaque colonne.\",\"dataiku_input_screen_title\":\"Avant de voir vos résultats, entrez les métriques de votre première expérience\",\"dataiku_input_screen_intro\":\"Veuillez renseigner les informations pour les métriques fournies.\",\"conclusion_screen_title\":\"Conclusion\",\"conclusion_results_title\":\"Votre évolution entre les étapes 1 et 2\",\"conclusion_history_title\":\"Votre cheminement\",\"restart\":\"Recommencer l'expérience\",\"navigated_to\":\"A navigué sur\",\"add_filters\":\"A ajouté des filtres pour les indicateurs\",\"app_header_view\":\"l'accueil\",\"dataiku_practice_view\":\"la vue dédiée à la phase d'expérimentation avec dataiku\",\"eu_legislation_view\":\"la vue dédiée à la legislation européenne\",\"metrics_explanation_view\":\"la vue dédiée à l'explication des indicateurs\",\"metrics_sorting_view\":\"la vue dédiée à l'ordonnancement des indicateurs\",\"main_filter_view\":\"la vue dédiée au filtre principal\",\"secondary_filter_view\":\"la vue dédiée au filtre secondaire\",\"tertiary_filter_view\":\"la vue dédiée au filtre tertiaire\",\"model_choice_view\":\"la vue dédiée au choix du modèle\",\"dataiku_feedback_view\":\"la vue dédiée à entrer les informations dataiku\",\"conclusion_view\":\"la vue de conclusion\",\"set_choosen_model\":\"A choisi son modèle\",\"set_dataiku_results\":\"A entré les résultats obtenus via dataiku\",\"changed_metrics_order_to\":\"A changé l'ordre des indicateurs pour\",\"started_the_app\":\"A commencé l'expérimentation\",\"and\":\"et\",\"download\":\"télécharger\",\"download_history\":\"télécharger l'historique\",\"first_model_dataiku\":\"Premier modèle issu de l'expérience avec Dataiku\",\"second_model_choosen\":\"Second modèle issu de l'expérience avec cette interface\",\"performance\":\"Performance\",\"disparate_impact\":\"Disparate impact sur le genre\",\"errors_distribution\":\"Distribution des erreurs entre hommes et femmes\",\"privacy\":\"Privacy\",\"interpretability\":\"Interprétabilité\",\"dataiku_results_label\":\"Votre score issu de l'étape 1 sans l'interface\",\"privacy_prompt\":\"Définissez les variables qui relèvent de la privacy selon vous\",\"home\":\"accueil\",\"intro-dataiku\":\"Étape 1 - expérience sans l'interface\",\"intro-eu\":\"Principes de l'Union Européenne\",\"metrics-sorting\":\"Classement des métriques\",\"main-choice\":\"Arbitrage principal\",\"secondary-choice\":\"Arbitrage secondaire\",\"model-choice\":\"Choix du modèle\",\"conclusion\":\"Conclusion\",\"intro-metrics\":\"Introduction aux métriques\",\"show-descriptions\":\"montrer les descriptions des métriques\",\"move_up\":\"remonter\",\"move_down\":\"descendre\",\"select_model\":\"sélectionner\",\"dataiku_results_label_for_performance\":\"Votre indicateur de performance sans l'interface\",\"dataiku_results_label_for_privacy\":\"Nombre de variables privées utilisées sans l'interface\",\"dataiku_results_label_for_disparate_impact\":\"Votre indicateur de disparate impact sans l'interface\",\"dataiku_results_label_for_errors_distribution\":\"Votre indicateur de distribution des erreurs sans l'interface\",\"dataiku_results_label_for_interpretability\":\"Nombre de variables utilisées sans l'interface\",\"similarity\":\"Similarité\",\"sort_by\":\"Trier les modèles sélectionnés par\",\"no_value\":\"pas de valeur\",\"loading\":\"Chargement\",\"show_more_models\":\"montrer plus de modèles\",\"not_displayed\":\"non affichés\",\"new_iteration\":\"S'équiper avec de nouvelles métriques\",\"set_iteration_number\":\"A commencé l'itération n°\"}","\n\t\t\t\tvar addMethods = require(\"../node_modules/workerize-loader/dist/rpc-wrapper.js\")\n\t\t\t\tvar methods = [\"getVisibleModels\"]\n\t\t\t\tmodule.exports = function() {\n\t\t\t\t\tvar w = new Worker(__webpack_public_path__ + \"f972461c35f4d9dfd269.worker.js\", { name: \"[hash].worker.js\" })\n\t\t\t\t\taddMethods(w, methods)\n\t\t\t\t\t\n\t\t\t\t\treturn w\n\t\t\t\t}\n\t\t\t"],"sourceRoot":""}