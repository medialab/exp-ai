{"version":3,"sources":["helpers/stateHelpers.js","helpers/client.js","state/duckData.js","state/duckUi.js","constants.js","components/StepNav.js","components/StepContainer.js","helpers/translate.js","components/ContinueButton.js","containers/HeaderContainer.js","contents/global_intro.md","containers/InitialProvocationContainer.js","helpers/misc.js","helpers/sorting.js","containers/MetricsOrderingContainer.js","components/InfoTip.js","components/MetricsCrossingIndicator.js","components/BrushableScatterPlot.js","components/VariableInputs.js","helpers/filters.js","components/FilterForm.js","containers/MainChoiceContainer.js","components/MiniGraph.js","containers/SecondaryChoiceContainer.js","containers/ModelChoiceContainer.js","state/duckHistory.js","helpers/download.js","helpers/history.js","components/History.js","components/DebouncedInput.js","containers/ConclusionContainer.js","containers/FinalProvocationContainer.js","containers/GlobalContainer.js","state/rootReducer.js","state/promiseMiddleware.js","App.js","state/store.js","reportWebVitals.js","index.js","contents/variables_list.fr.yml","contents/messages.fr.yml","contents/provocations.yml","contents/metrics_list.fr.yml","worker.js"],"names":["setPropInState","actionName","payload","state","varName","replace","toLowerCase","a","b","substr","toUpperCase","fetchData","Promise","resolve","reject","get","process","then","data","map","datum","id","variables","nom_modele","split","undefined","formatModels","csvParse","catch","GET_DATA","SET_METRICS_ORDER","SET_PRIVACY_VARIABLES","ADD_FILTERS","SET_CHOOSEN_MODEL","SET_DATAIKU_RESULTS","SET_PREVIOUS_MODEL","RESET_APP","resetApp","type","getData","promise","setMetricsOrder","setPrivacyVariables","addFilters","setChoosenModel","setDataikuResults","setPreviousModel","defaultPrivacyVariables","reduce","res","relates_to_privacy","DEFAULT_STATE","models","metricsOrder","metrics","filter","m","iteration","filters","choosenModel","dataikuResults","privacyVariables","previousModel","action","result","SET_METRICS_ORDER_IS_VALIDATED","selector","createStructuredSelector","SET_CURRENT_STEP","SET_ITERATION_NUMBER","SET_MAIN_CHOICE_IS_VALIDATED","START_APP","setCurrentStep","setMetricsOrderIsValidated","setMainChoiceIsValidated","setIterationNumber","startApp","currentStep","numberOfSteps","metricsOrderIsValidated","mainChoiceIsValidated","iterationNumber","ui","StepNav","steps","className","Object","entries","index","step","cx","active","disabled","onClick","data-for","data-tip","title","data-effect","data-place","StepContainer","children","style","otherProps","nodeRef","useRef","useEffect","setTimeout","document","querySelector","scrollTo","top","behavior","Transition","in","timeout","ref","translate","key","lang","messagesFr","console","warn","ContinueButton","onSetCurrentStep","onPreviousStep","backwardEnabled","onSubmit","submitMessage","relativePosition","props","e","preventDefault","stopPropagation","connect","ownProps","uiDuck","dispatch","bindActionCreators","source","provocations","provocation","src","alt","metricsColorMap","color","reorder","list","startIndex","endIndex","Array","from","splice","removed","dataDuck","useState","displayDescriptions","setDisplayDescriptions","ReactTooltip","rebuild","onDragEnd","destination","items","droppableId","provided","snapshot","droppableProps","innerRef","isDraggingOver","item","handleDown","handleUp","draggableId","name","draggableProps","dragHandleProps","isDragging","background","length","short_description","placeholder","marginBottom","InfoTip","tip","dataEffect","MetricsCrossingIndicator","metric","BrushableScatterPlot","xVariable","yVariable","filteredVariables","width","height","axisMargin","padding","brush","x","xMinOriginal","xMaxOriginal","y","yMinOriginal","yMaxOriginal","onBrushChange","readOnly","minified","highlightedNodeId","xMin","xMax","setXRange","yMin","yMax","setYRange","numberOfTicks","xAccessor","d","vName","includes","yAccessor","xExtent","extent","yExtent","xScale","scaleLinear","domain","range","yScale","reverse","hoveredElement","setHoveredElement","tooltipPosition","setTooltipPosition","isBrushing","setIsBrushing","svgRef","handleMouseMove","svgDims","current","getBoundingClientRect","thatX","invert","clientX","thatY","clientY","handleMouseUp","toFixed","sort","window","addEventListener","removeEventListener","brushX","min","brushWidth","max","brushY","Math","abs","brushHeight","onMouseDown","transform","axisPropsFromTickScale","orient","BOTTOM","LEFT","handleOvered","cy","onMouseEnter","onMouseMove","onMouseLeave","r","left","val","parseFloat","join","Slider","createSliderWithTooltip","Range","Input","onChange","validate","value","localValue","setLocalValue","handleBlur","target","onBlur","VariableInputs","values","onRangeChange","axis","onLabelClick","isNaN","filterModels","model","variable","Dimensions","containerWidth","containerHeight","metric1","metric2","absoluteMin1","setAbsoluteMin1","absoluteMax2","setAbsoluteMax2","absoluteMin2","setAbsoluteMin2","absoluteMax1","setAbsoluteMax1","choosenMin1","setChoosenMin1","choosenMax2","setChoosenMax2","choosenMin2","setChoosenMin2","choosenMax1","setChoosenMax1","xOptionsVisible","setXOptionsVisible","yOptionsVisible","setYOptionsVisible","filteredModels","setFilteredModels","hasChoosen","setHasChoosen","theseFilters","absMin1","absMax1","absMin2","absMax2","thatMin","thatMax","thatXMin","thatXMax","thatYMin","thatYMax","paddingLeft","maxWidth","activeMetrics","i","slice","filter1","filter2","0","1","MiniGraph","to","onNav","fromName","toName","displayMode","actuallyHighlitedNodeId","brushData","SLIDER_MULTIPLIER","handleRangeChange","val1","metricsList","find","min1","max1","val2","min2","max2","allowCross","tipFormatter","defaultValue","metricsExtent","fromMetric","toMetric","previousExtents","nextStep","tempFilters","setTempFilters","keys","theseVariables","f","toUpdate","remainingVariablesNumber","workerInstance","worker","colorScales","previousStep","selectedNodeId","setSelectedNodeId","sortMode","setSortMode","setHighlightedNodeId","visibleModels","setVisibleModels","displayFilter","setDisplayFilter","message","getVisibleModels","scale","onMouseOver","parseInt","data-html","history","date","Date","downloadFile","text","extension","fileName","blob","Blob","FileSaver","saveAs","metricsNameMap","variablesNamesMap","variablesList","serializeStep","actionsSerialization","description","symbol","new_order","variable1","range1","filter1_type","filter1_value","variable2","range2","filter2_type","filter2_value","t","couples","j","push","choosen_model","renderAction","renderPayload","History","resume","toLocaleTimeString","DebouncedInput","componentWillReceiveProps","nextProps","setState","delay","debounce","handleChange","render","Component","historyDuck","thatId","variablesLists","el","metricsToCompare","previousValue","dataikuResult","isImproving","expResult","modelsCsv","v","historyCsv","_provocation","renderStep","InitialProvocationContainer","SecondaryChoiceContainer","rememberReducer","combineReducers","promiseMiddleware","getState","next","rest","REQUEST","SUCCESS","FAIL","RESET","error","store","initialState","middleware","applyMiddleware","createStoreWithMiddleware","__REDUX_DEVTOOLS_EXTENSION__","compose","rememberEnhancer","localStorage","createStore","rootReducer","configureStore","App","Helmet","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById","module","exports","addMethods","methods","w","Worker"],"mappings":"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","file":"static/js/main.263795d1.chunk.js","sourcesContent":["export const setPropInState = (actionName, payload, state) => {\n  const varName = actionName\n    .replace(\"SET_\", \"\")\n    .toLowerCase()\n    .replace(/(_[a-z])/gi, (a, b) => b.substr(1).toUpperCase());\n  return {\n    ...state,\n    [varName]: payload,\n  };\n};\n","import get from \"axios\";\nimport { csvParse } from \"d3-dsv\";\n\nconst formatModels = (data) => {\n  return data.map((datum, id) => {\n    return {\n      ...datum,\n      variables: datum.nom_modele.split(\" \"),\n      nom_modele: undefined,\n      id,\n    };\n  });\n};\n\nexport const fetchData = () =>\n  new Promise((resolve, reject) => {\n    get(`${process.env.PUBLIC_URL}/models-sample.csv`)\n      .then(({ data }) => {\n        resolve(formatModels(csvParse(data)));\n      })\n      .catch(reject);\n  });\n","// import { combineReducers } from 'redux';\nimport { createStructuredSelector } from \"reselect\";\nimport { fetchData } from \"../helpers/client\";\nimport { setPropInState } from \"../helpers/stateHelpers\";\n\nimport metrics from \"../contents/metrics_list.fr.yml\";\nimport variables from \"../contents/variables_list.fr.yml\";\n\n/**\n * ACTION NAMES\n */\nimport { SET_METRICS_ORDER_IS_VALIDATED } from \"./duckUi\";\nconst GET_DATA = \"GET_DATA\";\nexport const SET_METRICS_ORDER = \"SET_METRICS_ORDER\";\nexport const SET_PRIVACY_VARIABLES = \"SET_PRIVACY_VARIABLES\";\nexport const ADD_FILTERS = \"ADD_FILTERS\";\nexport const SET_CHOOSEN_MODEL = \"SET_CHOOSEN_MODEL\";\nexport const SET_DATAIKU_RESULTS = \"SET_DATAIKU_RESULTS\";\nexport const SET_PREVIOUS_MODEL = \"SET_PREVIOUS_MODEL\";\nexport const RESET_APP = \"RESET_APP\";\n\n/**\n * ACTION FUNCTIONS\n */\nexport const resetApp = () => ({\n  type: RESET_APP,\n});\nexport const getData = (payload) => ({\n  type: GET_DATA,\n  payload,\n  promise: () => fetchData(),\n});\n\nexport const setMetricsOrder = (payload) => ({\n  type: SET_METRICS_ORDER,\n  payload,\n});\n\nexport const setPrivacyVariables = (payload) => ({\n  type: SET_PRIVACY_VARIABLES,\n  payload,\n});\n\nexport const addFilters = (payload) => ({\n  type: ADD_FILTERS,\n  payload,\n});\n\nexport const setChoosenModel = (payload) => ({\n  type: SET_CHOOSEN_MODEL,\n  payload,\n});\n\nexport const setDataikuResults = (payload) => ({\n  type: SET_DATAIKU_RESULTS,\n  payload,\n});\n\nexport const setPreviousModel = (payload) => ({\n  type: SET_PREVIOUS_MODEL,\n  payload,\n});\n\n/**\n * REDUCER\n */\nconst defaultPrivacyVariables = variables.reduce(\n  (res, { relates_to_privacy, id }) => ({\n    ...res,\n    [id]: relates_to_privacy,\n  }),\n  {}\n);\n\nconst DEFAULT_STATE = {\n  models: [],\n  metricsOrder: [...metrics.filter((m) => m.iteration === 0)],\n  filters: {},\n  choosenModel: undefined,\n  dataikuResults: {},\n  privacyVariables: defaultPrivacyVariables,\n  previousModel: undefined,\n};\n\nfunction data(state = DEFAULT_STATE, action) {\n  const { payload, result } = action;\n  switch (action.type) {\n    case RESET_APP:\n      return {\n        ...DEFAULT_STATE,\n        models: state.models,\n      };\n    case `${GET_DATA}`:\n      return state;\n    case `${GET_DATA}_SUCCESS`:\n      return {\n        ...state,\n        models: result,\n      };\n    case `${GET_DATA}_ERROR`:\n      return state;\n    case SET_PRIVACY_VARIABLES:\n    case SET_METRICS_ORDER:\n    case SET_PREVIOUS_MODEL:\n      return setPropInState(action.type, payload, state);\n    case ADD_FILTERS:\n      return {\n        ...state,\n        filters: {\n          ...state.filters,\n          ...payload,\n        },\n      };\n    // reset filters cases\n    case SET_METRICS_ORDER_IS_VALIDATED:\n      return {\n        ...state,\n        filters: DEFAULT_STATE.filters,\n      };\n    case SET_DATAIKU_RESULTS:\n    case SET_CHOOSEN_MODEL:\n      return setPropInState(action.type, payload, state);\n    default:\n      return state;\n  }\n}\n\n// export default combineReducers({data, ...})\nexport default data;\n\n/**\n * SELECTOR\n */\n\nconst models = (state) => state.models;\nconst metricsOrder = (state) => state.metricsOrder;\nconst filters = (state) => state.filters;\nconst choosenModel = (state) => state.choosenModel;\nconst dataikuResults = (state) => state.dataikuResults;\nconst privacyVariables = (state) => state.privacyVariables;\nconst previousModel = (state) => state.previousModel;\n\nexport const selector = createStructuredSelector({\n  models,\n  metricsOrder,\n  filters,\n  choosenModel,\n  dataikuResults,\n  privacyVariables,\n  previousModel,\n});\n","// import { combineReducers } from 'redux';\nimport { createStructuredSelector } from \"reselect\";\nimport { setPropInState } from \"../helpers/stateHelpers\";\nimport { STEP_CONCLUSION } from \"../constants\";\n/**\n * ACTION NAMES\n */\nimport { SET_METRICS_ORDER, RESET_APP } from \"./duckData\";\nexport const SET_CURRENT_STEP = \"SET_CURRENT_STEP\";\nexport const SET_ITERATION_NUMBER = \"SET_ITERATION_NUMBER\";\nexport const SET_METRICS_ORDER_IS_VALIDATED = \"SET_METRICS_ORDER_IS_VALIDATED\";\nexport const SET_MAIN_CHOICE_IS_VALIDATED = \"SET_MAIN_CHOICE_IS_VALIDATED\";\nexport const START_APP = \"START_APP\";\n\n/**\n * ACTION FUNCTIONS\n */\nexport const setCurrentStep = (payload) => ({\n  type: SET_CURRENT_STEP,\n  payload,\n});\n\nexport const setMetricsOrderIsValidated = (payload) => ({\n  type: SET_METRICS_ORDER_IS_VALIDATED,\n  payload,\n});\nexport const setMainChoiceIsValidated = (payload) => ({\n  type: SET_MAIN_CHOICE_IS_VALIDATED,\n  payload,\n});\nexport const setIterationNumber = (payload) => ({\n  type: SET_ITERATION_NUMBER,\n  payload,\n});\n\nexport const startApp = (payload) => ({\n  type: START_APP,\n  payload,\n});\n\n/**\n * REDUCER\n */\nconst DEFAULT_STATE = {\n  currentStep: 0,\n  numberOfSteps: STEP_CONCLUSION,\n  metricsOrderIsValidated: false,\n  mainChoiceIsValidated: false,\n  iterationNumber: 0,\n};\n\nfunction ui(state = DEFAULT_STATE, action) {\n  const { payload } = action;\n  switch (action.type) {\n    case RESET_APP:\n      return DEFAULT_STATE;\n    case SET_CURRENT_STEP:\n    case SET_ITERATION_NUMBER:\n      return setPropInState(action.type, payload, state);\n    case SET_METRICS_ORDER_IS_VALIDATED:\n      return {\n        ...state,\n        metricsOrderIsValidated: payload,\n        mainChoiceIsValidated: payload ? state.mainChoiceIsValidated : false,\n      };\n    case SET_MAIN_CHOICE_IS_VALIDATED:\n      return {\n        ...state,\n        mainChoiceIsValidated: payload,\n      };\n    case SET_METRICS_ORDER:\n      return {\n        ...state,\n        metricsOrderIsValidated: false,\n      };\n    default:\n      return state;\n  }\n}\n\n// export default combineReducers({data, ...})\nexport default ui;\n\n/**\n * SELECTOR\n */\n\nconst currentStep = (state) => state.currentStep;\nconst numberOfSteps = (state) => state.numberOfSteps;\nconst metricsOrderIsValidated = (state) => state.metricsOrderIsValidated;\nconst mainChoiceIsValidated = (state) => state.mainChoiceIsValidated;\nconst iterationNumber = (state) => state.iterationNumber;\n\nexport const selector = createStructuredSelector({\n  currentStep,\n  numberOfSteps,\n  metricsOrderIsValidated,\n  mainChoiceIsValidated,\n  iterationNumber,\n});\n","// export const STEP_HEADER = 0;\n// export const STEP_DATAIKU_PRACTICE = 1;\n// export const STEP_EU_LEGISLATION = 2;\n\n// export const STEP_METRICS_EXPLANATION_0 = 3;\n// export const STEP_METRICS_EXPLANATION_1 = 4;\n// export const STEP_METRICS_EXPLANATION_2 = 5;\n// export const STEP_METRICS_EXPLANATION_3 = 6;\n// export const STEP_METRICS_EXPLANATION_4 = 7;\n// export const STEP_METRICS_EXPLANATION_5 = 8;\n\n// export const STEP_METRICS_SORTING = 9;\n// export const STEP_MAIN_CHOICE = 10;\n// export const STEP_SECONDARY_CHOICE_1 = 11;\n// export const STEP_SECONDARY_CHOICE_2 = 12;\n// export const STEP_MODEL_CHOICE = 13;\n// export const STEP_CONCLUSION = 14;\n\nexport const STEP_HEADER = 0;\nexport const STEP_INITIAL_PROVOCATION = 1;\n// export const STEP_DATAIKU_PRACTICE = 1;\n\n// export const STEP_EU_LEGISLATION = 2;\n\n// export const STEP_METRICS_EXPLANATION_0 = 3;\n// export const STEP_METRICS_EXPLANATION_1 = 4;\n// export const STEP_METRICS_EXPLANATION_2 = 5;\n// export const STEP_METRICS_EXPLANATION_3 = 6;\n// export const STEP_METRICS_EXPLANATION_4 = 7;\n// export const STEP_METRICS_EXPLANATION_5 = 8;\n\nexport const STEP_METRICS_SORTING = 2;\nexport const STEP_MAIN_CHOICE = 3;\nexport const STEP_SECONDARY_CHOICE_1 = 4;\nexport const STEP_SECONDARY_CHOICE_2 = 5;\nexport const STEP_SECONDARY_CHOICE_3 = 6;\nexport const STEP_MODEL_CHOICE = 7;\nexport const STEP_CONCLUSION = 8;\nexport const STEP_FINAL_PROVOCATION_1 = 9;\nexport const STEP_FINAL_PROVOCATION_2 = 10;\nexport const STEP_FINAL_PROVOCATION_3 = 11;\n/**\n * Number of decimals after comma for indicators brushes\n */\nexport const DECIMALS = 3;\n","import React, {\n  useState,\n  useMemo,\n} from \"react\"; /* eslint no-unused-vars : 0 */\nimport cx from \"classnames\";\n\nimport \"./StepNav.scss\";\n\nfunction StepNav({ currentStep, setCurrentStep, steps }) {\n  return (\n    <nav className=\"step-nav\">\n      <ul className=\"step-nav-items-container\">\n        {Object.entries(steps).map(([index, step]) => (\n          <li\n            className={cx(\"step-nav-item\", {\n              active: +index === currentStep,\n              disabled: step.disabled,\n            })}\n            onClick={() => setCurrentStep(+index)}\n            key={index}\n            data-for=\"tooltip\"\n            data-tip={step.title}\n            data-effect=\"solid\"\n            data-place=\"left\"\n          />\n        ))}\n      </ul>\n    </nav>\n  );\n}\n\nexport default StepNav;\n","import react, {\n  useRef,\n  useEffect,\n} from \"react\"; /* eslint no-unused-vars : 0 */\nimport { Transition } from \"react-transition-group\";\nimport cx from \"classnames\";\n\nimport \"./StepContainer.scss\";\n\nconst visibleStyle = {\n  opacity: 1,\n  maxHeight: \"calc(100vh - 4rem)\",\n  minHeight: \"calc(100vh - 4rem)\",\n};\nconst hiddenStyle = {\n  opacity: 0,\n  maxHeight: 0,\n  minHeight: 0,\n};\n\nconst transitionStyles = {\n  entering: visibleStyle,\n  entered: visibleStyle,\n  exiting: hiddenStyle,\n  exited: hiddenStyle,\n};\nconst duration = 300;\n\nfunction StepContainer({ children, active, style = {}, ...otherProps }) {\n  const nodeRef = useRef(null);\n  useEffect(() => {\n    if (active) {\n      setTimeout(() => {\n        document.querySelector(\"html\").scrollTo({\n          top: 0,\n          behavior: \"smooth\",\n        });\n      }, 500);\n    }\n  }, [active]);\n  return (\n    <Transition nodeRef={nodeRef} in={active} timeout={duration}>\n      {(state) => (\n        <div\n          className={cx(\"step-container\", state)}\n          ref={nodeRef}\n          {...otherProps}\n          style={{\n            ...style,\n            // ...transitionStyles[state],\n          }}\n        >\n          {children}\n        </div>\n      )}\n    </Transition>\n  );\n}\n\nexport default StepContainer;\n","import messagesFr from \"../contents/messages.fr.yml\";\n\nfunction translate(key, lang = \"fr\") {\n  if (lang === \"fr\") {\n    if (!messagesFr[key]) {\n      console.warn(\"unstranslated key: \", key);\n    }\n    return messagesFr[key] || key;\n  }\n}\n\nexport default translate;\n","import React from \"react\"; /* eslint no-unused-vars : 0 */\nimport translate from \"../helpers/translate\";\nimport cx from \"classnames\";\n\nfunction ContinueButton({\n  currentStep,\n  onSetCurrentStep,\n  onPreviousStep,\n  disabled,\n  backwardEnabled,\n  onSubmit,\n  submitMessage,\n  relativePosition,\n  ...props\n}) {\n  const onNext = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (typeof onSubmit === \"function\") {\n      onSubmit();\n    } else {\n      onSetCurrentStep(currentStep + 1);\n    }\n  };\n  const onPrevious = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (typeof onPreviousStep === \"function\") {\n      onPreviousStep();\n    } else {\n      onSetCurrentStep(currentStep - 1);\n    }\n  };\n  return (\n    <div\n      className={cx(\"continue-button-container\", {\n        \"backward-enabled\": backwardEnabled,\n        \"relative-position\": relativePosition,\n      })}\n    >\n      <button\n        disabled={disabled}\n        onClick={onNext}\n        className=\"continue-button next\"\n        {...props}\n        type=\"button\"\n      >\n        {submitMessage || translate(\"next_step\")}\n      </button>\n\n      {backwardEnabled ? (\n        <button\n          onClick={onPrevious}\n          className=\"continue-button previous\"\n          type=\"button\"\n        >\n          {translate(\"previous_step\")}\n        </button>\n      ) : null}\n    </div>\n  );\n}\n\nexport default ContinueButton;\n","/* eslint import/no-webpack-loader-syntax: off */\nimport react from \"react\"; /* eslint no-unused-vars : 0 */\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport Md from \"react-markdown\";\n\nimport translate from \"../helpers/translate\";\n\nimport * as uiDuck from \"../state/duckUi\";\n\nimport intro from \"!!raw-loader!../contents/global_intro.md\";\n\nimport ContinueButton from \"../components/ContinueButton\";\n// import { STEP_DATAIKU_PRACTICE } from \"../constants\";\nimport { STEP_INITIAL_PROVOCATION } from \"../constants\";\n\nfunction HeaderContainer({ setCurrentStep }) {\n  return (\n    <header className=\"header contents-wrapper\">\n      <div className=\"contents-container\">\n        <h1 className=\"header-title\">{translate(\"site_title\")}</h1>\n        <div className=\"emphasis\">\n          <Md source={intro} />\n        </div>\n      </div>\n      <ContinueButton\n        onClick={() => setCurrentStep(STEP_INITIAL_PROVOCATION)}\n      />\n    </header>\n  );\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  ...ownProps,\n  ...state,\n  ...uiDuck.selector(state.ui),\n});\n\nconst mapDispatchToProps = (dispatch) =>\n  bindActionCreators(\n    {\n      ...uiDuck,\n    },\n    dispatch\n  );\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderContainer);\n","export default \"Vous participez  une enqute dans le cadre de la conception dun outil de Machine Learning. Cette enqute est ralise par lInstitut Mines-Tlcom et Sciences Po dans le cadre dun travail de recherche.\\n\";","/* eslint import/no-webpack-loader-syntax: off */\nimport react from \"react\"; /* eslint no-unused-vars : 0 */\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\n\nimport translate from \"../helpers/translate\";\n\nimport provocations from \"../contents/provocations.yml\";\n\nimport * as uiDuck from \"../state/duckUi\";\n\nimport ContinueButton from \"../components/ContinueButton\";\n// import { STEP_DATAIKU_PRACTICE } from \"../constants\";\nimport { STEP_METRICS_SORTING } from \"../constants\";\n\nfunction HeaderContainer({ setCurrentStep, ui: { iterationNumber } }) {\n  const handleNext = () => setCurrentStep(STEP_METRICS_SORTING);\n  return (\n    <header className=\"header contents-wrapper\">\n      <div className=\"contents-container\">\n        {provocations\n          .filter((provocation) => provocation.iteration === iterationNumber)\n          .map(({ id, src }) => (\n            <div className=\"provocation-image-container\">\n              <h1>{translate(\"provocation_intro\")}</h1>\n              <img\n                key={id}\n                src={`${process.env.PUBLIC_URL}/images/${src}`}\n                alt={id}\n              />\n            </div>\n          ))}\n      </div>\n      <ContinueButton onClick={handleNext} />\n    </header>\n  );\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  ...ownProps,\n  ...state,\n  ...uiDuck.selector(state.ui),\n});\n\nconst mapDispatchToProps = (dispatch) =>\n  bindActionCreators(\n    {\n      ...uiDuck,\n    },\n    dispatch\n  );\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderContainer);\n","import metrics from \"../contents/metrics_list.fr.yml\";\nexport const metricsColorMap = metrics.reduce(\n  (res, { id, color }) => ({\n    ...res,\n    [id]: color,\n  }),\n  {}\n);\n","// a little function to help us with reordering the result\nexport const reorder = (list, startIndex, endIndex) => {\n  const result = Array.from(list);\n  const [removed] = result.splice(startIndex, 1);\n  result.splice(endIndex, 0, removed);\n\n  return result;\n};\n\nconst grid = 8;\n\nexport const getItemStyle = (isDragging, draggableStyle) => ({\n  // some basic styles to make the items look a bit nicer\n  userSelect: \"none\",\n  padding: grid * 2,\n  margin: `0 0 ${grid}px 0`,\n\n  // change background colour if dragging\n  background: isDragging ? \"lightgreen\" : \"grey\",\n\n  // styles we need to apply on draggables\n  ...draggableStyle,\n});\n\nexport const getListStyle = (isDraggingOver) => ({\n  background: isDraggingOver ? \"lightblue\" : \"lightgrey\",\n  padding: grid,\n  width: 250,\n});\n","import react, {\n  useState,\n  useEffect,\n} from \"react\"; /* eslint no-unused-vars : 0 */\n\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport cx from \"classnames\";\nimport translate from \"../helpers/translate\";\n\nimport { metricsColorMap } from \"../helpers/misc\";\n\nimport * as uiDuck from \"../state/duckUi\";\nimport * as dataDuck from \"../state/duckData\";\n\nimport { reorder } from \"../helpers/sorting\";\nimport { STEP_MAIN_CHOICE, STEP_METRICS_SORTING } from \"../constants\";\nimport ContinueButton from \"../components/ContinueButton\";\nimport ReactTooltip from \"react-tooltip\";\n\n// import metrics from \"../contents/metrics_list.fr.yml\";\nfunction MetricsOrderingContainer({\n  ui: { metricsOrderIsValidated, iterationNumber },\n  data: { metricsOrder },\n  setCurrentStep,\n  setMetricsOrder,\n  setMetricsOrderIsValidated,\n  currentStep,\n}) {\n  const [displayDescriptions, setDisplayDescriptions] = useState(false);\n  useEffect(() => {\n    setTimeout(() => ReactTooltip.rebuild());\n  }, [currentStep]);\n  const onDragEnd = (result) => {\n    // dropped outside the list\n    if (!result.destination) {\n      return;\n    }\n    const items = reorder(\n      metricsOrder,\n      result.source.index,\n      result.destination.index\n    );\n\n    setMetricsOrder(items);\n  };\n\n  const handleValidateOrder = () => {\n    setMetricsOrderIsValidated(true);\n    setCurrentStep(STEP_MAIN_CHOICE);\n  };\n  return (\n    <section className=\"sort-screen\">\n      <h1 className=\"step-title\">{translate(\"sort_screen_title\")}</h1>\n      <p className=\"instructions\">{translate(\"sort_screen_prompt\")}</p>\n      <p className=\"instructions more-instructions\">\n        {translate(\"sort_screen_prompt_details\")}\n      </p>\n      <DragDropContext onDragEnd={onDragEnd}>\n        <Droppable droppableId=\"droppable\">\n          {(provided, snapshot) => (\n            <div\n              {...provided.droppableProps}\n              ref={provided.innerRef}\n              className={cx(\"draggable-list\", {\n                \"is-dragging\": snapshot.isDraggingOver,\n              })}\n            >\n              {metricsOrder.map((item, index) => {\n                const handleDown = () => {\n                  const items = reorder(metricsOrder, index, index + 1);\n                  setMetricsOrder(items);\n                };\n                const handleUp = () => {\n                  const items = reorder(metricsOrder, index, index - 1);\n                  setMetricsOrder(items);\n                };\n                return (\n                  <Draggable\n                    key={item.name}\n                    draggableId={item.name}\n                    index={index}\n                  >\n                    {(provided, snapshot) => (\n                      <div\n                        ref={provided.innerRef}\n                        {...provided.draggableProps}\n                        {...provided.dragHandleProps}\n                        className={cx(\"draggable-item\", {\n                          \"is-dragged\": snapshot.isDragging,\n                        })}\n                        style={\n                          provided.draggableProps\n                            .style /*getItemStyle(\n                        snapshot.isDragging,\n                        provided.draggableProps.style\n                      )*/\n                        }\n                      >\n                        <h3 className=\"sortable-title\">\n                          <span>\n                            <span\n                              className=\"number-indicator\"\n                              style={{\n                                background: metricsColorMap[item.id],\n                              }}\n                            >\n                              <span>{index + 1}</span>\n                            </span>\n                          </span>\n                          <span\n                            className={cx(\"move-btn first\", {\n                              \"is-disabled\": index === metricsOrder.length - 1,\n                            })}\n                            data-for=\"sorting\"\n                            data-tip={translate(\"move_down\")}\n                            data-place=\"top\"\n                            data-effect=\"solid\"\n                            onClick={handleDown}\n                          >\n                            <span>\n                              <span></span>\n                            </span>\n                          </span>\n                          <span\n                            className={cx(\"move-btn last\", {\n                              \"is-disabled\": index === 0,\n                            })}\n                            data-for=\"sorting\"\n                            data-tip={translate(\"move_up\")}\n                            data-place=\"top\"\n                            data-effect=\"solid\"\n                            onClick={handleUp}\n                          >\n                            <span>\n                              <span></span>\n                            </span>\n                          </span>\n                          <span className=\"main-title\">{item.name} </span>\n                          <p\n                            className={cx(\"metrics-description\", {\n                              \"is-visible\": displayDescriptions,\n                            })}\n                          >\n                            {item.short_description}\n                          </p>\n                        </h3>\n                        <ReactTooltip id=\"sorting\" />\n                      </div>\n                    )}\n                  </Draggable>\n                );\n              })}\n              {provided.placeholder}\n            </div>\n          )}\n        </Droppable>\n      </DragDropContext>\n      <div style={{ marginBottom: \"2rem\" }}>\n        <button\n          className={cx({ \"is-active\": displayDescriptions })}\n          onClick={() => setDisplayDescriptions(!displayDescriptions)}\n        >\n          {translate(\"show-descriptions\")}\n        </button>\n      </div>\n\n      <ContinueButton\n        currentStep={currentStep}\n        onSetCurrentStep={setCurrentStep}\n        disabled={metricsOrderIsValidated}\n        onSubmit={handleValidateOrder}\n        submitMessage={translate(\"validate\")}\n        relativePosition\n        backwardEnabled\n      />\n    </section>\n  );\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  ...ownProps,\n  ...state,\n  ...uiDuck.selector(state.ui),\n  ...dataDuck.selector(state.data),\n});\n\nconst mapDispatchToProps = (dispatch) =>\n  bindActionCreators(\n    {\n      ...uiDuck,\n      ...dataDuck,\n    },\n    dispatch\n  );\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MetricsOrderingContainer);\n","import react from \"react\"; /* eslint no-unused-vars : 0 */\nimport \"./InfoTip.scss\";\nfunction InfoTip({ tip, ...props }) {\n  return (\n    <span\n      className=\"info-tip\"\n      data-effect={props.dataEffect || \"solid\"}\n      data-tip={tip}\n      {...props}\n    >\n      <span>?</span>\n    </span>\n  );\n}\nexport default InfoTip;\n","import React from \"react\"; /* eslint no-unused-vars : 0 */\nimport cx from \"classnames\";\nimport Tooltip from \"react-tooltip\";\n\nimport { metricsColorMap } from \"../helpers/misc\";\n\nimport \"./MetricsCrossingIndicator.scss\";\nimport InfoTip from \"./InfoTip\";\n\nfunction MetricsCrossingIndicator({ metrics }) {\n  return (\n    <div className=\"metrics-crossing-indicator\">\n      <ul className=\"crossing-indicator-items\">\n        {metrics.map((metric) => (\n          <li\n            className={cx(\"crossing-indicator-item\", { active: metric.active })}\n            key={metric.name}\n            style={{\n              background: metricsColorMap[metric.id],\n            }}\n          >\n            {metric.name}{\" \"}\n            <InfoTip\n              data-place=\"right\"\n              data-effect=\"solid\"\n              tip={metric.short_description}\n            />\n          </li>\n        ))}\n      </ul>\n      <Tooltip />\n    </div>\n  );\n}\n\nexport default MetricsCrossingIndicator;\n","import react, {\n  useEffect,\n  useRef,\n  useState,\n} from \"react\"; /* eslint no-unused-vars : 0 */\nimport { extent, min, max } from \"d3-array\";\nimport { scaleLinear } from \"d3-scale\";\nimport cx from \"classnames\";\nimport { Axis, axisPropsFromTickScale, LEFT, BOTTOM } from \"react-d3-axis\";\n\nimport metrics from \"../contents/metrics_list.fr.yml\";\n\nimport { DECIMALS } from \"../constants\";\n\nimport \"./BrushableScatterPlot.scss\";\n\nfunction BrushableScatterPlot({\n  data,\n  xVariable,\n  yVariable,\n  filteredVariables,\n  width = 500,\n  height = 500,\n  axisMargin = 30,\n  padding = 10,\n  brush: {\n    x: [xMinOriginal, xMaxOriginal],\n    y: [yMinOriginal, yMaxOriginal],\n  },\n  onBrushChange,\n  readOnly = false,\n  minified = false,\n  highlightedNodeId,\n\n  ...props\n}) {\n  const [[xMin, xMax], setXRange] = useState([xMinOriginal, xMaxOriginal]);\n  const [[yMin, yMax], setYRange] = useState([yMinOriginal, yMaxOriginal]);\n  const numberOfTicks = minified ? 3 : 10;\n  useEffect(() => {\n    setXRange([xMinOriginal, xMaxOriginal]);\n    setYRange([yMinOriginal, yMaxOriginal]);\n  }, [xMinOriginal, xMaxOriginal, yMinOriginal, yMaxOriginal]);\n  const xAccessor = (d) =>\n    xVariable === \"Privacy\"\n      ? -d.variables.filter((vName) => filteredVariables.includes(vName)).length\n      : +d[xVariable];\n  const yAccessor = (d) =>\n    yVariable === \"Privacy\"\n      ? -d.variables.filter((vName) => filteredVariables.includes(vName)).length\n      : +d[yVariable];\n  let xExtent = extent(data, xAccessor);\n  let yExtent = extent(data, yAccessor);\n  const xScale = scaleLinear()\n    .domain(xExtent)\n    .range([axisMargin + padding, width - padding]);\n\n  const yScale = scaleLinear()\n    .domain(yExtent.reverse())\n    .range([padding, height - axisMargin - padding]);\n\n  const [hoveredElement, setHoveredElement] = useState(undefined);\n  const [tooltipPosition, setTooltipPosition] = useState([0, 0]);\n  const [isBrushing, setIsBrushing] = useState(false);\n\n  const svgRef = useRef(null);\n\n  const handleMouseDown = (e) => {\n    if (readOnly) return;\n    setIsBrushing(true);\n    setHoveredElement(undefined);\n    const svgDims = svgRef.current.getBoundingClientRect();\n    const thatX = xScale.invert(e.clientX - svgDims.x);\n    const thatY = yScale.invert(e.clientY - svgDims.y);\n    setXRange([thatX, thatX]);\n    setYRange([thatY, thatY]);\n  };\n  useEffect(() => {\n    const handleMouseMove = (e) => {\n      if (readOnly) return;\n      if (isBrushing) {\n        const svgDims = svgRef.current.getBoundingClientRect();\n        const thatX = xScale.invert(e.clientX - svgDims.x);\n        const thatY = yScale.invert(e.clientY - svgDims.y);\n        setXRange([xMin, thatX]);\n        setYRange([yMin, thatY]);\n      }\n    };\n\n    const handleMouseUp = () => {\n      if (readOnly) return;\n      if (isBrushing && xMin !== xMax && yMin !== yMax) {\n        onBrushChange({\n          x: [\n            +xMin.toFixed ? +xMin.toFixed(DECIMALS) : +xMin,\n            +xMax.toFixed ? +xMax.toFixed(DECIMALS) : +xMax,\n          ].sort(),\n          y: [\n            +yMin.toFixed ? +yMin.toFixed(DECIMALS) : +yMin,\n            +yMax.toFixed ? +yMax.toFixed(DECIMALS) : +yMax,\n          ].sort(),\n        });\n      } else {\n        setXRange([xMinOriginal, xMaxOriginal]);\n        setYRange([yMinOriginal, yMaxOriginal]);\n      }\n      setIsBrushing(false);\n    };\n    window.addEventListener(\"mouseup\", handleMouseUp);\n    window.addEventListener(\"mousemove\", handleMouseMove);\n    return () => {\n      window.removeEventListener(\"mouseup\", handleMouseUp);\n      window.removeEventListener(\"mousemove\", handleMouseMove);\n    };\n  }, [isBrushing, xMin, xMax, yMin, yMax]);\n\n  const brushX =\n    xScale(min([xMin, xMax])) < axisMargin + padding\n      ? axisMargin + padding\n      : xScale(min([xMin, xMax]));\n  const brushWidth = xScale(max([xMin, xMax])) - brushX; // Math.abs(xScale(xMax) - xScale(xMin));\n  const brushY =\n    yScale(min([yMin, yMax])) - Math.abs(yScale(yMax) - yScale(yMin));\n  let brushHeight = Math.abs(yScale(yMax) - yScale(yMin));\n  brushHeight =\n    brushHeight + brushY > height - axisMargin - padding\n      ? height - axisMargin - padding - brushY\n      : brushHeight;\n  return (\n    <div className=\"brushable-scatterplot-container\" {...props}>\n      <svg\n        width={width}\n        height={height}\n        ref={svgRef}\n        className={cx(\"brushable-scatterplot\", {\n          \"is-brushing\": isBrushing,\n          \"is-readonly\": readOnly,\n          \"is-minified\": minified,\n        })}\n        onMouseDown={handleMouseDown}\n        // onMouseMove={handleMouseMove}\n        // onMouseUp={handleMouseUp}\n        // onMouseLeave={handleMouseUp}\n      >\n        <g\n          transform={`translate(0, ${height - axisMargin - padding})`}\n          className=\"x-axis\"\n        >\n          <Axis\n            {...axisPropsFromTickScale(xScale, numberOfTicks)}\n            style={{ orient: BOTTOM }}\n          />\n        </g>\n        <g\n          transform={`translate(${axisMargin + padding}, 0)`}\n          className=\"y-axis\"\n        >\n          <Axis\n            {...axisPropsFromTickScale(yScale, numberOfTicks)}\n            style={{ orient: LEFT }}\n          />\n        </g>\n        {xMin && xMax && yMin && yMax ? (\n          <rect\n            x={brushX}\n            y={brushY}\n            width={brushWidth}\n            height={brushHeight}\n            className=\"brush\"\n          />\n        ) : null}\n        <g className=\"chart\">\n          {data.map((datum, index) => {\n            const handleOvered = () => {\n              if (\n                !readOnly &&\n                !minified &&\n                !isBrushing &&\n                (!hoveredElement || hoveredElement.id !== datum.id)\n              ) {\n                setHoveredElement(datum);\n                setTooltipPosition([\n                  10 + xScale(xAccessor(datum)),\n                  yScale(yAccessor(datum)),\n                ]);\n              }\n            };\n            const handleLeave = () => {\n              if (\n                !readOnly &&\n                !minified &&\n                !isBrushing &&\n                hoveredElement &&\n                hoveredElement.id === datum.id\n              ) {\n                setHoveredElement(undefined);\n              }\n            };\n            const x = xAccessor(datum);\n            const y = yAccessor(datum);\n            const xExtent = [xMin, xMax].sort((a, b) => {\n              if (a > b) {\n                return 1;\n              } else return -1;\n            });\n            const yExtent = [yMin, yMax].sort((a, b) => {\n              if (a > b) {\n                return 1;\n              } else return -1;\n            });\n            const active =\n              x >= xExtent[0] &&\n              x <= xExtent[1] &&\n              y >= yExtent[0] &&\n              y <= yExtent[1];\n            return (\n              <circle\n                cx={xScale(x)}\n                cy={yScale(y)}\n                className={cx(\"dot\", {\n                  \"is-active\": active,\n                  \"is-highlighted\":\n                    highlightedNodeId && highlightedNodeId === datum.id,\n                })}\n                onMouseEnter={handleOvered}\n                onMouseMove={handleOvered}\n                onMouseLeave={handleLeave}\n                key={datum.id}\n                r={width / 200}\n              />\n            );\n          })}\n        </g>\n      </svg>\n      {\n        <div\n          className={cx(\"chart-tooltip\", { \"is-active\": hoveredElement })}\n          style={{\n            left: tooltipPosition[0],\n            top: tooltipPosition[1],\n          }}\n        >\n          {hoveredElement && !readOnly && !minified && (\n            <ul>\n              {metrics.map(({ id, name }) => {\n                let val = hoveredElement[id];\n                val = parseFloat(val).toFixed(DECIMALS);\n                return (\n                  <li\n                    key={id}\n                    className={cx(\"tooltip-info\", {\n                      active: id === xVariable || id === yVariable,\n                    })}\n                  >\n                    {name} :{\" \"}\n                    {id === \"Privacy\"\n                      ? -hoveredElement.variables.filter((vName) =>\n                          filteredVariables.includes(vName)\n                        ).length\n                      : val}\n                  </li>\n                );\n              })}\n              <li>Variables : {hoveredElement.variables.join(\", \")}</li>\n            </ul>\n          )}\n        </div>\n      }\n    </div>\n  );\n}\n\nexport default BrushableScatterPlot;\n","import react, {\n  useEffect,\n  useState,\n} from \"react\"; /* eslint no-unused-vars : 0 */\nimport Slider from \"rc-slider\";\nimport \"rc-slider/assets/index.css\";\nimport Tooltip from \"react-tooltip\";\nimport { metricsColorMap } from \"../helpers/misc\";\n\nimport InfoTip from \"./InfoTip\";\n\nconst Range = Slider.createSliderWithTooltip(Slider.Range);\n\nfunction Input({ onChange, validate, value, ...props }) {\n  const [localValue, setLocalValue] = useState(value);\n  const handleChange = (e) => {\n    setLocalValue(e.target.value.replace(\",\", \".\"));\n  };\n  const handleBlur = () => {\n    if (validate(localValue)) {\n      onChange(localValue);\n    } else {\n      setLocalValue(value);\n    }\n  };\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    handleBlur();\n  };\n\n  useEffect(() => {\n    setLocalValue(value);\n  }, [value]);\n  return (\n    <form className=\"input-container\" onSubmit={handleSubmit}>\n      <input\n        {...props}\n        onChange={handleChange}\n        onBlur={handleBlur}\n        value={localValue}\n      />\n    </form>\n  );\n}\n\nfunction VariableInputs({\n  metric,\n  values,\n  min,\n  max,\n  onRangeChange,\n  axis = \"abscisses\",\n  onLabelClick,\n}) {\n  const handleMinChange = (val) => {\n    onRangeChange([val, values[1]]);\n  };\n  const handleMaxChange = (val) => {\n    onRangeChange([values[0], val]);\n  };\n  const SLIDER_MULTIPLIER = 10000;\n  return (\n    <div className=\"variable-inputs\">\n      <div>\n        <h5>\n          <code\n            onClick={onLabelClick}\n            style={{\n              background: metricsColorMap[metric.id],\n            }}\n          >\n            {axis}\n            {\" : \"}\n            {metric.name}{\" \"}\n            <InfoTip data-for=\"variable-tip\" tip={metric.short_description} />{\" \"}\n          </code>{\" \"}\n        </h5>\n        <div className=\"details-container\">\n          <div className=\"inputs-container\">\n            <div>\n              <span>{\"Min \"}</span>\n              <Input\n                validate={(val) => !isNaN(val) && val < values[1]}\n                onChange={handleMinChange}\n                value={\"\" + values[0]}\n                type=\"text\"\n              />\n            </div>\n            <div>\n              <span>{\"Max \"}</span>\n              <Input\n                validate={(val) => !isNaN(val) && val > values[0]}\n                value={\"\" + values[1]}\n                onChange={handleMaxChange}\n                type=\"text\"\n              />\n            </div>\n            {/*(min: {min}, max: {max})*/}\n          </div>\n        </div>\n        {/*\n        <Range\n          allowCross={false}\n          tipFormatter={(val) => val / SLIDER_MULTIPLIER}\n          onChange={([thatMin, thatMax]) => {\n            onRangeChange([\n              thatMin / SLIDER_MULTIPLIER,\n              thatMax / SLIDER_MULTIPLIER,\n            ]);\n          }}\n          step={metric.type === \"integer\" ? SLIDER_MULTIPLIER : undefined}\n          min={min * SLIDER_MULTIPLIER}\n          max={max * SLIDER_MULTIPLIER}\n          defaultValue={[min * SLIDER_MULTIPLIER, max * SLIDER_MULTIPLIER]}\n          value={[values[0] * SLIDER_MULTIPLIER, values[1] * SLIDER_MULTIPLIER]}\n        />\n        */}\n      </div>\n      <Tooltip id=\"variable-tip\" />\n    </div>\n  );\n}\n\nexport default VariableInputs;\n","export const filterModels = (models, filters) => {\n  return filters.reduce((res, filter) => {\n    return res.filter((model) => {\n      const { variable, type, range } = filter;\n      let value = model[variable];\n      /* @todo dirty - just to handle privacy */\n      if (filter.variables) {\n        value = -model.variables.filter((vName) =>\n          filter.variables.includes(vName)\n        ).length;\n      }\n      switch (type) {\n        case \"range\":\n        default:\n          const [min, max] = range.sort((a, b) => {\n            if (a > b) {\n              return 1;\n            } else return -1;\n          });\n          return value >= min && value <= max;\n      }\n    });\n  }, models);\n};\n","import react, {\n  // useCallback,\n  useEffect,\n  useState,\n} from \"react\"; /* eslint no-unused-vars : 0 */\nimport { min, max } from \"d3-array\";\nimport Tooltip from \"react-tooltip\";\nimport Dimensions from \"react-dimensions\";\nimport cx from \"classnames\";\nimport \"./FilterForm.scss\";\n\nimport BrushableScatterPlot from \"./BrushableScatterPlot\";\nimport VariableInputs from \"./VariableInputs\";\nimport ContinueButton from \"./ContinueButton\";\n\nimport { useDebounce } from \"../helpers/hooks\";\nimport { filterModels } from \"../helpers/filters\";\nimport variables from \"../contents/variables_list.fr.yml\";\nimport { DECIMALS } from \"../constants\";\nimport InfoTip from \"./InfoTip\";\nimport translate from \"../helpers/translate\";\n\nfunction FilterForm({\n  metrics,\n  models,\n  onSubmit,\n  onPreviousStep,\n  filters = [],\n  privacyVariables,\n  values,\n  containerWidth,\n  containerHeight,\n  onChange,\n}) {\n  let [metric1, metric2] = metrics;\n\n  const filteredVariables = variables\n    .filter(({ id }) => privacyVariables[id])\n    .map(({ id }) => id);\n\n  const [absoluteMin1, setAbsoluteMin1] = useState(0);\n  const [absoluteMax2, setAbsoluteMax2] = useState(0);\n\n  const [absoluteMin2, setAbsoluteMin2] = useState(0);\n  const [absoluteMax1, setAbsoluteMax1] = useState(0);\n  const [choosenMin1, setChoosenMin1] = useState(null);\n  const [choosenMax2, setChoosenMax2] = useState(null);\n\n  const [choosenMin2, setChoosenMin2] = useState(null);\n  const [choosenMax1, setChoosenMax1] = useState(null);\n\n  const [xOptionsVisible, setXOptionsVisible] = useState(false);\n  const [yOptionsVisible, setYOptionsVisible] = useState(false);\n\n  const [filteredModels, setFilteredModels] = useState(models);\n\n  const [hasChoosen, setHasChoosen] = useState(\n    values && values.length > 1 ? true : false\n  );\n\n  useEffect(() => {\n    if (!models.length) return null;\n    if (values && values.length > 1) {\n      setChoosenMin1(values[0] ? values[0].range[0] : absoluteMin1);\n      setChoosenMax1(values[0] ? values[0].range[1] : absoluteMax1);\n      setChoosenMin2(values[1] ? values[1].range[0] : absoluteMin2);\n      setChoosenMax2(values[1] ? values[1].range[1] : absoluteMax2);\n    } else {\n      setChoosenMin1(absoluteMin1);\n      setChoosenMax1(absoluteMax1);\n      setChoosenMin2(absoluteMin2);\n      setChoosenMax2(absoluteMax2);\n    }\n  }, [values]); /* eslint react-hooks/exhaustive-deps : 0 */\n\n  // useDebounce(\n  useEffect(\n    () => {\n      if (!models.length) return null;\n      if (!metric1 || !metric2) {\n        return null;\n      }\n\n      const theseFilters = [\n        ...filters,\n        {\n          variable: metric1.id,\n          type: \"range\",\n          range: [choosenMin1, choosenMax1],\n          variables: metric1.id === \"Privacy\" ? filteredVariables : undefined,\n        },\n        {\n          variable: metric2.id,\n          type: \"range\",\n          range: [choosenMin2, choosenMax2],\n          variables: metric2.id === \"Privacy\" ? filteredVariables : undefined,\n        },\n      ];\n      setFilteredModels(filterModels(models, theseFilters));\n    },\n    [choosenMin1, choosenMax1, choosenMin2, choosenMax2],\n    1000\n  );\n\n  useEffect(() => {\n    if (!models.length) return null;\n    metric1 = metrics[0];\n    metric2 = metrics[1];\n    if (!metric1 || !metric2) {\n      return null;\n    }\n    let absMin1, absMax1, absMin2, absMax2;\n    if (metric1.id === \"Privacy\") {\n      absMin1 = -max(\n        models,\n        (d) =>\n          d.variables.filter((vName) => -filteredVariables.includes(vName))\n            .length\n      );\n      absMax1 = -min(\n        models,\n        (d) =>\n          d.variables.filter((vName) => -filteredVariables.includes(vName))\n            .length\n      );\n    } else {\n      absMin1 = min(models, (d) => +d[metric1.id]);\n      absMax1 = max(models, (d) => +d[metric1.id]);\n    }\n    if (metric2.id === \"Privacy\") {\n      absMin2 = -max(\n        models,\n        (d) =>\n          d.variables.filter((vName) => -filteredVariables.includes(vName))\n            .length\n      );\n      absMax2 = -min(\n        models,\n        (d) =>\n          d.variables.filter((vName) => -filteredVariables.includes(vName))\n            .length\n      );\n    } else {\n      absMin2 = min(models, (d) => +d[metric2.id]);\n      absMax2 = max(models, (d) => +d[metric2.id]);\n    }\n    // setAbsoluteMin1(+absMin1.toFixed(DECIMALS));\n    // setAbsoluteMax1(+absMax1.toFixed(DECIMALS));\n    // setAbsoluteMin2(+absMin2.toFixed(DECIMALS));\n    // setAbsoluteMax2(+absMax2.toFixed(DECIMALS));\n    setAbsoluteMin1(+absMin1);\n    setAbsoluteMax1(+absMax1);\n    setAbsoluteMin2(+absMin2);\n    setAbsoluteMax2(+absMax2);\n\n    if (!values) {\n      if (\n        choosenMin1 !== absMin1 ||\n        choosenMax1 !== absMax1 ||\n        choosenMin2 !== absMin2 ||\n        choosenMax2 !== absMax2\n      ) {\n        setChoosenMin1(absMin1);\n        setChoosenMax1(absMax1);\n        setChoosenMin2(absMin2);\n        setChoosenMax2(absMax2);\n      }\n      // setChoosenMin1(+absMin1.toFixed(DECIMALS));\n      // setChoosenMax1(+absMax1.toFixed(DECIMALS));\n      // setChoosenMin2(+absMin2.toFixed(DECIMALS));\n      // setChoosenMax2(+absMax2.toFixed(DECIMALS));\n    } else if (!values[0]) {\n      setChoosenMin1(absMin1);\n      setChoosenMax1(absMax1);\n    } else if (!values[1]) {\n      setChoosenMin2(absMin2);\n      setChoosenMax2(absMax2);\n    }\n  }, [models, metrics]);\n\n  useEffect(() => {\n    if (!models.length) return null;\n    if (!metric1 || !metric2) {\n      return null;\n    }\n    if (metric1.id === \"Privacy\") {\n      const absMin1 = -max(\n        models,\n        (d) =>\n          d.variables.filter((vName) => -filteredVariables.includes(vName))\n            .length\n      );\n      const absMax1 = -min(\n        models,\n        (d) =>\n          d.variables.filter((vName) => -filteredVariables.includes(vName))\n            .length\n      );\n      setAbsoluteMin1(absMin1);\n      setAbsoluteMax1(absMax1);\n    }\n    if (metric2.id === \"Privacy\") {\n      const absMin2 = -max(\n        models,\n        (d) =>\n          d.variables.filter((vName) => filteredVariables.includes(vName))\n            .length\n      );\n      const absMax2 = -min(\n        models,\n        (d) =>\n          d.variables.filter((vName) => filteredVariables.includes(vName))\n            .length\n      );\n      setAbsoluteMin2(absMin2);\n      setAbsoluteMax2(absMax2);\n    }\n  }, [filteredVariables]);\n\n  if (!metric1 || !metric2) {\n    return null;\n  }\n\n  if (!models.length) return null;\n\n  const handleValidate = (e) => {\n    const values = [\n      {\n        variable: metric1.id,\n        type: \"range\",\n        range: [choosenMin1, choosenMax1],\n        variables: metric1.id === \"Privacy\" ? filteredVariables : undefined,\n      },\n      {\n        variable: metric2.id,\n        type: \"range\",\n        range: [choosenMin2, choosenMax2],\n        variables: metric2.id === \"Privacy\" ? filteredVariables : undefined,\n      },\n    ];\n    onSubmit(values);\n  };\n  const handleBrushChange = ({\n    x: [thatXMin, thatXMax],\n    y: [thatYMin, thatYMax],\n  }) => {\n    setChoosenMin1(+thatXMin.toFixed(DECIMALS));\n    setChoosenMax1(+thatXMax.toFixed(DECIMALS));\n    setChoosenMin2(+thatYMin.toFixed(DECIMALS));\n    setChoosenMax2(+thatYMax.toFixed(DECIMALS));\n    setHasChoosen(true);\n\n    if (typeof onChange === \"function\") {\n      const values = [\n        {\n          variable: metric1.id,\n          type: \"range\",\n          range: [+thatXMin.toFixed(DECIMALS), +thatXMax.toFixed(DECIMALS)],\n          variables: metric1.id === \"Privacy\" ? filteredVariables : undefined,\n        },\n        {\n          variable: metric2.id,\n          type: \"range\",\n          range: [+thatYMin.toFixed(DECIMALS), +thatYMax.toFixed(DECIMALS)],\n          variables: metric2.id === \"Privacy\" ? filteredVariables : undefined,\n        },\n      ];\n      onChange(values);\n    }\n  };\n\n  return (\n    <div className=\"filter-form\">\n      <div className=\"columns-container\">\n        <div className=\"column is-main\">\n          <div\n            className={cx(\"axis-container axis-y\", {\n              \"is-deployed\": yOptionsVisible,\n            })}\n          >\n            <VariableInputs\n              metric={metric2}\n              values={[choosenMin2, choosenMax2]}\n              min={absoluteMin2}\n              max={absoluteMax2}\n              onLabelClick={() => setYOptionsVisible(!yOptionsVisible)}\n              filteredVariables={filteredVariables}\n              axis={\"y\"}\n              onRangeChange={([thatMin, thatMax]) => {\n                setChoosenMin2(thatMin);\n                setChoosenMax2(thatMax);\n                setHasChoosen(true);\n                if (typeof onChange === \"function\") {\n                  const values = [\n                    {\n                      variable: metric1.id,\n                      type: \"range\",\n                      range: [choosenMin1, choosenMax1],\n                      variables:\n                        metric1.id === \"Privacy\"\n                          ? filteredVariables\n                          : undefined,\n                    },\n                    {\n                      variable: metric2.id,\n                      type: \"range\",\n                      range: [+thatMin, +thatMax],\n                      variables:\n                        metric2.id === \"Privacy\"\n                          ? filteredVariables\n                          : undefined,\n                    },\n                  ];\n                  onChange(values);\n                }\n              }}\n            />\n          </div>\n          <BrushableScatterPlot\n            data={models}\n            xVariable={metric1.id}\n            yVariable={metric2.id}\n            filteredVariables={filteredVariables}\n            brush={{\n              x: [choosenMin1, choosenMax1],\n              y: [choosenMin2, choosenMax2],\n            }}\n            onBrushChange={handleBrushChange}\n            width={containerWidth * 0.85}\n            height={400}\n            style={{\n              paddingLeft: containerWidth * 0.1,\n            }}\n          />\n          <div\n            className={cx(\"axis-container axis-x\", {\n              \"is-deployed\": xOptionsVisible,\n            })}\n          >\n            <VariableInputs\n              metric={metric1}\n              values={[choosenMin1, choosenMax1]}\n              min={absoluteMin1}\n              max={absoluteMax1}\n              axis={\"x\"}\n              onLabelClick={() => setXOptionsVisible(!xOptionsVisible)}\n              filteredVariables={filteredVariables}\n              onRangeChange={([thatMin, thatMax]) => {\n                setChoosenMin1(thatMin);\n                setChoosenMax1(thatMax);\n                setHasChoosen(true);\n                if (typeof onChange === \"function\") {\n                  const values = [\n                    {\n                      variable: metric1.id,\n                      type: \"range\",\n                      range: [+thatMin, +thatMax],\n                      variables:\n                        metric1.id === \"Privacy\"\n                          ? filteredVariables\n                          : undefined,\n                    },\n                    {\n                      variable: metric2.id,\n                      type: \"range\",\n                      range: [choosenMin2, choosenMax2],\n                      variables:\n                        metric2.id === \"Privacy\"\n                          ? filteredVariables\n                          : undefined,\n                    },\n                  ];\n                  onChange(values);\n                }\n              }}\n            />\n          </div>\n          {/*<h4>\n            Vous filtrez dans{\" \"}\n            <code>\n              {metric1.name} <InfoTip tip={metric1.short_description} />\n            </code>{\" \"}\n            sur les x et{\" \"}\n            <code>\n              {metric2.name} <InfoTip tip={metric2.short_description} />\n            </code>{\" \"}\n            sur les y\n          </h4>*/}\n          <div\n            style={{\n              // position: 'absolute',\n              // top: 0,\n              // right: 0,\n              // bottom: '1rem',\n              // paddingLeft: containerWidth * .15,\n              maxWidth: containerWidth * 0.4,\n            }}\n            className=\"count-container\"\n          >\n            <p>\n              <span className=\"count-indicator\">{filteredModels.length}</span>{\" \"}\n              modles slectionns.\n            </p>\n            <p>\n              <i>Faire glisser la souris pour slectionner des modles.</i>\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <ContinueButton\n        disabled={!filteredModels.length || !hasChoosen}\n        onSubmit={handleValidate}\n        submitMessage={translate(\"validate\")}\n        onPreviousStep={onPreviousStep}\n        backwardEnabled\n      />\n\n      <Tooltip id=\"tip\" />\n    </div>\n  );\n}\n\nexport default Dimensions()(FilterForm);\n","import react from \"react\"; /* eslint no-unused-vars : 0 */\n\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\n\nimport translate from \"../helpers/translate\";\n\nimport * as uiDuck from \"../state/duckUi\";\nimport * as dataDuck from \"../state/duckData\";\nimport MetricsCrossingIndicator from \"../components/MetricsCrossingIndicator\";\n\nimport FilterForm from \"../components/FilterForm\";\nimport { STEP_SECONDARY_CHOICE_1, STEP_MODEL_CHOICE } from \"../constants\";\n\nfunction MainChoiceContainer({\n  data: { metricsOrder, models, filters, privacyVariables },\n  ui: { iterationNumber },\n  setCurrentStep,\n  setMainChoiceIsValidated,\n  addFilters,\n  currentStep,\n}) {\n  const handleSubmit = (theseFilters) => {\n    const [filter1, filter2] = theseFilters;\n    addFilters({\n      0: filter1,\n      1: filter2,\n    });\n    setMainChoiceIsValidated(true);\n    if (metricsOrder.length <= 2) {\n      setCurrentStep(STEP_MODEL_CHOICE);\n    } else {\n      setCurrentStep(STEP_SECONDARY_CHOICE_1);\n    }\n  };\n  const handlePreviousStep = () => {\n    setCurrentStep(currentStep - 1);\n  };\n  const activeMetrics = metricsOrder.map((m, i) => ({\n    ...m,\n    active: i <= 1,\n  }));\n  return (\n    <section className=\"main-choice-screen\">\n      <h1 className=\"step-title\">{translate(\"main_choice_screen_title\")}</h1>\n      <div className=\"columns-container\">\n        <aside className=\"column is-aside\">\n          <p className=\"instructions\">\n            {translate(\"main_choice_screen_intro\")}\n          </p>\n          <MetricsCrossingIndicator metrics={activeMetrics} />\n        </aside>\n        <main className=\"column is-main\">\n          <FilterForm\n            metrics={metricsOrder.slice(0, 2)}\n            models={models}\n            onSubmit={handleSubmit}\n            onPreviousStep={handlePreviousStep}\n            privacyVariables={privacyVariables}\n            values={\n              filters[\"0\"] && filters[\"1\"]\n                ? [filters[\"0\"], filters[\"1\"]]\n                : undefined\n            }\n          />\n        </main>\n      </div>\n    </section>\n  );\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  ...ownProps,\n  ...state,\n  ...uiDuck.selector(state.ui),\n  ...dataDuck.selector(state.data),\n});\n\nconst mapDispatchToProps = (dispatch) =>\n  bindActionCreators(\n    {\n      ...uiDuck,\n      ...dataDuck,\n    },\n    dispatch\n  );\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MainChoiceContainer);\n","import React from \"react\";\nimport BrushableScatterPlot from \"./BrushableScatterPlot\";\nimport Slider from \"rc-slider\";\nimport { min, max } from \"d3-array\";\n\nimport { metricsColorMap } from \"../helpers/misc\";\n\nimport metricsList from \"../contents/metrics_list.fr.yml\";\nimport \"./MiniGraph.scss\";\n\nconst Range = Slider.createSliderWithTooltip(Slider.Range);\n\nconst MiniGraph = ({\n  index,\n  filters,\n  models,\n  from,\n  to,\n  onNav,\n  fromName,\n  toName,\n  variables,\n  choosenModel,\n  highlightedNodeId,\n  addFilters,\n  filterModels,\n  readOnly,\n  displayMode,\n}) => {\n  const actuallyHighlitedNodeId = choosenModel\n    ? highlightedNodeId || choosenModel.id\n    : highlightedNodeId;\n\n  const brushData = {\n    x: filters[from + \"\"].range,\n    y: filters[to + \"\"].range,\n  };\n  const data =\n    from === 0\n      ? models\n      : filterModels(\n          models,\n          Object.entries(filters)\n            .filter(([key]) => +key < from)\n            .map(([_key, filter]) => filter)\n        );\n\n  const handleBrushChange = ({\n    x: [thatXMin, thatXMax],\n    y: [thatYMin, thatYMax],\n  }) => {\n    addFilters({\n      [from + \"\"]: {\n        ...filters[from + \"\"],\n        range: [thatXMin, thatXMax],\n      },\n      [to + \"\"]: {\n        ...filters[to + \"\"],\n        range: [thatYMin, thatYMax],\n      },\n    });\n  };\n  const SLIDER_MULTIPLIER = 10000;\n\n  const handleRangeChange = (axis, range) => {\n    const key = axis === \"x\" ? from + \"\" : to + \"\";\n    addFilters({\n      [key]: {\n        ...filters[key],\n        range,\n      },\n    });\n  };\n  const val1 = filters[from + \"\"].range;\n  const xVariable = filters[from + \"\"].variable;\n  const metric1 = metricsList.find(({ id }) => id === xVariable);\n  const min1 = min(data, (d) => +d[xVariable]);\n  const max1 = max(data, (d) => +d[xVariable]);\n\n  const val2 = filters[to + \"\"].range;\n  const yVariable = filters[to + \"\"].variable;\n  const metric2 = metricsList.find(({ id }) => id === yVariable);\n  const min2 = min(data, (d) => +d[yVariable]);\n  const max2 = max(data, (d) => +d[yVariable]);\n  return (\n    <div className=\"mini-graph-container\">\n      <h5 className=\"mini-graph-title\">\n        {!displayMode && (\n          <div>\n            <span onClick={onNav} className=\"number-indicator\">\n              {index + 1}\n            </span>\n          </div>\n        )}\n\n        <div className=\"values-container\">\n          <span className=\"value-container\">\n            <code\n              style={{\n                background: displayMode ? \"white\" : metricsColorMap[xVariable],\n                color: displayMode ? metricsColorMap[xVariable] : undefined,\n              }}\n            >\n              {!displayMode ? \"x: \" : \"\"}\n              {fromName}\n            </code>\n            {!displayMode && (\n              <Range\n                allowCross={false}\n                tipFormatter={(val) => val / SLIDER_MULTIPLIER}\n                onChange={([thatMin, thatMax]) => {\n                  handleRangeChange(\"x\", [\n                    thatMin / SLIDER_MULTIPLIER,\n                    thatMax / SLIDER_MULTIPLIER,\n                  ]);\n                }}\n                step={\n                  metric1.type === \"integer\" ? SLIDER_MULTIPLIER : undefined\n                }\n                min={min1 * SLIDER_MULTIPLIER}\n                max={max1 * SLIDER_MULTIPLIER}\n                defaultValue={[\n                  min1 * SLIDER_MULTIPLIER,\n                  max1 * SLIDER_MULTIPLIER,\n                ]}\n                value={[\n                  val1[0] * SLIDER_MULTIPLIER,\n                  val1[1] * SLIDER_MULTIPLIER,\n                ]}\n                style={{\n                  width: \"100%\",\n                }}\n              />\n            )}\n          </span>\n          <span className=\"value-container\">\n            <code\n              style={{\n                background: displayMode ? \"white\" : metricsColorMap[yVariable],\n                color: displayMode ? metricsColorMap[yVariable] : undefined,\n              }}\n            >\n              {!displayMode ? \"y: \" : \"\"}\n              {toName}\n            </code>\n            {!displayMode && (\n              <Range\n                allowCross={false}\n                tipFormatter={(val) => val / SLIDER_MULTIPLIER}\n                onChange={([thatMin, thatMax]) => {\n                  handleRangeChange(\"y\", [\n                    thatMin / SLIDER_MULTIPLIER,\n                    thatMax / SLIDER_MULTIPLIER,\n                  ]);\n                }}\n                step={\n                  metric2.type === \"integer\" ? SLIDER_MULTIPLIER : undefined\n                }\n                min={min2 * SLIDER_MULTIPLIER}\n                max={max2 * SLIDER_MULTIPLIER}\n                defaultValue={[\n                  min2 * SLIDER_MULTIPLIER,\n                  max2 * SLIDER_MULTIPLIER,\n                ]}\n                value={[\n                  val2[0] * SLIDER_MULTIPLIER,\n                  val2[1] * SLIDER_MULTIPLIER,\n                ]}\n                style={{\n                  width: \"100%\",\n                }}\n              />\n            )}\n          </span>\n        </div>\n      </h5>\n      <BrushableScatterPlot\n        data={data}\n        xVariable={xVariable}\n        yVariable={yVariable}\n        filteredVariables={variables}\n        brush={brushData}\n        readOnly={readOnly}\n        minified\n        highlightedNodeId={actuallyHighlitedNodeId}\n        width={200}\n        height={200}\n        onBrushChange={handleBrushChange}\n      />\n    </div>\n  );\n};\n\nexport default MiniGraph;\n","import React, {\n  useState,\n  useEffect,\n} from \"react\"; /* eslint no-unused-vars : 0 */\n\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\n\nimport translate from \"../helpers/translate\";\nimport { filterModels } from \"../helpers/filters\";\n\nimport * as uiDuck from \"../state/duckUi\";\nimport * as dataDuck from \"../state/duckData\";\nimport MetricsCrossingIndicator from \"../components/MetricsCrossingIndicator\";\n\nimport FilterForm from \"../components/FilterForm\";\n\nimport {\n  STEP_MAIN_CHOICE,\n  STEP_SECONDARY_CHOICE_1,\n  STEP_SECONDARY_CHOICE_2,\n  STEP_MODEL_CHOICE,\n} from \"../constants\";\nimport MiniGraph from \"../components/MiniGraph\";\n\nfunction SecondChoiceContainer({\n  data: { metricsOrder, models, filters, privacyVariables = {} },\n  ui: { iterationNumber },\n  setCurrentStep,\n  setMainChoiceIsValidated,\n  addFilters,\n  metricsExtent: [fromMetric, toMetric] = [1, 2],\n  previousExtents = [],\n  nextStep = STEP_SECONDARY_CHOICE_2,\n  currentStep,\n}) {\n  const [tempFilters, setTempFilters] = useState(filters);\n  useEffect(() => {\n    setTempFilters(filters);\n  }, [filters]);\n\n  const handleSubmit = (theseFilters) => {\n    const [filter1, filter2] = theseFilters;\n    // changing just the changed elements\n    const toUpdate = Object.entries(tempFilters).reduce((res, [id, filter]) => {\n      const { range } = filter;\n      if (\n        !filters[id] ||\n        (filters[id] &&\n          filters[id].range[0] !== filter.range[0] &&\n          filters[id].range[1] !== filter.range[1])\n      ) {\n        return {\n          ...res,\n          [id]: filter,\n        };\n      }\n      return res;\n    }, {});\n\n    addFilters(toUpdate);\n    setMainChoiceIsValidated(true);\n    const remainingVariablesNumber =\n      metricsOrder.length - (currentStep - STEP_SECONDARY_CHOICE_1) - 3;\n    if (remainingVariablesNumber) {\n      setCurrentStep(currentStep + 1);\n    } else {\n      setCurrentStep(STEP_MODEL_CHOICE);\n    }\n  };\n  const handlePreviousStep = () => {\n    setCurrentStep(currentStep - 1);\n  };\n\n  if (!Object.keys(filters).length) return null;\n\n  const handleMainChange = ([filter1, filter2]) => {\n    setTempFilters({\n      ...tempFilters,\n      [fromMetric + \"\"]: filter1,\n      [toMetric + \"\"]: filter2,\n    });\n  };\n\n  return (\n    <section className=\"second-choice-screen\">\n      <h1 className=\"step-title\">{translate(\"second_choice_screen_title\")}</h1>\n      <div className=\"columns-container\">\n        <aside className=\"column is-aside\">\n          <p className=\"instructions\">\n            {translate(\"second_choice_screen_intro\")}\n          </p>\n          <MetricsCrossingIndicator\n            metrics={metricsOrder\n              .filter((m) => m.iteration <= iterationNumber)\n              .map((m, i) => ({\n                ...m,\n                active: i >= fromMetric && i <= toMetric,\n              }))}\n          />\n          <h4>Vos arbitrages prcdents :</h4>\n          {/* mini scatterplots for previous steps */}\n          <div className=\"mini-graphs-wrapper\">\n            {previousExtents\n              .filter(\n                ([from, to]) =>\n                  tempFilters[from + \"\"] !== undefined &&\n                  tempFilters[to + \"\"] !== undefined\n              )\n              .map(([from, to], index) => {\n                // console.log({ from, to });\n                let theseVariables = [\n                  tempFilters[from + \"\"],\n                  tempFilters[to + \"\"],\n                ].find((f) => f && f.variables);\n                theseVariables = theseVariables\n                  ? theseVariables.variables\n                  : undefined;\n                const handleNav = () => {\n                  let target;\n                  switch (index) {\n                    case 0:\n                      target = STEP_MAIN_CHOICE;\n                      break;\n                    case 1:\n                      target = STEP_SECONDARY_CHOICE_1;\n                      break;\n                    case 2:\n                    default:\n                      target = STEP_SECONDARY_CHOICE_2;\n                      break;\n                  }\n                  setCurrentStep(target);\n                };\n                return (\n                  <MiniGraph\n                    key={index}\n                    {...{\n                      index,\n                      filters: tempFilters,\n                      models,\n                      fromName: metricsOrder.find(\n                        ({ id }) => id === filters[from + \"\"].variable\n                      ).name,\n                      toName: metricsOrder.find(\n                        ({ id }) => id === filters[to + \"\"].variable\n                      ).name,\n                      onNav: handleNav,\n                      from,\n                      to,\n                      variables: theseVariables,\n                      addFilters: (f) =>\n                        setTempFilters({ ...tempFilters, ...f }),\n                      filterModels,\n                    }}\n                  />\n                );\n              })}\n          </div>\n        </aside>\n        <main className=\"column is-main\">\n          <FilterForm\n            metrics={metricsOrder.slice(fromMetric, toMetric + 1)}\n            models={filterModels(\n              models,\n              Object.entries(tempFilters)\n                .filter(([key]) => +key < fromMetric)\n                .map(([_key, filter]) => filter)\n            )}\n            onSubmit={handleSubmit}\n            onPreviousStep={handlePreviousStep}\n            privacyVariables={privacyVariables}\n            onChange={handleMainChange}\n            values={\n              tempFilters[fromMetric + \"\"] || tempFilters[toMetric + \"\"]\n                ? [tempFilters[fromMetric + \"\"], tempFilters[toMetric + \"\"]]\n                : undefined\n            }\n          />\n        </main>\n      </div>\n    </section>\n  );\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  ...ownProps,\n  ...state,\n  ...uiDuck.selector(state.ui),\n  ...dataDuck.selector(state.data),\n});\n\nconst mapDispatchToProps = (dispatch) =>\n  bindActionCreators(\n    {\n      ...uiDuck,\n      ...dataDuck,\n    },\n    dispatch\n  );\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SecondChoiceContainer);\n","import react, {\n  useState,\n  useEffect,\n} from \"react\"; /* eslint no-unused-vars : 0 */\n\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport cx from \"classnames\";\n\nimport translate from \"../helpers/translate\";\nimport { filterModels } from \"../helpers/filters\";\nimport { useDebounce } from \"../helpers/hooks\";\n\nimport * as uiDuck from \"../state/duckUi\";\nimport * as dataDuck from \"../state/duckData\";\n\nimport { DECIMALS } from \"../constants\";\n\nimport \"./ModelChoiceContainer.scss\";\n\nimport metricsList from \"../contents/metrics_list.fr.yml\";\nimport MiniGraph from \"../components/MiniGraph\";\nimport ContinueButton from \"../components/ContinueButton\";\nimport ReactTooltip from \"react-tooltip\";\nimport { extent } from \"d3-array\";\nimport { scaleLinear } from \"d3-scale\";\n\nimport worker from \"workerize-loader!../worker\"; // eslint-disable-line import/no-webpack-loader-syntax\n\nconst workerInstance = worker();\n\nconst DISPLAY_FILTER_STEP = 30;\n\nfunction ModelChoiceContainer({\n  ui: { currentStep },\n  data: { models, filters, choosenModel, privacyVariables, metricsOrder },\n  setChoosenModel,\n  step,\n  setCurrentStep,\n  previousStep,\n  addFilters,\n}) {\n  const [selectedNodeId, setSelectedNodeId] = useState(undefined);\n  const [sortMode, setSortMode] = useState(\"similarity\");\n  const [highlightedNodeId, setHighlightedNodeId] = useState(undefined);\n  const [visibleModels, setVisibleModels] = useState(undefined);\n  const [displayFilter, setDisplayFilter] = useState(DISPLAY_FILTER_STEP);\n  const previousExtents = [\n    [0, 1],\n    [1, 2],\n    [2, 3],\n    // [3, 4],\n  ];\n\n  useEffect(() => {\n    workerInstance.addEventListener(\"message\", (message) => {\n      if (message.data.type === \"RPC\" && message.data.result) {\n        setDisplayFilter(DISPLAY_FILTER_STEP);\n        setVisibleModels(message.data.result);\n      }\n    });\n  }, []);\n\n  useEffect(() => {\n    setVisibleModels(undefined);\n    if (currentStep === step) {\n      setTimeout(() => {\n        workerInstance.getVisibleModels({\n          models,\n          filters,\n          sortMode,\n          metricsOrder,\n        });\n      });\n    }\n  }, [filters, sortMode, metricsOrder, currentStep, step, models]);\n\n  if (!Object.keys(filters).length) return null;\n\n  let colorScales;\n  if (visibleModels) {\n    colorScales = metricsList.reduce((res, { id }) => {\n      // relative scaling\n      let range = extent(visibleModels, (d) =>\n        parseFloat(d[id]).toFixed(DECIMALS)\n      );\n      // absolute scaling\n      // let range = extent(models, (d) => +d[id]);\n      let mapping = [\"red\", \"green\"];\n      if ([\"disparate_impact\"].includes(id)) {\n        range = extent(models, (d) => Math.abs(1 - +d[id]));\n      }\n      const scale = scaleLinear().domain(range).range(mapping);\n      return {\n        ...res,\n        [id]: scale,\n      };\n    }, {});\n  }\n\n  const handleViewMore = () => {\n    setDisplayFilter(displayFilter + DISPLAY_FILTER_STEP);\n  };\n\n  return (\n    <section className=\"single-choice-screen\">\n      <h1 className=\"step-title\">{translate(\"model_choice_screen_title\")}</h1>\n      <div className=\"columns-container\">\n        <aside className=\"column is-aside\">\n          <p className=\"instructions\">\n            {translate(\"model_choice_screen_intro\")}\n          </p>\n          {/* mini scatterplots for previous steps */}\n          <div className=\"\">\n            {previousExtents\n              .filter(\n                ([from, to]) =>\n                  filters[from + \"\"] !== undefined &&\n                  filters[to + \"\"] !== undefined\n              )\n              .map(([from, to], index) => {\n                let theseVariables = [\n                  filters[from + \"\"],\n                  filters[to + \"\"],\n                ].find((f) => f && f.variables);\n                theseVariables = theseVariables\n                  ? theseVariables.variables\n                  : undefined;\n                return (\n                  <MiniGraph\n                    key={index}\n                    {...{\n                      index,\n                      filters,\n                      models,\n                      from,\n                      to,\n                      fromName: metricsOrder.find(\n                        ({ id }) => id === filters[from + \"\"].variable\n                      ).name,\n                      toName: metricsOrder.find(\n                        ({ id }) => id === filters[to + \"\"].variable\n                      ).name,\n                      variables: theseVariables,\n                      choosenModel,\n                      highlightedNodeId: highlightedNodeId || selectedNodeId,\n                      addFilters,\n                      filterModels,\n                    }}\n                  />\n                );\n              })}\n          </div>\n        </aside>\n        <main className=\"column is-main\">\n          <div>\n            <span>{translate(\"sort_by\")}</span>\n            <select\n              value={sortMode}\n              onChange={(e) => setSortMode(e.target.value)}\n            >\n              <option value=\"similarity\">{translate(\"similarity\")}</option>\n              {metricsOrder.map(({ id, name }) => (\n                <option key={id} value={id}>\n                  {name}\n                </option>\n              ))}\n            </select>\n          </div>\n          {visibleModels ? (\n            <table className=\"model-choice-table\">\n              <thead>\n                <tr>\n                  <th></th>\n                  {metricsOrder.map(({ name, id }) => (\n                    <th key={id}>\n                      <span>\n                        <span>{name}</span>\n                      </span>\n                    </th>\n                  ))}\n                </tr>\n              </thead>\n              <tbody\n                onMouseLeave={() => {\n                  setHighlightedNodeId(undefined);\n                }}\n              >\n                {visibleModels.slice(0, displayFilter).map((model) => {\n                  return (\n                    <tr\n                      key={model.id}\n                      onMouseOver={() => {\n                        setHighlightedNodeId(model.id);\n                      }}\n                      onClick={() => {\n                        if (model.id === selectedNodeId) {\n                          setChoosenModel(model);\n                          setCurrentStep(currentStep + 1);\n                        } else {\n                          setSelectedNodeId(model.id);\n                        }\n                      }}\n                      className={cx(\"model-row\", {\n                        \"is-active\": choosenModel\n                          ? model.id === highlightedNodeId ||\n                            model.id === choosenModel.id\n                          : model.id === highlightedNodeId,\n                        \"is-selected\": model.id === selectedNodeId,\n                      })}\n                    >\n                      <th>\n                        <button>\n                          {model.id === selectedNodeId\n                            ? translate(\"validate\")\n                            : translate(\"select_model\")}\n                        </button>\n                      </th>\n                      {metricsOrder.map(({ name, id }) => {\n                        let val = (+model[id]).toFixed(2);\n                        if (id === \"privacy\") {\n                          val = -model.variables.filter(\n                            (vName) => privacyVariables[vName]\n                          ).length;\n                        }\n                        let tip = name + \" : \" + val;\n                        if (id === \"interpretability\") {\n                          val = parseInt(val);\n                          tip =\n                            name +\n                            \" : \" +\n                            val +\n                            \"<br/> variables utilises : \" +\n                            model.variables.join(\", \");\n                        }\n\n                        return (\n                          <th\n                            key={id}\n                            data-for=\"table-tooltip\"\n                            data-tip={tip}\n                            data-html={true}\n                            style={{\n                              background:\n                                id === \"disparate_impact\"\n                                  ? colorScales[id](\n                                      Math.abs(\n                                        1 -\n                                          parseFloat(model[id]).toFixed(\n                                            DECIMALS\n                                          )\n                                      )\n                                    )\n                                  : colorScales[id](\n                                      parseFloat(model[id]).toFixed(DECIMALS)\n                                    ),\n                            }}\n                          >\n                            {val}\n                          </th>\n                        );\n                      })}\n                      <ReactTooltip id=\"table-tooltip\" />\n                    </tr>\n                  );\n                })}\n                {displayFilter < visibleModels.length ? (\n                  <div className=\"view-more-container\">\n                    <button className=\"view-more-btn\" onClick={handleViewMore}>\n                      {translate(\"show_more_models\")} (\n                      {visibleModels.length - displayFilter}{\" \"}\n                      {translate(\"not_displayed\")})\n                    </button>\n                  </div>\n                ) : null}\n              </tbody>\n            </table>\n          ) : (\n            <div\n              className={`loading ${currentStep === step ? \"is-active\" : \"\"}`}\n            >\n              <div>{translate(\"loading\")}</div>\n            </div>\n          )}\n        </main>\n        <ContinueButton\n          disabled={!selectedNodeId}\n          onSubmit={() => {\n            if (selectedNodeId) {\n              setChoosenModel(models.find(({ id }) => id === selectedNodeId));\n              setCurrentStep(currentStep + 1);\n            }\n          }}\n          onSetCurrentStep={setCurrentStep}\n          currentStep={currentStep}\n          onPreviousStep={() => setCurrentStep(previousStep)}\n          backwardEnabled\n        />\n      </div>\n    </section>\n  );\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  ...ownProps,\n  ...state,\n  ...uiDuck.selector(state.ui),\n  ...dataDuck.selector(state.data),\n});\n\nconst mapDispatchToProps = (dispatch) =>\n  bindActionCreators(\n    {\n      ...uiDuck,\n      ...dataDuck,\n    },\n    dispatch\n  );\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ModelChoiceContainer);\n","// import { combineReducers } from 'redux';\nimport { createStructuredSelector } from \"reselect\";\n\n/**\n * ACTION NAMES\n */\nimport {\n  RESET_APP,\n  SET_METRICS_ORDER,\n  ADD_FILTERS,\n  SET_DATAIKU_RESULTS,\n  SET_CHOOSEN_MODEL,\n} from \"./duckData\";\nimport { SET_CURRENT_STEP, START_APP, SET_ITERATION_NUMBER } from \"./duckUi\";\n\n/**\n * ACTION FUNCTIONS\n */\n/**\n * REDUCER\n */\nconst DEFAULT_STATE = {\n  history: [],\n};\n\nfunction data(state = DEFAULT_STATE, action) {\n  // const { payload } = action;\n  switch (action.type) {\n    case RESET_APP:\n      return DEFAULT_STATE;\n    case SET_METRICS_ORDER:\n    case ADD_FILTERS:\n    case SET_DATAIKU_RESULTS:\n    case SET_CHOOSEN_MODEL:\n    case SET_CURRENT_STEP:\n    case START_APP:\n    case SET_ITERATION_NUMBER:\n      return {\n        ...state,\n        history: [\n          ...state.history,\n          {\n            action,\n            date: new Date(),\n          },\n        ],\n      };\n    default:\n      return state;\n  }\n}\n\n// export default combineReducers({data, ...})\nexport default data;\n\n/**\n * SELECTOR\n */\n\nconst history = (state) => state.history;\n\nexport const selector = createStructuredSelector({\n  history,\n});\n","import FileSaver from \"file-saver\";\n\n/**\n * @param {string} text - the text to put in the file\n * @param {string} extension - the extension to append to file name\n * @param {string} fileName - the name to attribute to the downloaded file\n */\nexport default function downloadFile(\n  text,\n  extension = \"txt\",\n  fileName = \"download\"\n) {\n  let type;\n  switch (extension) {\n    case \"zip\":\n      type = \"octet/stream\";\n      break;\n    case \"html\":\n      type = \"text/html;charset=utf-8\";\n      break;\n    default:\n      type = \"text/plain;charset=utf-8\";\n      break;\n  }\n  const blob = new Blob([text], { type });\n  FileSaver.saveAs(blob, `${fileName}.${extension}`);\n}\n","import translate from \"../helpers/translate\";\n\nimport {\n  STEP_HEADER,\n  STEP_METRICS_SORTING,\n  STEP_MAIN_CHOICE,\n  STEP_SECONDARY_CHOICE_1,\n  STEP_SECONDARY_CHOICE_2,\n  STEP_MODEL_CHOICE,\n  STEP_CONCLUSION,\n} from \"../constants\";\n\nimport metricsList from \"../contents/metrics_list.fr.yml\";\nimport variablesList from \"../contents/variables_list.fr.yml\";\n\nimport MiniGraph from \"../components/MiniGraph\";\n\nconst metricsColorMap = metricsList.reduce(\n  (res, metric) => ({\n    ...res,\n    [metric.id]: metric.color,\n  }),\n  {}\n);\nconst metricsNameMap = metricsList.reduce(\n  (res, metric) => ({\n    ...res,\n    [metric.id]: metric.name,\n  }),\n  {}\n);\nconst variablesNamesMap = variablesList.reduce(\n  (res, variable) => ({\n    ...res,\n    [variable.id]: variable.name,\n  }),\n  {}\n);\n\nconst serializeStep = (payload) => {\n  switch (payload) {\n    case STEP_HEADER:\n      return translate(\"app_header_view\");\n    // case STEP_DATAIKU_PRACTICE:\n    //   return translate(\"dataiku_practice_view\");\n    // case STEP_EU_LEGISLATION:\n    //   return translate(\"eu_legislation_view\");\n    // case STEP_METRICS_EXPLANATION_0:\n    // case STEP_METRICS_EXPLANATION_1:\n    // case STEP_METRICS_EXPLANATION_2:\n    // case STEP_METRICS_EXPLANATION_3:\n    // case STEP_METRICS_EXPLANATION_4:\n    // case STEP_METRICS_EXPLANATION_5:\n    //   return translate(\"metrics_explanation_view\");\n    case STEP_METRICS_SORTING:\n      return translate(\"metrics_sorting_view\");\n    case STEP_MAIN_CHOICE:\n      return translate(\"main_filter_view\");\n    case STEP_SECONDARY_CHOICE_1:\n      return translate(\"secondary_filter_view\");\n    case STEP_SECONDARY_CHOICE_2:\n      return translate(\"tertiary_filter_view\");\n    case STEP_MODEL_CHOICE:\n      return translate(\"model_choice_view\");\n    case STEP_CONCLUSION:\n      return translate(\"conclusion_view\");\n    default:\n      return \"\";\n  }\n};\n\nexport const actionsSerialization = {\n  START_APP: {\n    payload: () => ({}),\n    description: (payload) => translate(\"started_the_app\"),\n  },\n  SET_METRICS_ORDER: {\n    symbol: \"\",\n    payload: (payload) => ({\n      new_order: payload.map(({ id }) => id).join(\", \"),\n    }),\n    description: (payload) => (\n      <div className=\"step-description metrics-ordering\">\n        <div>{translate(\"changed_metrics_order_to\")}</div>\n        <ol>\n          {payload.map((i, index) => {\n            return (\n              <li style={{ background: metricsColorMap[i.id] }} key={index}>\n                {index + 1}. {i.name}\n              </li>\n            );\n          })}\n        </ol>\n      </div>\n    ),\n    // translate(\"changed_metrics_order_to\") +\n    // \" \" +\n    // payload.map((i, index) => index + 1 + \"/ \" + i.name).join(\", \"),\n  },\n  ADD_FILTERS: {\n    symbol: \"\",\n    payload: (payload = {}) => {\n      if (Object.entries(payload).length === 0) {\n        return 0;\n      } else if (Object.entries(payload).length === 1) {\n        const [\n          [\n            _key1,\n            { variable: variable1, range: range1 },\n          ] /* eslint no-unused-vars : 0 */,\n        ] = Object.entries(payload);\n        return {\n          filter1_type: variable1,\n          filter1_value: range1.join(\", \"),\n        };\n      }\n      const [\n        [\n          _key1,\n          { variable: variable1, range: range1 },\n        ] /* eslint no-unused-vars : 0 */,\n        [\n          _key2,\n          { variable: variable2, range: range2 },\n        ] /* eslint no-unused-vars : 0 */,\n      ] = Object.entries(payload);\n      return {\n        filter1_type: variable1,\n        filter1_value: range1.join(\", \"),\n        filter2_type: variable2,\n        filter2_value: range2.join(\", \"),\n      };\n    },\n    description: (payload, models) => {\n      const filters = Object.entries(payload).map((t) => t[1]);\n      let couples = [];\n      for (let i = 0; i < filters.length; i++) {\n        for (let j = i + 1; j < filters.length; j++) {\n          couples.push([filters[j], filters[i]]);\n        }\n      }\n      return (\n        <div className=\"step-description filters\">\n          <div>\n            {translate(\"add_filters\")}{\" \"}\n            {\n              filters.map(\n                (filter, index) => (\n                  <>\n                    <strong key={index}>\n                      {metricsNameMap[filter.variable]}\n                    </strong>\n                    {index === filters.length - 1\n                      ? \"\"\n                      : \" \" + translate(\"and\") + \" \"}\n                  </>\n                )\n                // `${filter.variable} (entre ${filter.range[0]} et ${filter.range[1]})`\n              )\n              // .join(\" \" + translate(\"and\") + \" \")\n            }\n          </div>\n          <div className=\"graphs-container\">\n            {couples.map(([filter1, filter2], index) => {\n              const fromName = metricsNameMap[filter1.variable];\n              const toName = metricsNameMap[filter2.variable];\n              return (\n                <MiniGraph\n                  {...{\n                    index,\n                    filters: {\n                      0: filter1,\n                      1: filter2,\n                    },\n                    key: index,\n                    models,\n                    from: 0,\n                    to: 1,\n                    // onNav,\n                    fromName,\n                    toName,\n                    variables: variablesList,\n                    // choosenModel,\n                    // highlightedNodeId,\n                    // addFilters,\n                    filterModels: (m) => m,\n                    readOnly: true,\n                    displayMode: true,\n                  }}\n                />\n              );\n            })}\n          </div>\n        </div>\n      );\n    },\n  },\n  SET_DATAIKU_RESULTS: {\n    payload: () => ({}),\n    description: () => translate(\"set_dataiku_results\"),\n  },\n  SET_ITERATION_NUMBER: {\n    // payload: (payload) => ({\n    //   iterationNumber: payload.iterationNumber\n    // }),\n    payload: (payload) => payload,\n    description: (iterationNumber) =>\n      translate(\"set_iteration_number\") + (+iterationNumber + 1),\n    symbol: \"\",\n  },\n  SET_CHOOSEN_MODEL: {\n    payload: (payload) => ({\n      choosen_model: payload.variables.join(\"/\"),\n    }),\n    description: (payload) => (\n      <div className=\"step-description model-choice\">\n        <div>{translate(\"set_choosen_model\")}</div>\n        <ul className=\"variables-detail\">\n          {payload.variables.map((variable) => (\n            <li key={variable}>{variablesNamesMap[variable]}</li>\n          ))}\n        </ul>\n      </div>\n    ),\n    symbol: \"\",\n  },\n  SET_CURRENT_STEP: {\n    payload: (payload) => ({ step: serializeStep(payload) }),\n    description: (payload) =>\n      translate(\"navigated_to\") + \" \" + serializeStep(payload),\n  },\n};\n\nexport const renderAction = (action, date, index, models) => {\n  if (actionsSerialization[action.type]) {\n    return actionsSerialization[action.type].description(\n      action.payload,\n      models\n    );\n  }\n  return \"nope\";\n};\nexport const renderPayload = (action) => {\n  if (actionsSerialization[action.type]) {\n    return actionsSerialization[action.type].payload(action.payload);\n  }\n  return \"nope\";\n};\n","import react from \"react\"; /* eslint no-unused-vars : 0 */\nimport translate from \"../helpers/translate\";\n\nimport {\n  SET_METRICS_ORDER,\n  ADD_FILTERS,\n  SET_DATAIKU_RESULTS,\n  SET_CHOOSEN_MODEL,\n} from \"../state/duckData\";\n\nimport { SET_CURRENT_STEP, START_APP } from \"../state/duckUi\";\nimport {\n  STEP_HEADER,\n  // STEP_DATAIKU_PRACTICE,\n  // STEP_EU_LEGISLATION,\n  // STEP_METRICS_EXPLANATION_0,\n  // STEP_METRICS_EXPLANATION_1,\n  // STEP_METRICS_EXPLANATION_2,\n  // STEP_METRICS_EXPLANATION_3,\n  // STEP_METRICS_EXPLANATION_4,\n  // STEP_METRICS_EXPLANATION_5,\n  STEP_METRICS_SORTING,\n  STEP_MAIN_CHOICE,\n  STEP_SECONDARY_CHOICE_1,\n  STEP_SECONDARY_CHOICE_2,\n  STEP_MODEL_CHOICE,\n  STEP_CONCLUSION,\n} from \"../constants\";\nimport downloadFile from \"../helpers/download\";\nimport {\n  renderAction,\n  renderPayload,\n  actionsSerialization,\n} from \"../helpers/history\";\n\nimport metricsList from \"../contents/metrics_list.fr.yml\";\nimport variablesList from \"../contents/variables_list.fr.yml\";\n\nimport \"./History.scss\";\nimport FileSaver from \"file-saver\";\nimport MiniGraph from \"./MiniGraph\";\n\nfunction History({ history = [], models }) {\n  const csv = `id;heure;resume;type;new_order;filter1_type;filter1_value;filter2_type;filter2_value;choosen_model;step\n${history\n  .map(({ action, date }, index) => {\n    const resume = renderAction(action, date, index, models);\n    const {\n      new_order = \"\",\n      filter1_type = \"\",\n      filter1_value = \"\",\n      filter2_type = \"\",\n      filter2_value = \"\",\n      choosen_model = \"\",\n      step = \"\",\n    } = renderPayload(action);\n    return `id;${new Date(date).toLocaleTimeString()};${resume};${\n      action.type\n    };${new_order};${filter1_type};${filter1_value};${filter2_type};${filter2_value};${choosen_model};${step}`;\n  })\n  .join(\"\\n\")}`;\n  return (\n    <div className=\"history\">\n      <ul className=\"history-details\">\n        {history\n          .filter(\n            ({ action }) =>\n              ![\n                \"START_APP\",\n                \"SET_CURRENT_STEP\",\n                \"SET_DATAIKU_RESULTS\",\n              ].includes(action.type)\n          )\n          .map(({ action, date }, index) => {\n            return (\n              <li className=\"history-item\" key={index}>\n                <div\n                  title={new Date(date).toLocaleTimeString()}\n                  className=\"action-symbol-container\"\n                >\n                  <span className=\"action-symbol\">\n                    {actionsSerialization[action.type].symbol || \"\"}\n                  </span>\n                  {/* <code>{new Date(date).toLocaleTimeString()}</code> */}\n                </div>\n                <div className=\"step-description-container\">\n                  {renderAction(action, date, index, models)}\n                </div>\n              </li>\n            );\n          })}\n      </ul>\n      {/* <div>\n        <button onClick={() => downloadFile(csv, \"csv\", \"history\")}>\n          {translate(\"download_history\")}\n        </button>\n      </div> */}\n    </div>\n  );\n}\n\nexport default History;\n","import React, { Component } from \"react\";\nimport { debounce } from \"lodash\";\n\nexport default class DebouncedInput extends Component {\n  constructor(props) {\n    super(props);\n    const delay = props.delay || 500;\n    this.state = {\n      value: props.value,\n      delay,\n    };\n    this.onChange = debounce(this.onChange, delay);\n  }\n\n  componentWillReceiveProps = (nextProps) => {\n    if (this.props.value !== nextProps.value) {\n      this.setState({\n        value: nextProps.value,\n      });\n    }\n    if (this.props.delay !== nextProps.delay) {\n      this.setState({\n        delay: nextProps.delay,\n      });\n      this.onChange = debounce(this.onChange, nextProps.delay);\n    }\n  };\n\n  onChange = (value) => {\n    this.props.onChange(value);\n  };\n\n  handleChange = (e) => {\n    const value = e.target.value;\n    this.setState({ value });\n    this.onChange(e);\n  };\n\n  render = () => {\n    const {\n      state: { value },\n      props: { placeholder },\n      handleChange,\n    } = this;\n    return (\n      <input\n        className={\"input\"}\n        type={\"text\"}\n        placeholder={placeholder}\n        value={value}\n        onChange={handleChange}\n      />\n    );\n  };\n}\n","import react from \"react\"; /* eslint no-unused-vars : 0 */\n\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport Tooltip from \"react-tooltip\";\n\nimport translate from \"../helpers/translate\";\n\nimport * as uiDuck from \"../state/duckUi\";\nimport * as dataDuck from \"../state/duckData\";\nimport * as historyDuck from \"../state/duckHistory\";\n\nimport History from \"../components/History\";\nimport InfoTip from \"../components/InfoTip\";\nimport DebouncedInput from \"../components/DebouncedInput\";\n\nimport metricsList from \"../contents/metrics_list.fr.yml\";\nimport variablesLists from \"../contents/variables_list.fr.yml\";\nimport {\n  DECIMALS,\n  STEP_METRICS_SORTING,\n  STEP_INITIAL_PROVOCATION,\n} from \"../constants\";\nimport downloadFile from \"../helpers/download\";\nimport { metricsColorMap } from \"../helpers/misc\";\n\nimport metrics from \"../contents/metrics_list.fr.yml\";\n// import provocations from \"../contents/provocations.yml\";\nimport messages from \"../contents/messages.fr.yml\";\n\nfunction ConclusionContainer({\n  data: {\n    dataikuResults,\n    choosenModel,\n    filters,\n    privacyVariables,\n    metricsOrder,\n    previousModel,\n    models,\n  },\n  ui: { iterationNumber, currentStep },\n  history,\n  resetApp,\n  setCurrentStep,\n  setIterationNumber,\n  setMetricsOrder,\n  setDataikuResults,\n  setPreviousModel,\n}) {\n  if (!choosenModel) {\n    return null;\n  }\n  const handleNewIteration = () => {\n    // resetApp();\n    setIterationNumber(iterationNumber + 1);\n    setMetricsOrder([\n      ...metrics.filter((m) => m.iteration <= iterationNumber + 1),\n    ]);\n    setPreviousModel(choosenModel);\n    setCurrentStep(STEP_INITIAL_PROVOCATION);\n  };\n  const csv = `source;${metricsList\n    .map(({ name }) => name)\n    .join(\";\")};variables considres comme prives\ndataiku;${metricsList.map(({ id }) => dataikuResults[id]).join(\";\")};\ninterface;${metricsList\n    .map(({ id, name }) => {\n      const value =\n        id === \"Privacy\"\n          ? -Object.keys(privacyVariables).filter((f) => privacyVariables[f])\n              .length\n          : choosenModel[id];\n\n      return value;\n    })\n    .join(\";\")};${Object.keys(privacyVariables)\n    .filter((f) => privacyVariables[f])\n    .join(\", \")}`;\n  return (\n    <section className=\"single-choice-screen\">\n      <h1 className=\"step-title\">{translate(\"conclusion_screen_title\")}</h1>\n      <div className=\"step-section\">\n        <p>\n          Le modle que vous avez choisi utilise les dimensions suivantes pour\n          prendre une dcision :{\" \"}\n          {choosenModel.variables\n            .map(\n              (thatId) => variablesLists.find(({ id }) => id === thatId).name\n            )\n            .map((text) => <strong>{text}</strong>)\n            .reduce(\n              (res, el, index) => [...res, index === 0 ? null : \", \", el],\n              []\n            )}\n          .\n        </p>\n        <h2>\n          {iterationNumber === 0\n            ? translate(\"conclusion_results_title\")\n            : translate(\"conclusion_results_title_bis\")}\n        </h2>\n        <table className=\"results-table\">\n          {/* <thead>\n            <th></th>\n            <th></th>\n            <th>Sans les mtriques</th>\n            <th></th>\n            <th>Avec les mtriques</th>\n          </thead> */}\n          <tbody>\n            {metricsOrder.map(({ name, id, short_description }) => {\n              const color = metricsColorMap[id];\n              const metricsToCompare = previousModel || dataikuResults;\n              let previousValue = +metricsToCompare[id];\n              previousValue =\n                previousValue !== undefined && previousValue.toFixed\n                  ? previousValue.toFixed(DECIMALS)\n                  : previousValue;\n              previousValue = +previousValue;\n              // original value >\n              // let dataikuResult = dataikuResults[id];\n              let dataikuResult = metricsToCompare[id];\n              // reverse for special cases\n              if ([\"privacy\", \"interpretability\"].includes(id)) {\n                dataikuResult = -dataikuResult;\n              }\n              let expResult =\n                id === \"privacy\"\n                  ? -Object.keys(privacyVariables).filter(\n                      (f) => privacyVariables[f]\n                    ).length\n                  : choosenModel[id];\n              expResult = +expResult;\n              expResult = expResult.toFixed\n                ? expResult.toFixed(DECIMALS)\n                : expResult;\n              expResult = +expResult;\n              // dataikuResult = +dataikuResult;\n              let isImproving;\n              if (id.includes([\"disparate\"])) {\n                if (previousValue > 1) {\n                  if (previousValue < expResult) {\n                    isImproving = \"-1\";\n                  } else {\n                    if (expResult > 1) {\n                      isImproving = \"1\";\n                    } else {\n                      isImproving = \"-1\";\n                    }\n                  }\n                } else {\n                  if (previousValue > expResult) {\n                    isImproving = \"-1\";\n                  } else {\n                    isImproving = \"1\";\n                  }\n                }\n              }\n              if (expResult > previousValue) {\n                isImproving = \"1\";\n              } else if (expResult < previousValue) {\n                isImproving = \"-1\";\n              } else {\n                isImproving = \"0\";\n              }\n              // special case\n              if ([\"fairness_accuracy\"].includes(id)) {\n                isImproving = -+isImproving + \"\";\n              }\n              const colors = {\n                1: \"green\",\n                \"-1\": \"red\",\n                0: \"grey\",\n              };\n              const theseMessages = {\n                1: \"Vous avez amlior cet indicateur\",\n                \"-1\": \"Vous avez dgrad cet indicateur\",\n                0: \"Cet indicateur est rest identique\",\n              };\n\n              const handleDataikuInputChange = (e) => {\n                const value = e.target.value.replace(\",\", \".\");\n                setDataikuResults({\n                  ...dataikuResults,\n                  [id]: value,\n                });\n              };\n              return (\n                <tr key={id}>\n                  <th>\n                    <span\n                      className=\"tag metric-name\"\n                      style={{ background: color }}\n                    >\n                      <span>\n                        {name}\n                        <InfoTip\n                          tip={short_description}\n                          data-place=\"right\"\n                          data-effect=\"solid\"\n                        />\n                      </span>\n                    </span>\n                  </th>\n\n                  <th>\n                    <span\n                      className=\"tag\"\n                      style={{\n                        background: \"grey\",\n                      }}\n                    >\n                      {/* {dataikuResult !== undefined && !isNaN(dataikuResult)\n                        ? dataikuResult\n                        : translate(\"no_value\")} */}\n                      <form>\n                        {previousModel !== undefined && previousModel[id] ? (\n                          <span>{previousValue}</span>\n                        ) : (\n                          /*previousModel ? (\n                          <span>{previousModel[id]}</span>\n                        )*/ <DebouncedInput\n                            placeholder={`entrez vous rsultats pour la mtrique ${id}`}\n                            value={metricsToCompare[id] || \"\"}\n                            onChange={handleDataikuInputChange}\n                          />\n                        )}\n                      </form>\n                    </span>\n                  </th>\n                  <th></th>\n                  <th>\n                    <span\n                      className=\"tag\"\n                      style={{\n                        background: colors[isImproving],\n                      }}\n                    >\n                      {expResult}\n                    </span>\n                  </th>\n                  <th>\n                    {dataikuResult !== undefined && !isNaN(dataikuResult)\n                      ? theseMessages[isImproving]\n                      : \"pas de valeur  comparer\"}\n                  </th>\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n        {/* <div>\n          <button onClick={() => downloadFile(csv, \"csv\", \"modeles_expe\")}>\n            {translate(\"download\")}\n          </button>\n        </div> */}\n      </div>\n      <div className=\"step-section\">\n        <h2>{translate(\"conclusion_history_title\")}</h2>\n        <History history={history} models={models} />\n      </div>\n\n      {/* <div>\n        <button\n          onClick={() => {\n            resetApp();\n            setCurrentStep(STEP_METRICS_SORTING);\n          }}\n        >\n          {translate(\"restart\")}\n        </button>\n      </div> */}\n      {/* <div className=\"provocation-image-container-in-conclusion\">\n        <h1>{messages.provocation_intro}</h1>\n        {provocations\n          .filter(\n            (provocation) => provocation.iteration === iterationNumber + 1\n          )\n          .map(({ id, src }) => (\n            <img\n              key={src}\n              src={`${process.env.PUBLIC_URL}/images/${src}`}\n              alt={id}\n            />\n          ))}\n      </div> */}\n\n      {iterationNumber < 2 ? (\n        <div>\n          <button\n            onClick={() => {\n              handleNewIteration();\n            }}\n          >\n            {translate(\"new_iteration\")}\n          </button>\n        </div>\n      ) : (\n        <div>\n          <button\n            onClick={() => {\n              setCurrentStep(currentStep + 1);\n              // resetApp();\n              // setIterationNumber(0);\n              // setCurrentStep(0);\n            }}\n          >\n            {translate(\"new_iteration\")}\n          </button>\n        </div>\n      )}\n\n      <Tooltip />\n    </section>\n  );\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    ...ownProps,\n    ...state,\n    ...uiDuck.selector(state.ui),\n    ...dataDuck.selector(state.data),\n    ...historyDuck.selector(state.history),\n  };\n};\n\nconst mapDispatchToProps = (dispatch) =>\n  bindActionCreators(\n    {\n      ...uiDuck,\n      ...dataDuck,\n    },\n    dispatch\n  );\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ConclusionContainer);\n","/* eslint import/no-webpack-loader-syntax: off */\nimport react from \"react\"; /* eslint no-unused-vars : 0 */\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\n\nimport translate from \"../helpers/translate\";\n\nimport provocations from \"../contents/provocations.yml\";\nimport metricsList from \"../contents/metrics_list.fr.yml\";\n\nimport * as uiDuck from \"../state/duckUi\";\nimport * as dataDuck from \"../state/duckData\";\nimport * as historyDuck from \"../state/duckHistory\";\nimport downloadFile from \"../helpers/download\";\nimport { renderAction, renderPayload } from \"../helpers/history\";\n\n// import { STEP_DATAIKU_PRACTICE } from \"../constants\";\nimport {\n  STEP_METRICS_SORTING,\n  STEP_FINAL_PROVOCATION_3,\n  STEP_FINAL_PROVOCATION_1,\n} from \"../constants\";\n\nfunction FinalProvocationContainer({\n  setCurrentStep,\n  resetApp,\n  setIterationNumber,\n  history = [],\n  data: { models, privacyVariables, choosenModel, dataikuResults },\n  ui: { iterationNumber, currentStep },\n}) {\n  const modelsCsv = `source;${metricsList\n    .map(({ name }) => name)\n    .join(\";\")};variables considres comme prives\n  dataiku;${metricsList.map(({ id }) => dataikuResults[id]).join(\";\")};\n  interface;${metricsList\n    .map(({ id, name }) => {\n      const value =\n        id === \"Privacy\"\n          ? -Object.keys(privacyVariables).filter((f) => privacyVariables[f])\n              .length\n          : choosenModel && choosenModel[id];\n\n      return value;\n    })\n    .filter((v) => v)\n    .join(\";\")};${Object.keys(privacyVariables)\n    .filter((f) => privacyVariables[f])\n    .join(\", \")}`;\n\n  const historyCsv = `id;heure;resume;type;new_order;filter1_type;filter1_value;filter2_type;filter2_value;choosen_model;step\n    ${history\n      .map(({ action, date }, index) => {\n        const resume = renderAction(action, date, index, models);\n        const {\n          new_order = \"\",\n          filter1_type = \"\",\n          filter1_value = \"\",\n          filter2_type = \"\",\n          filter2_value = \"\",\n          choosen_model = \"\",\n          step = \"\",\n        } = renderPayload(action);\n        return `id;${new Date(date).toLocaleTimeString()};${resume};${\n          action.type\n        };${new_order};${filter1_type};${filter1_value};${filter2_type};${filter2_value};${choosen_model};${step}`;\n      })\n      .join(\"\\n\")}`;\n  return (\n    <header className=\"header contents-wrapper\">\n      <div className=\"contents-container final-steps\">\n        {provocations\n          .filter(\n            (provocation) => provocation.iteration === iterationNumber + 1\n          )\n          .filter(\n            (_provocation, index) =>\n              index === currentStep - STEP_FINAL_PROVOCATION_1\n          )\n          .map(({ id, src }) => (\n            <div className=\"provocation-image-container final-steps\">\n              {/* <h1>{translate(\"provocation_intro\")}</h1> */}\n              <img\n                key={id}\n                src={`${process.env.PUBLIC_URL}/images/${src}`}\n                alt={id}\n              />\n            </div>\n          ))}\n      </div>\n      {currentStep < STEP_FINAL_PROVOCATION_3 ? (\n        <div className=\"final-steps-buttons-container\">\n          <button\n            onClick={() => {\n              setCurrentStep(currentStep + 1);\n            }}\n          >\n            {translate(\"new_iteration\")}\n          </button>\n        </div>\n      ) : (\n        <div className=\"final-steps-buttons-container\">\n          <button onClick={() => downloadFile(modelsCsv, \"csv\", \"history\")}>\n            {translate(\"download_models\")}\n          </button>\n          <button onClick={() => downloadFile(historyCsv, \"csv\", \"history\")}>\n            {translate(\"download_history\")}\n          </button>\n          <button\n            onClick={() => {\n              resetApp();\n              setIterationNumber(0);\n              setCurrentStep(0);\n            }}\n          >\n            {translate(\"restart\")}\n          </button>\n        </div>\n      )}\n    </header>\n  );\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  ...ownProps,\n  ...state,\n  ...uiDuck.selector(state.ui),\n  ...dataDuck.selector(state.data),\n  ...historyDuck.selector(state.history),\n});\n\nconst mapDispatchToProps = (dispatch) =>\n  bindActionCreators(\n    {\n      ...uiDuck,\n      ...dataDuck,\n    },\n    dispatch\n  );\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(FinalProvocationContainer);\n","import react, { useEffect } from \"react\"; /* eslint no-unused-vars : 0 */\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport Tooltip from \"react-tooltip\";\n\nimport * as uiDuck from \"../state/duckUi\";\nimport * as dataDuck from \"../state/duckData\";\nimport StepNav from \"../components/StepNav\";\n\nimport \"./GlobalContainer.scss\";\n\nimport StepContainer from \"../components/StepContainer\";\n\nimport HeaderContainer from \"./HeaderContainer\";\nimport InitialProvocationContainer from \"./InitialProvocationContainer\";\n// import DataikuIntroContainer from \"./DataikuIntroContainer\";\n// import EuLegislationContainer from \"./EuLegislationContainer\";\n// import MetricsIntroContainer from \"./MetricsIntroContainer\";\nimport MetricsOrderingContainer from \"./MetricsOrderingContainer\";\nimport MainChoiceContainer from \"./MainChoiceContainer\";\nimport SecondaryChoiceContainer from \"./SecondaryChoiceContainer\";\nimport ModelChoiceContainer from \"./ModelChoiceContainer\";\nimport ConclusionContainer from \"./ConclusionContainer\";\n\nimport {\n  STEP_HEADER,\n  STEP_INITIAL_PROVOCATION,\n  // STEP_DATAIKU_PRACTICE,\n  // // STEP_EU_LEGISLATION,\n  // STEP_METRICS_EXPLANATION_0,\n  // STEP_METRICS_EXPLANATION_1,\n  // STEP_METRICS_EXPLANATION_2,\n  // STEP_METRICS_EXPLANATION_3,\n  // STEP_METRICS_EXPLANATION_4,\n  // STEP_METRICS_EXPLANATION_5,\n  STEP_METRICS_SORTING,\n  STEP_MAIN_CHOICE,\n  STEP_SECONDARY_CHOICE_1,\n  STEP_SECONDARY_CHOICE_2,\n  STEP_SECONDARY_CHOICE_3,\n  STEP_MODEL_CHOICE,\n  // STEP_DATAIKU_FEEDBACK,\n  STEP_CONCLUSION,\n  STEP_FINAL_PROVOCATION_1,\n  STEP_FINAL_PROVOCATION_2,\n  STEP_FINAL_PROVOCATION_3,\n} from \"../constants\";\nimport translate from \"../helpers/translate\";\nimport FinalProvocationContainer from \"./FinalProvocationContainer\";\n\nfunction GlobalContainer({\n  ui: { currentStep, metricsOrderIsValidated, iterationNumber },\n  data: { filters, choosenModel },\n  setCurrentStep,\n  startApp,\n  getData,\n}) {\n  useEffect(() => {\n    startApp();\n    getData();\n  }, [startApp, getData]);\n\n  const steps = {\n    [STEP_HEADER]: {\n      renderStep: () => <HeaderContainer />,\n      title: translate(\"home\"),\n    },\n    [STEP_INITIAL_PROVOCATION]: {\n      renderStep: () => <InitialProvocationContainer />,\n      title: translate(\"provocation\"),\n    },\n    // [STEP_DATAIKU_PRACTICE]: {\n    //   renderStep: () => <DataikuIntroContainer />,\n    //   title: translate(\"intro-dataiku\"),\n    // },\n    // [STEP_EU_LEGISLATION]: {\n    //   renderStep: () => <EuLegislationContainer />,\n    //   title: translate(\"intro-eu\"),\n    // },\n    [STEP_METRICS_SORTING]: {\n      renderStep: () => <MetricsOrderingContainer />,\n      title: translate(\"metrics-sorting\"),\n    },\n    [STEP_MAIN_CHOICE]: {\n      renderStep: () => <MainChoiceContainer />,\n      title: translate(\"main-choice\"),\n      disabled: !metricsOrderIsValidated,\n    },\n    [STEP_SECONDARY_CHOICE_1]: {\n      renderStep: () =>\n        Object.keys(filters).length < 2 ? null : (\n          <SecondaryChoiceContainer\n            nextStep={\n              iterationNumber === 0\n                ? STEP_MODEL_CHOICE\n                : STEP_SECONDARY_CHOICE_2\n            }\n            metricsExtent={[1, 2]}\n            previousExtents={[[0, 1]]}\n          />\n        ),\n      title: translate(\"secondary-choice\") + \" 1\",\n      disabled: !metricsOrderIsValidated || Object.keys(filters).length < 2,\n    },\n    [STEP_SECONDARY_CHOICE_2]: {\n      renderStep: () => (\n        /* Object.keys(filters).length < 4 ? null :*/\n        <SecondaryChoiceContainer\n          nextStep={STEP_MODEL_CHOICE}\n          previousExtents={[\n            [0, 1],\n            [1, 2],\n          ]}\n          metricsExtent={[2, 3]}\n        />\n      ),\n      title: translate(\"secondary-choice\") + \" 2\",\n      disabled: !metricsOrderIsValidated /*|| Object.keys(filters).length < 4*/,\n    },\n    // [STEP_SECONDARY_CHOICE_3]: {\n    //   renderStep: () => (\n    //     /* Object.keys(filters).length < 4 ? null :*/ <SecondaryChoiceContainer\n    //       nextStep={STEP_MODEL_CHOICE}\n    //       previousExtents={[\n    //         [0, 1],\n    //         [1, 2],\n    //         [2, 3],\n    //       ]}\n    //       metricsExtent={[3, 4]}\n    //     />\n    //   ),\n    //   title: translate(\"secondary-choice\") + \" 3\",\n    //   disabled: !metricsOrderIsValidated /*|| Object.keys(filters).length < 4*/,\n    // },\n    [STEP_MODEL_CHOICE]: {\n      renderStep: () =>\n        Object.keys(filters).length < 2 ? null : (\n          <ModelChoiceContainer\n            step={STEP_MODEL_CHOICE}\n            previousStep={\n              iterationNumber === 0\n                ? STEP_SECONDARY_CHOICE_1\n                : STEP_SECONDARY_CHOICE_2\n            }\n          />\n        ),\n      title: translate(\"model-choice\"),\n      disabled: !metricsOrderIsValidated /*|| Object.keys(filters).length < 5*/,\n    },\n    [STEP_CONCLUSION]: {\n      renderStep: () => <ConclusionContainer />,\n      title: translate(\"conclusion\"),\n      disabled: !metricsOrderIsValidated || !choosenModel,\n    },\n    [STEP_FINAL_PROVOCATION_1]: {\n      renderStep: () => <FinalProvocationContainer />,\n      title: translate(\"conclusion\"),\n      disabled:\n        !metricsOrderIsValidated || !choosenModel || iterationNumber < 2,\n    },\n    [STEP_FINAL_PROVOCATION_2]: {\n      renderStep: () => <FinalProvocationContainer />,\n      title: translate(\"conclusion\"),\n      disabled:\n        !metricsOrderIsValidated || !choosenModel || iterationNumber < 2,\n    },\n    [STEP_FINAL_PROVOCATION_3]: {\n      renderStep: () => <FinalProvocationContainer />,\n      title: translate(\"conclusion\"),\n      disabled:\n        !metricsOrderIsValidated || !choosenModel || iterationNumber < 2,\n    },\n  };\n  // console.log({ currentStep, steps });\n\n  // const metricsInfo = [\n  //   // STEP_METRICS_EXPLANATION_0,\n  //   // STEP_METRICS_EXPLANATION_1,\n  //   // STEP_METRICS_EXPLANATION_2,\n  //   // STEP_METRICS_EXPLANATION_3,\n  //   // STEP_METRICS_EXPLANATION_4,\n  //   // STEP_METRICS_EXPLANATION_5,\n  // ];\n  // metricsInfo.forEach((index) => {\n  //   steps[index] = {\n  //     renderStep: () => <MetricsIntroContainer />,\n  //     title: `${translate(\"intro-metrics\")} (${index + 1})`,\n  //   };\n  // });\n  return (\n    <div className=\"container\">\n      {Object.entries(steps).map(([index, s]) => {\n        const { renderStep } = s;\n        return (\n          <StepContainer key={index} active={+index === currentStep}>\n            {renderStep()}\n          </StepContainer>\n        );\n      })}\n      <StepNav\n        {...{\n          currentStep,\n          setCurrentStep,\n          steps,\n        }}\n      />\n      <Tooltip id=\"tooltip\" />\n    </div>\n  );\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  ...ownProps,\n  ...state,\n  ...uiDuck.selector(state.ui),\n  ...dataDuck.selector(state.data),\n});\n\nconst mapDispatchToProps = (dispatch) =>\n  bindActionCreators(\n    {\n      ...uiDuck,\n      ...dataDuck,\n    },\n    dispatch\n  );\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GlobalContainer);\n","/**\n * Fonio Reducers Endpoint\n * ===================================\n *\n * Combining the app's reducers.\n */\nimport { combineReducers } from \"redux\";\nimport { rememberReducer } from \"redux-remember\";\nimport data from \"./duckData\";\nimport history from \"./duckHistory\";\nimport ui from \"./duckUi\";\n\nexport default rememberReducer(\n  combineReducers({\n    data,\n    history,\n    ui,\n  })\n);\n","/**\n * Promise middleware\n * ===================================\n * If a promise is passed in an action,\n * this middleware will resolve it and dispatch related actions names\n * (ACTION_NAME when started, then ACTION_NAME_SUCCESS or ACTION_NAME_FAIL depending on promise outcome)\n */\n\nconst promiseMiddleware = () => ({ dispatch, getState }) => (next) => (\n  action\n) => {\n  // If the action is a function, execute it\n  if (typeof action === \"function\") {\n    return action(dispatch, getState);\n  }\n\n  const { promise, type, ...rest } = action;\n\n  // If there is no promise in the action, ignore it\n  if (!promise) {\n    // pass the action to the next middleware\n    return next(action);\n  } else if (typeof promise !== \"function\" || !Promise.resolve(promise)) {\n    console.warn(\n      'passed an action with a \"promise\" prop which is not a promise function, action:',\n      action\n    ); /* eslint  no-console : 0 */\n    return next(action);\n  }\n  // build constants that will be used to dispatch actions\n  const REQUEST = `${type}_PENDING`;\n  const SUCCESS = `${type}_SUCCESS`;\n  const FAIL = `${type}_FAIL`;\n  const RESET = `${type}_RESET`;\n\n  /*\n   * Trigger the action once to dispatch\n   * the fact promise is starting resolving (for loading indication for instance)\n   */\n  next({ ...rest, type: REQUEST });\n  // resolve promise\n  return promise(dispatch, getState)\n    .then((result) => {\n      setTimeout(() => next({ ...rest, type: RESET }), 1000);\n      return next({ ...rest, result, type: SUCCESS });\n    })\n    .catch((error) => next({ ...rest, error, type: FAIL }));\n};\n\nexport default promiseMiddleware;\n","/* eslint import/no-webpack-loader-syntax: off */\nimport \"./App.scss\";\n\nimport { Provider } from \"react-redux\";\nimport { Helmet } from \"react-helmet\";\n\nimport Container from \"./containers/GlobalContainer\";\n\nimport configureStore from \"./state/store\";\nimport translate from \"./helpers/translate\";\n\nconst initialState = {};\n\nconst store = configureStore(initialState);\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <Helmet>\n        <title>{translate(\"site_title\")}</title>\n      </Helmet>\n      <Container />\n    </Provider>\n  );\n}\n\nexport default App;\n","/**\n * Fonio store configuration\n * ===================================\n * Configuring store with appropriate middlewares\n */\nimport { applyMiddleware, createStore, compose } from \"redux\";\nimport rootReducer from \"./rootReducer\";\nimport promiseMiddleware from \"./promiseMiddleware\";\nimport { rememberEnhancer } from \"redux-remember\";\n\n/**\n * Configures store with a possible inherited state and appropriate reducers\n * @param initialState - the state to use to bootstrap the reducer\n * @return {object} store - the configured store\n */\nexport default function configureStore(initialState = {}) {\n  // Compose final middleware with thunk and promises handling\n  const middleware = applyMiddleware(promiseMiddleware());\n  // Create final store and subscribe router in debug env ie. for devtools\n  const createStoreWithMiddleware = window.__REDUX_DEVTOOLS_EXTENSION__\n    ? compose(\n        // related middlewares\n        middleware,\n        // connection to redux dev tools\n        window.__REDUX_DEVTOOLS_EXTENSION__(),\n        rememberEnhancer(window.localStorage, [\"ui\", \"data\", \"history\"])\n      )(createStore)\n    : compose(\n        middleware,\n        rememberEnhancer(window.localStorage, [\"ui\", \"data\", \"history\"])\n      )(createStore);\n\n  const store = createStoreWithMiddleware(rootReducer, initialState);\n  return store;\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","module.exports = [{\"id\":\"age\",\"name\":\"age\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"credit_history\",\"name\":\"historique de remboursement des crdits passs dans la mme banque\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"foreign_worker\",\"name\":\"travailleur tranger\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"housing\",\"name\":\"logement\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"installment_as_income_perc\",\"name\":\"part de la mensualit de remboursement sur le salaire mensuel\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"other_debtors\",\"name\":\"prsence de dettes dans d'autres banques\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"personal._status\",\"name\":\"clibataire / mari\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"present_emp_since\",\"name\":\"emploi actuel depuis\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"property\",\"name\":\"patrimoine\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"telephone\",\"name\":\"tlphone\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"account_check_status\",\"name\":\"montant dans le compte courant\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"credits_this_bank\",\"name\":\"nombre de crdits prcdents souscrits dans cette mme banque\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"other_installment_plans\",\"name\":\"autres projets d'investissements en cours\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"sex\",\"name\":\"sexe\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"credit_amount\",\"name\":\"montant du crdit\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"savings\",\"name\":\"pargnes\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"people_under_maintenance\",\"name\":\"personnes  charge\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"present_res_since\",\"name\":\"rsidence actuelle depuis\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"job\",\"name\":\"emploi\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"duration_in_month\",\"name\":\"dure en mois du crdit\",\"description\":null,\"relates_to_privacy\":false},{\"id\":\"purpose\",\"name\":\"objectif\",\"description\":null,\"relates_to_privacy\":false}]","module.exports = {\"site_title\":\"Pratiques de l'IA\",\"step\":\"tape\",\"next_step\":\"continuer\",\"previous_step\":\"retour\",\"validate\":\"valider\",\"step_1_title\":\"tape 1 : sans l'interface\",\"step_2_title\":\"tape 2 : la lgislation europenne\",\"step_3_title\":\"tape 3 : mesurer l'thique ?\",\"sort_screen_title\":\"Classer les indicateurs\",\"sort_screen_prompt\":\"Veuillez classer les indicateurs dans l'ordre qui vous semble tre celui du plus important au moins important.\",\"sort_screen_prompt_details\":\"Vous pouvez faire glisser les cartes dans l'ordre dsir.\",\"main_choice_screen_title\":\"Slectionner des modles dans les deux dimensions les plus importantes\",\"main_choice_screen_intro\":\"Veuillez slectionner des modles  partir des deux indicateurs que vous avez dfinis comme les plus importants.\",\"second_choice_screen_title\":\"Slectionner des modles dans les autres dimensions\",\"second_choice_screen_intro\":\"Veuillez slectionner des modles  partir des filtrages prcdents.\",\"model_choice_screen_title\":\"Choisir un modle\",\"model_choice_screen_intro\":\"Parmi les modles qui correspondent aux arbitrages raliss prcdemment (rappels ci-dessous), veuillez slectionner le modle qui correspond le mieux  une prise de dcision thique. Chaque ligne correspond  un modle dont les caractristiques sont rappeles sur chaque colonne.\",\"dataiku_input_screen_title\":\"Avant de voir vos rsultats, entrez les mtriques de votre premire exprience\",\"dataiku_input_screen_intro\":\"Veuillez renseigner les informations pour les mtriques fournies.\",\"conclusion_screen_title\":\"Conclusion\",\"conclusion_results_title\":\"Votre volution depuis l'tape dataiku\",\"conclusion_results_title_bis\":\"Votre volution par rapport  l'itration prcdente\",\"conclusion_history_title\":\"Votre cheminement\",\"restart\":\"Recommencer l'exprience\",\"navigated_to\":\"A navigu sur\",\"add_filters\":\"A ajout des filtres pour les indicateurs\",\"app_header_view\":\"l'accueil\",\"dataiku_practice_view\":\"la vue ddie  la phase d'exprimentation avec dataiku\",\"eu_legislation_view\":\"la vue ddie  la legislation europenne\",\"metrics_explanation_view\":\"la vue ddie  l'explication des indicateurs\",\"metrics_sorting_view\":\"la vue ddie  l'ordonnancement des indicateurs\",\"main_filter_view\":\"la vue ddie au filtre principal\",\"secondary_filter_view\":\"la vue ddie au filtre secondaire\",\"tertiary_filter_view\":\"la vue ddie au filtre tertiaire\",\"model_choice_view\":\"la vue ddie au choix du modle\",\"dataiku_feedback_view\":\"la vue ddie  entrer les informations dataiku\",\"conclusion_view\":\"la vue de conclusion\",\"set_choosen_model\":\"A choisi un modle prenant en compte les variables :\",\"set_dataiku_results\":\"A entr les rsultats obtenus via dataiku\",\"changed_metrics_order_to\":\"A chang l'ordre des indicateurs pour\",\"started_the_app\":\"A commenc l'exprimentation\",\"and\":\"et\",\"download\":\"tlcharger\",\"download_history\":\"tlcharger l'historique\",\"first_model_dataiku\":\"Premier modle issu de l'exprience avec Dataiku\",\"second_model_choosen\":\"Second modle issu de l'exprience avec cette interface\",\"performance\":\"Performance\",\"disparate_impact\":\"Disparate impact sur le genre\",\"errors_distribution\":\"Distribution des erreurs entre hommes et femmes\",\"privacy\":\"Privacy\",\"interpretability\":\"Interprtabilit\",\"dataiku_results_label\":\"Votre score issu de l'tape 1 sans l'interface\",\"privacy_prompt\":\"Dfinissez les variables qui relvent de la privacy selon vous\",\"home\":\"accueil\",\"intro-dataiku\":\"tape 1 - exprience sans l'interface\",\"intro-eu\":\"Principes de l'Union Europenne\",\"metrics-sorting\":\"Classement des mtriques\",\"main-choice\":\"Arbitrage principal\",\"secondary-choice\":\"Arbitrage secondaire\",\"model-choice\":\"Choix du modle\",\"conclusion\":\"Conclusion\",\"intro-metrics\":\"Introduction aux mtriques\",\"show-descriptions\":\"montrer les descriptions des mtriques\",\"move_up\":\"remonter\",\"move_down\":\"descendre\",\"select_model\":\"slectionner\",\"dataiku_results_label_for_performance\":\"Votre indicateur de performance sans l'interface\",\"dataiku_results_label_for_privacy\":\"Nombre de variables prives utilises sans l'interface\",\"dataiku_results_label_for_disparate_impact\":\"Votre indicateur de disparate impact sans l'interface\",\"dataiku_results_label_for_errors_distribution\":\"Votre indicateur de distribution des erreurs sans l'interface\",\"dataiku_results_label_for_interpretability\":\"Nombre de variables utilises sans l'interface\",\"similarity\":\"Similarit\",\"sort_by\":\"Trier les modles slectionns par\",\"no_value\":\"pas de valeur\",\"loading\":\"Chargement\",\"show_more_models\":\"montrer plus de modles\",\"not_displayed\":\"non affichs\",\"new_iteration\":\"Continuer l'exprimentation\",\"set_iteration_number\":\"A commenc l'itration n\",\"provocation_intro\":\"Quand soudain ...\",\"download_models\":\"tlcharger les modles choisis\"}","module.exports = [{\"id\":\"femme\",\"src\":\"objection-femme.svg\",\"iteration\":0},{\"id\":\"etrangers\",\"src\":\"objection-etrangers.svg\",\"iteration\":1},{\"id\":\"interpratibilite\",\"src\":\"objection-interpretabilite.svg\",\"iteration\":2},{\"id\":\"misogyne\",\"src\":\"objection-misogyne.svg\",\"iteration\":3},{\"id\":\"datascientists\",\"src\":\"objection-datascientists.svg\",\"iteration\":3},{\"id\":\"algo\",\"src\":\"objection-algo.svg\",\"iteration\":3}]","module.exports = [{\"name\":\"Performance\",\"id\":\"performance\",\"color\":\"#0096D1\",\"short_description\":\"L'AUC est un nombre entre 0 et 1 mesurant la performance de l'algorithme. Un algorithme performant possde un AUC proche de 1. Comme traditionnellement dans lindustrie du Machine Learning, on supposera que le data scientist banquier est dabord incit sur le critre de la performance de son algorithme car lAUC est proportionnel au gain financier procur par lalgorithme.\",\"iteration\":0},{\"name\":\"Disparate impact (femmes/hommes)\",\"id\":\"fairness_disparate_impact\",\"color\":\"#984F0E\",\"short_description\":\"il sagit du ratio du pourcentage dacceptation du crdit chez les femmes sur le pourcentage dacceptation chez les hommes. Lorsque ce ratio est gal  1, on considrera quil ny pas deffet disparate entre les hommes et les femmes. La rgle des 80% est utilise par le droit amricain pour dtecter des effets discriminants : si le ratio du disparate impact est en-dessous de 80% alors on dira qu'il y a effet disparate entre hommes et femmes.\",\"iteration\":0},{\"name\":\"Disparate impact (travailleur tranger)\",\"id\":\"disparate_impact_foreign\",\"color\":\"#8D5F5B\",\"short_description\":\"il sagit du ratio du pourcentage dacceptation du crdit chez les travailleurs trangers sur le pourcentage dacceptation chez les travailleurs non-trangers. Lorsque ce ratio est gal  1, on considrera quil ny pas deffet disparate entre les hommes et les femmes. La rgle des 80% est utilise par le droit amricain pour dtecter des effets discriminants : si le ratio du disparate impact est en-dessous de 80% alors on dira qu'il y a effet disparate entre hommes et femmes.\",\"iteration\":1},{\"name\":\"Interprtabilit\",\"id\":\"interpretability\",\"color\":\"#ECC0A5\",\"type\":\"integer\",\"short_description\":\"Selon la lgislation (RGPD), les demandeurs ont le droit d'exiger une explication des dcisions. On considrera que loppos du nombre total de variables dans le modle comme un proxy de linterprtabilit des algorithmes. En effet, des explications avec 20 variables seront beaucoup plus difficiles  fournir quune explication avec 5 variables.\",\"iteration\":2}]","\n\t\t\t\tvar addMethods = require(\"../node_modules/workerize-loader/dist/rpc-wrapper.js\")\n\t\t\t\tvar methods = [\"getVisibleModels\"]\n\t\t\t\tmodule.exports = function() {\n\t\t\t\t\tvar w = new Worker(__webpack_public_path__ + \"7766f6dd491621912ca7.worker.js\", { name: \"[hash].worker.js\" })\n\t\t\t\t\taddMethods(w, methods)\n\t\t\t\t\t\n\t\t\t\t\treturn w\n\t\t\t\t}\n\t\t\t"],"sourceRoot":""}