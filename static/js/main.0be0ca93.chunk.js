(this["webpackJsonpexp-ai"]=this["webpackJsonpexp-ai"]||[]).push([[0],{113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},15:function(e,t){e.exports=[{name:"Performance",id:"Performance",short_description:"L'AUC mesure la performance de l'algorithme. Comme traditionnellement dans l\u2019industrie du Machine Learning, on supposera que le data scientist banquier est d\u2019abord incit\xe9 sur le crit\xe8re de la performance de son algorithme car l\u2019AUC est proportionnel au gain financier procur\xe9 par l\u2019algorithme."},{name:"Disparate impact sur le genre",id:"fairness_disparate_impact",short_description:"il s\u2019agit d\u2019un ratio entre le pourcentage d\u2019acceptation chez les femmes et le pourcentage d\u2019acceptation chez les hommes. Lorsque ce ratio est \xe9gal \xe0 1, on consid\xe9rera qu\u2019il n\u2019y pas d\u2019effet disparate entre les hommes et les femmes. Attention, un effet disparate tr\xe8s diff\xe9rent de 1 ne signifie pas qu\u2019il y a diff\xe9rence de traitement. Un effet disparate dit simplement que l\u2019on constate deux effets diff\xe9rents entre les hommes et les femmes sans s\u2019int\xe9resser aux causes de cet effet (le traitement). La diff\xe9rence de traitement peut se tester avec des analyses toute chose \xe9gale par ailleurs (testing de CV par exemple)."},{name:"Distribution des erreurs entre hommes et femmes",id:"fairness_accuracy",short_description:"Une autre mani\xe8re compl\xe9mentaire de s\u2019int\xe9resser aux discriminations algorithmiques est de de s\u2019int\xe9resser \xe0 la distribution des erreurs entre hommes et femmes. L\u2019erreur dans l\u2019allocation du droit au cr\xe9dit peut p\xe9naliser les individus dans leur capacit\xe9 d\u2019agir (acheter une maison, voiture, etc). Il est donc primordial que celle-ci soit distribu\xe9 de la m\xeame mani\xe8re entre les hommes et les femmes. L\u2019indicateur de la pr\xe9cision mesure le taux de pr\xe9dictions corrects (c\u2019est-\xe0-dire vrais positifs + vrais n\xe9gatifs). Une mani\xe8re de mesurer la diff\xe9rence entre ces taux est de faire la soustraction entre la pr\xe9cision chez les hommes et la pr\xe9cision entre les femmes."},{name:"Privacy",id:"Privacy",type:"integer",short_description:"Selon les conventions des droits de l\u2019hommes, chaque individu a le droit de disposer de ses donn\xe9es personnelles. Selon la RGPD, il faut donc veiller \xe0 ce que ces donn\xe9es priv\xe9es soient r\xe9colt\xe9es de mani\xe8re parcimonieuse (principe de minimisation), pour des finalit\xe9s bien d\xe9termin\xe9es (principe de finalit\xe9), limiter les failles de s\xe9curit\xe9, les fuites possibles, etc, Nous prendrons l\u2019oppos\xe9 du nombre de variables personnelles comme proxy de la privacy. Les 11 variables personnelles sont present_emp_since, sex, personal.\\_status, present_res_since ,property, age, housing, job, people_under_maintenance, telephone, foreign_worker. Le nombre de variables priv\xe9es est \xe9galement un proxy de la vuln\xe9rabilit\xe9 aux failles de s\xe9curit\xe9 par attaques (s\xe9curit\xe9)."},{name:"Interpr\xe9tabilit\xe9",id:"Interpretability",type:"integer",short_description:"Selon la l\xe9gislation (RGPD), les demandeurs ont le droit d'exiger une explication des d\xe9cisions. On consid\xe8rera que l\u2019oppos\xe9 du nombre total de variables dans le mod\xe8le comme un proxy de l\u2019interpr\xe9tabilit\xe9 des algorithmes. En effet, des explications avec 20 variables seront beaucoup plus difficiles \xe0 fournir qu\u2019une explication avec 5 variables."}]},187:function(e,t,n){},188:function(e,t,n){},189:function(e,t,n){},193:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){},198:function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"SET_METRICS_ORDER",(function(){return C})),n.d(i,"ADD_FILTERS",(function(){return E})),n.d(i,"SET_CHOOSEN_MODEL",(function(){return w})),n.d(i,"SET_DATAIKU_RESULTS",(function(){return T})),n.d(i,"RESET_APP",(function(){return R})),n.d(i,"resetApp",(function(){return I})),n.d(i,"getData",(function(){return V})),n.d(i,"setMetricsOrder",(function(){return k})),n.d(i,"addFilters",(function(){return D})),n.d(i,"setChoosenModel",(function(){return P})),n.d(i,"setDataikuResults",(function(){return A})),n.d(i,"default",(function(){return M})),n.d(i,"selector",(function(){return L}));var r={};n.r(r),n.d(r,"SET_CURRENT_STEP",(function(){return F})),n.d(r,"SET_METRICS_ORDER_IS_VALIDATED",(function(){return z})),n.d(r,"SET_MAIN_CHOICE_IS_VALIDATED",(function(){return B})),n.d(r,"START_APP",(function(){return H})),n.d(r,"setCurrentStep",(function(){return G})),n.d(r,"setNumberOfSteps",(function(){return X})),n.d(r,"setMetricsOrderIsValidated",(function(){return K})),n.d(r,"setMainChoiceIsValidated",(function(){return J})),n.d(r,"startApp",(function(){return Y})),n.d(r,"default",(function(){return Q})),n.d(r,"selector",(function(){return Z}));var a=n(1),s=n(0),c=n.n(s),o=n(11),l=n.n(o),u=(n(91),n(92),n(9)),d=n(78),b=n(2),j=n(8),p=n(19),m=n(29),f=n(4),O=function(e,t,n){var i=e.replace("SET_","").toLowerCase().replace(/(_[a-z])/gi,(function(e,t){return t.substr(1).toUpperCase()}));return Object(b.a)(Object(b.a)({},n),{},Object(f.a)({},i,t))},h=n(14),v=n(81),_=n.n(v),x=n(211),g=function(){return new Promise((function(e,t){_()("".concat("/exp-ai","/models-sample.csv")).then((function(t){var n=t.data;e(function(e){return e.map((function(e,t){return Object(b.a)(Object(b.a)({},e),{},{variables:e.nom_modele.split(" "),nom_modele:void 0,id:t})}))}(Object(x.a)(n)))})).catch(t)}))},y=n(15),S=n.n(y),N="GET_DATA",C="SET_METRICS_ORDER",E="ADD_FILTERS",w="SET_CHOOSEN_MODEL",T="SET_DATAIKU_RESULTS",R="RESET_APP",I=function(){return{type:R}},V=function(e){return{type:N,payload:e,promise:function(){return g()}}},k=function(e){return{type:C,payload:e}},D=function(e){return{type:E,payload:e}},P=function(e){return{type:w,payload:e}},A=function(e){return{type:T,payload:e}},q={models:[],metricsOrder:Object(h.a)(S.a),filters:{},choosenModel:void 0,dataikuResults:{}};var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0,n=t.payload,i=t.result;switch(t.type){case R:return Object(b.a)(Object(b.a)({},q),{},{models:e.models});case"".concat(N):return e;case"".concat(N,"_SUCCESS"):return Object(b.a)(Object(b.a)({},e),{},{models:i});case"".concat(N,"_ERROR"):return e;case C:return O(t.type,n,e);case E:return Object(b.a)(Object(b.a)({},e),{},{filters:Object(b.a)(Object(b.a)({},e.filters),n)});case z:return Object(b.a)(Object(b.a)({},e),{},{filters:q.filters});case T:case w:return O(t.type,n,e);default:return e}},L=Object(m.a)({models:function(e){return e.models},metricsOrder:function(e){return e.metricsOrder},filters:function(e){return e.filters},choosenModel:function(e){return e.choosenModel},dataikuResults:function(e){return e.dataikuResults}}),F="SET_CURRENT_STEP",U="SET_NUMBER_OF_STEPS",z="SET_METRICS_ORDER_IS_VALIDATED",B="SET_MAIN_CHOICE_IS_VALIDATED",H="START_APP",G=function(e){return{type:F,payload:e}},X=function(e){return{type:U,payload:e}},K=function(e){return{type:z,payload:e}},J=function(e){return{type:B,payload:e}},Y=function(e){return{type:H,payload:e}},W={currentStep:0,numberOfSteps:5,metricsOrderIsValidated:!1,mainChoiceIsValidated:!1};var Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case R:return W;case F:case U:return O(t.type,n,e);case z:return Object(b.a)(Object(b.a)({},e),{},{metricsOrderIsValidated:n,mainChoiceIsValidated:!!n&&e.mainChoiceIsValidated});case B:return Object(b.a)(Object(b.a)({},e),{},{mainChoiceIsValidated:n});case C:return Object(b.a)(Object(b.a)({},e),{},{metricsOrderIsValidated:!1});default:return e}},Z=Object(m.a)({currentStep:function(e){return e.currentStep},numberOfSteps:function(e){return e.numberOfSteps},metricsOrderIsValidated:function(e){return e.metricsOrderIsValidated},mainChoiceIsValidated:function(e){return e.mainChoiceIsValidated}}),$=n(3),ee=n(7),te=n.n(ee);n(113);var ne=function(e){var t=e.currentStep,n=e.numberOfSteps,i=e.setCurrentStep,r=Object(s.useState)([]),c=Object($.a)(r,2),o=c[0],l=c[1];return Object(s.useMemo)((function(){for(var e=new Array(n),t=0;t<e.length;t++)e[t]=t;l(e)}),[n]),Object(a.jsx)("nav",{className:"step-nav",children:Object(a.jsx)("ul",{className:"step-nav-items-container",children:o.map((function(e,n){return Object(a.jsx)("li",{className:te()("step-nav-item",{active:n===t}),onClick:function(){return i(n)}},n)}))})})},ie=(n(114),n(12)),re=n(210);n(115);var ae=function(e){var t=e.children,n=e.active,i=e.style,r=void 0===i?{}:i,c=Object(ie.a)(e,["children","active","style"]),o=Object(s.useRef)(null);return Object(a.jsx)(re.a,{nodeRef:o,in:n,timeout:300,children:function(e){return Object(a.jsx)("div",Object(b.a)(Object(b.a)({className:te()("step-container",e),ref:o},c),{},{style:Object(b.a)({},r),children:t}))}})},se=n(23),ce=n.n(se),oe=n(54),le=n.n(oe);var ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fr";if("fr"===t)return le.a[e]||console.warn("unstranslated key: ",e),le.a[e]||e};var de=function(e){var t=e.onClick,n=e.disabled;return Object(a.jsx)("div",{className:"continue-button-container",children:Object(a.jsx)("button",{disabled:n,onClick:t,className:"continue-button",children:ue("next_step")})})};var be=Object(u.b)((function(e,t){return Object(b.a)(Object(b.a)(Object(b.a)({},t),e),Z(e.ui))}),(function(e){return Object(j.b)(Object(b.a)({},r),e)}))((function(e){var t=e.setCurrentStep;return Object(a.jsxs)("header",{className:"header contents-wrapper",children:[Object(a.jsxs)("div",{className:"contents-container",children:[Object(a.jsx)("h1",{className:"header-title",children:ue("site_title")}),Object(a.jsx)("div",{className:"emphasis",children:Object(a.jsx)(ce.a,{source:"Vous participez \xe0 une enqu\xeate dans le cadre de la conception d\u2019un outil de Machine Learning. Cette enqu\xeate est r\xe9alis\xe9e par l\u2019Institut Mines-T\xe9l\xe9com et Sciences Po dans le cadre d\u2019un travail de recherche.\n"})})]}),Object(a.jsx)(de,{onClick:function(){return t(1)}})]})}));var je=Object(u.b)((function(e,t){return Object(b.a)(Object(b.a)(Object(b.a)({},t),e),Z(e.ui))}),(function(e){return Object(j.b)(Object(b.a)({},r),e)}))((function(e){var t=e.setCurrentStep;return Object(a.jsxs)("section",{className:"step-1 contents-wrapper",children:[Object(a.jsxs)("div",{className:"contents-container",children:[Object(a.jsx)("h1",{className:"step-title",children:ue("step_1_title")}),Object(a.jsx)("div",{className:"emphasis",children:Object(a.jsx)(ce.a,{source:"Supposez que vous \xeates un data scientist dans une banque et que l\u2019on vous demande de r\xe9aliser un\nalgorithme de ML pour la pr\xe9diction du risque de d\xe9faut de vos clients \xe0 partir d\u2019un historique de\ndonn\xe9es. Vous avez \xe0 disposition les donn\xe9es sur une interface et nous vous demandons de cr\xe9er le\nclassifieur de ML \xe0 l\u2019aide de l\u2019outil Dataiku.\n"})})]}),Object(a.jsx)(de,{onClick:function(){return t(2)}})]})}));var pe=Object(u.b)((function(e,t){return Object(b.a)(Object(b.a)(Object(b.a)({},t),e),Z(e.ui))}),(function(e){return Object(j.b)(Object(b.a)({},r),e)}))((function(e){var t=e.setCurrentStep;return Object(a.jsxs)("section",{className:"step-2 contents-wrapper",children:[Object(a.jsxs)("div",{className:"contents-container",children:[Object(a.jsx)("h1",{className:"step-title",children:ue("step_2_title")}),Object(a.jsx)("div",{className:"contents",children:Object(a.jsx)(ce.a,{source:"Un mouvement actuel \u2013 qu\u2019on appelle g\xe9n\xe9ralement \xe9thique de l\u2019IA - compos\xe9 d\u2019organisations\ninternationales (OCDE, commission europ\xe9enne), publiques, d\u2019entreprises, universitaires,\nassociations, ont produit un certain nombre de critiques concernant l\u2019IA \xe0 travers des chartes\n\xe9thiques, des indicateurs, des principes, etc. Par exemple, la charte \xe9thique de la commission\neurop\xe9enne met en avant les principes suivants pour construire une IA digne de confiance :\n\n1. Capacit\xe9 d\u2019agir humaine (human agency)\n1. Robustesse technique et s\xe9curit\xe9\n1. Protection des donn\xe9es personnelles et gouvernance des donn\xe9es\n1. Transparence\n1. Diversit\xe9, non-discrimination et \xe9quit\xe9\n1. Bien-\xeatre soci\xe9tal et environnemental\n1. Responsabilit\xe9\n"})})]}),Object(a.jsx)(de,{onClick:function(){return t(3)}})]})}));var me=Object(u.b)((function(e,t){return Object(b.a)(Object(b.a)(Object(b.a)({},t),e),Z(e.ui))}),(function(e){return Object(j.b)(Object(b.a)({},r),e)}))((function(e){var t=e.setCurrentStep;return Object(a.jsxs)("section",{className:"step-3 contents-wrapper",children:[Object(a.jsxs)("div",{className:"contents-container",children:[Object(a.jsx)("h1",{className:"step-title",children:ue("step_3_title")}),Object(a.jsx)("div",{className:"contents",children:Object(a.jsx)(ce.a,{source:"Pour toutes les combinaisons possibles de mod\xe8les sur l\u2019ensemble des 20 features, nous avons construit un classifieur \xe0 l\u2019aide d\u2019un mod\xe8le logistique. Cela fait en tout 2 097 130 classifieurs. Pour chacun de ces classifieurs, nous calculons les indicateurs suivants :\n\n- **Performance** : L'AUC mesure la performance de l'algorithme. Comme traditionnellement dans l\u2019industrie du Machine Learning, on supposera que le data scientist banquier est d\u2019abord incit\xe9 sur le crit\xe8re de la performance de son algorithme car l\u2019AUC est proportionnel au gain financier procur\xe9 par l\u2019algorithme\n- **Disparate impact sur le genre** : il s\u2019agit d\u2019un ratio entre le pourcentage d\u2019acceptation chez les femmes et le pourcentage d\u2019acceptation chez les hommes. Lorsque ce ratio est \xe9gal \xe0 1, on consid\xe9rera qu\u2019il n\u2019y pas d\u2019effet disparate entre les hommes et les femmes. Attention, un effet disparate tr\xe8s diff\xe9rent de 1 ne signifie pas qu\u2019il y a diff\xe9rence de traitement. Un effet disparate dit simplement que l\u2019on constate deux effets diff\xe9rents entre les hommes et les femmes sans s\u2019int\xe9resser aux causes de cet effet (le traitement). La diff\xe9rence de traitement peut se tester avec des analyses toute chose \xe9gale par ailleurs (testing de CV par exemple). Dans la litt\xe9rature, il y a deux mani\xe8res de prendre une d\xe9cision sur l\u2019indicateur du disparate impact :\n  - La r\xe8gle des 80% : la r\xe8gle des 80% est utilis\xe9e par le droit am\xe9ricain pour d\xe9tecter des effets discriminants. Si le ratio du disparate impact est en-dessous de 80% alors on dira qu'il y a effet disparate entre hommes et femme.\n  - Ne pas amplifier les biais \xe0 l\u2019int\xe9rieur des donn\xe9es d\u2019apprentissage : le Machine Learning peut amplifier le disparate impact d\xe9j\xe0 pr\xe9sent dans les donn\xe9es. Pour information, l'effet disparate dans nos donn\xe9es d\u2019apprentissage (historique de donn\xe9es issues de d\xe9cisions humaines pass\xe9es) est de 0,90. Si cet effet est plus grand dans l'algorithme, alors l'algorithme aura amplifi\xe9 les biais dans les donn\xe9es.\n- **Distribution des erreurs entre hommes et femmes** : Une autre mani\xe8re compl\xe9mentaire de s\u2019int\xe9resser aux discriminations algorithmiques est de de s\u2019int\xe9resser \xe0 la distribution des erreurs entre hommes et femmes. L\u2019erreur dans l\u2019allocation du droit au cr\xe9dit peut p\xe9naliser les individus dans leur capacit\xe9 d\u2019agir (acheter une maison, voiture, etc). Il est donc primordial que celle-ci soit distribu\xe9 de la m\xeame mani\xe8re entre les hommes et les femmes. L\u2019indicateur de la pr\xe9cision mesure le taux de pr\xe9dictions corrects (c\u2019est-\xe0-dire vrais positifs + vrais n\xe9gatifs). Une mani\xe8re de mesurer la diff\xe9rence entre ces taux est de faire la soustraction entre la pr\xe9cision chez les hommes et la pr\xe9cision entre les femmes.\n- **Privacy** : Selon les conventions des droits de l\u2019hommes, chaque individu a le droit de disposer de ses donn\xe9es personnelles. Selon la RGPD, il faut donc veiller \xe0 ce que ces donn\xe9es priv\xe9es soient r\xe9colt\xe9es de mani\xe8re parcimonieuse (principe de minimisation), pour des finalit\xe9s bien d\xe9termin\xe9es (principe de finalit\xe9), limiter les failles de s\xe9curit\xe9, les fuites possibles, etc, Nous prendrons l\u2019oppos\xe9 du nombre de variables personnelles comme proxy de la privacy. Les 11 variables personnelles sont present_emp_since, sex, personal.\\_status, present_res_since ,property, age, housing, job, people_under_maintenance, telephone, foreign_worker. Le nombre de variables priv\xe9es est \xe9galement un proxy de la vuln\xe9rabilit\xe9 aux failles de s\xe9curit\xe9 par attaques (s\xe9curit\xe9).\n- **Interpr\xe9tabilit\xe9** : Selon la l\xe9gislation (RGPD), les demandeurs ont le droit d'exiger une explication des d\xe9cisions. On consid\xe8rera que l\u2019oppos\xe9 du nombre total de variables dans le mod\xe8le comme un proxy de l\u2019interpr\xe9tabilit\xe9 des algorithmes. En effet, des explications avec 20 variables seront beaucoup plus difficiles \xe0 fournir qu\u2019une explication avec 5 variables.\n"})})]}),Object(a.jsx)(de,{onClick:function(){return t(4)}})]})})),fe=n(44);n(187);var Oe=function(e){var t=e.tip,n=Object(ie.a)(e,["tip"]);return Object(a.jsx)("span",Object(b.a)(Object(b.a)({className:"info-tip","data-effect":n.dataEffect||"solid","data-tip":t},n),{},{children:Object(a.jsx)("span",{children:"?"})}))};var he=Object(u.b)((function(e,t){return Object(b.a)(Object(b.a)(Object(b.a)(Object(b.a)({},t),e),Z(e.ui)),L(e.data))}),(function(e){return Object(j.b)(Object(b.a)(Object(b.a)({},r),i),e)}))((function(e){var t=e.ui.metricsOrderIsValidated,n=e.data.metricsOrder,i=e.setCurrentStep,r=e.setMetricsOrder,s=e.setNumberOfSteps,c=e.setMetricsOrderIsValidated;return Object(a.jsxs)("section",{className:"sort-screen",children:[Object(a.jsx)("h1",{className:"step-title",children:ue("sort_screen_title")}),Object(a.jsx)("p",{className:"instructions",children:ue("sort_screen_prompt")}),Object(a.jsx)(fe.a,{onDragEnd:function(e){if(e.destination){var t=function(e,t,n){var i=Array.from(e),r=i.splice(t,1),a=Object($.a)(r,1)[0];return i.splice(n,0,a),i}(n,e.source.index,e.destination.index);r(t),s(5)}},children:Object(a.jsx)(fe.c,{droppableId:"droppable",children:function(e,t){return Object(a.jsxs)("div",Object(b.a)(Object(b.a)({},e.droppableProps),{},{ref:e.innerRef,className:te()("draggable-list",{"is-dragging":t.isDraggingOver}),children:[n.map((function(e,t){return Object(a.jsx)(fe.b,{draggableId:e.name,index:t,children:function(n,i){return Object(a.jsx)("div",Object(b.a)(Object(b.a)(Object(b.a)({ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{className:te()("draggable-item",{"is-dragged":i.isDragging}),style:n.draggableProps.style,children:Object(a.jsxs)("h3",{children:[Object(a.jsx)("span",{className:"number-indicator",children:t+1}),e.name," ",Object(a.jsx)(Oe,{"data-effect":"solid","data-place":"right",tip:e.short_description})]})}))}},e.name)})),e.placeholder]}))}})}),Object(a.jsx)("button",{disabled:t,onClick:function(){c(!0),s(6),i(5)},children:"Valider"})]})}));n(188);var ve=function(e){var t=e.metrics;return Object(a.jsxs)("div",{className:"metrics-crossing-indicator",children:[Object(a.jsx)("ul",{className:"crossing-indicator-items",children:t.map((function(e){return Object(a.jsxs)("li",{className:te()("crossing-indicator-item",{active:e.active}),children:[e.name," ",Object(a.jsx)(Oe,{"data-place":"right","data-effect":"solid",tip:e.short_description})]},e.name)}))}),Object(a.jsx)(p.a,{})]})},_e=n(208),xe=n(207),ge=(n(189),n(206)),ye=n(209),Se=n(26);n(193);var Ne=function(e){var t=e.data,n=e.xVariable,i=e.yVariable,r=e.filteredVariables,c=e.width,o=void 0===c?500:c,l=e.height,u=void 0===l?500:l,d=e.axisMargin,j=void 0===d?30:d,p=e.padding,m=void 0===p?10:p,f=e.brush,O=Object($.a)(f.x,2),h=O[0],v=O[1],_=Object($.a)(f.y,2),x=_[0],g=_[1],y=e.onBrushChange,N=e.readOnly,C=void 0!==N&&N,E=e.minified,w=void 0!==E&&E,T=e.highlightedNodeId,R=Object(s.useState)([h,v]),I=Object($.a)(R,2),V=Object($.a)(I[0],2),k=V[0],D=V[1],P=I[1],A=Object(s.useState)([x,g]),q=Object($.a)(A,2),M=Object($.a)(q[0],2),L=M[0],F=M[1],U=q[1],z=w?3:10;Object(s.useEffect)((function(){P([h,v]),U([x,g])}),[h,v,x,g]);var B=function(e){return"Privacy"===n?-e.variables.filter((function(e){return r.includes(e)})).length:+e[n]},H=function(e){return"Privacy"===i?-e.variables.filter((function(e){return r.includes(e)})).length:+e[i]},G=Object(ge.a)(t,B),X=Object(ge.a)(t,H),K=Object(ye.a)().domain(G).range([j+m,o-m]),J=Object(ye.a)().domain(X.reverse()).range([m,u-j-m]),Y=Object(s.useState)(void 0),W=Object($.a)(Y,2),Q=W[0],Z=W[1],ee=Object(s.useState)([0,0]),ne=Object($.a)(ee,2),ie=ne[0],re=ne[1],ae=Object(s.useState)(!1),se=Object($.a)(ae,2),ce=se[0],oe=se[1],le=Object(s.useRef)(null),ue=function(){C||(oe(!1),k!==D&&L!==F?y({x:[+k.toFixed?+k.toFixed(4):+k,+D.toFixed?+D.toFixed(4):+D].sort(),y:[+L.toFixed?+L.toFixed(4):+L,+F.toFixed?+F.toFixed(4):+F].sort()}):(P([h,v]),U([x,g])))};return Object(a.jsxs)("div",{className:"brushable-scatterplot-container",children:[Object(a.jsxs)("svg",{width:o,height:u,ref:le,className:te()("brushable-scatterplot",{"is-brushing":ce,"is-readonly":C,"is-minified":w}),onMouseDown:function(e){if(!C){oe(!0),Z(void 0);var t=le.current.getBoundingClientRect(),n=K.invert(e.clientX-t.x),i=J.invert(e.clientY-t.y);P([n,n]),U([i,i])}},onMouseMove:function(e){if(!C&&ce){var t=le.current.getBoundingClientRect(),n=K.invert(e.clientX-t.x),i=J.invert(e.clientY-t.y);P([k,n]),U([L,i])}},onMouseUp:ue,onMouseLeave:ue,children:[Object(a.jsx)("g",{transform:"translate(0, ".concat(u-j-m,")"),className:"x-axis",children:Object(a.jsx)(Se.Axis,Object(b.a)(Object(b.a)({},Object(Se.axisPropsFromTickScale)(K,z)),{},{style:{orient:Se.BOTTOM}}))}),Object(a.jsx)("g",{transform:"translate(".concat(j+m,", 0)"),className:"y-axis",children:Object(a.jsx)(Se.Axis,Object(b.a)(Object(b.a)({},Object(Se.axisPropsFromTickScale)(J,z)),{},{style:{orient:Se.LEFT}}))}),k&&D&&L&&F?Object(a.jsx)("rect",{x:K(Object(xe.a)([k,D])),y:J(Object(xe.a)([L,F]))-Math.abs(J(F)-J(L)),width:Math.abs(K(D)-K(k)),height:Math.abs(J(F)-J(L)),className:"brush"}):null,Object(a.jsx)("g",{className:"chart",children:t.map((function(e,t){var n=function(){C||w||ce||Q&&Q.id===e.id||(Z(e),re([10+K(B(e)),J(H(e))]))},i=B(e),r=H(e),s=[k,D].sort((function(e,t){return e>t?1:-1})),c=[L,F].sort((function(e,t){return e>t?1:-1})),l=i>=s[0]&&i<=s[1]&&r>=c[0]&&r<=c[1];return Object(a.jsx)("circle",{cx:K(i),cy:J(r),className:te()("dot",{"is-active":l,"is-highlighted":T&&T===e.id}),onMouseEnter:n,onMouseMove:n,onMouseLeave:function(){C||w||ce||!Q||Q.id!==e.id||Z(void 0)},r:o/200},e.id)}))})]}),Object(a.jsx)("div",{className:te()("chart-tooltip",{"is-active":Q}),style:{left:ie[0],top:ie[1]},children:Q&&!C&&!w&&Object(a.jsxs)("ul",{children:[S.a.map((function(e){var t=e.id,s=e.name;return Object(a.jsxs)("li",{className:te()("tooltip-info",{active:t===n||t===i}),children:[s," :"," ","Privacy"===t?-Q.variables.filter((function(e){return r.includes(e)})).length:Q[t]]},t)})),Object(a.jsxs)("li",{children:["Variables : ",Q.variables.join(", ")]})]})})]})},Ce=n(55),Ee=(n(195),n(35)),we=n.n(Ee),Te=Ce.a.createSliderWithTooltip(Ce.a.Range);function Re(e){var t=e.onChange,n=e.validate,i=e.value,r=Object(ie.a)(e,["onChange","validate","value"]),c=Object(s.useState)(i),o=Object($.a)(c,2),l=o[0],u=o[1];return Object(s.useEffect)((function(){u(i)}),[i]),Object(a.jsx)("input",Object(b.a)(Object(b.a)({},r),{},{onChange:function(e){u(e.target.value)},onBlur:function(){n(l)?t(l):u(i)},value:l}))}var Ie=function(e){var t=e.metric,n=e.values,i=e.min,r=e.max,c=e.onRangeChange,o=e.filteredVariables,l=e.onFilteredVariablesChange,u=e.axis,d=void 0===u?"abscisses":u,j=Object(s.useState)(!1),m=Object($.a)(j,2),O=m[0],v=m[1],_=o.reduce((function(e,t){return Object(b.a)(Object(b.a)({},e),{},Object(f.a)({},t,!0))}),{}),x=1e4;return Object(a.jsxs)("div",{className:"variable-inputs",children:[Object(a.jsxs)("h5",{children:["Choix pour"," ",Object(a.jsxs)("code",{children:[t.name," ",Object(a.jsx)(Oe,{"data-for":"variable-tip",tip:t.short_description})," "]})," ","(sur les ",d,")"]}),Object(a.jsxs)("p",{children:["Mod\xe8les entre"," ",Object(a.jsx)(Re,{validate:function(e){return!isNaN(e)&&e<n[1]},onChange:function(e){c([e,n[1]])},value:""+n[0],type:"text"})," ","et"," ",Object(a.jsx)(Re,{validate:function(e){return!isNaN(e)&&e>n[0]},value:""+n[1],onChange:function(e){c([n[0],e])},type:"text"})," ","(min: ",i,", max: ",r,")"]}),Object(a.jsx)(Te,{allowCross:!1,tipFormatter:function(e){return e/x},onChange:function(e){var t=Object($.a)(e,2),n=t[0],i=t[1];c([n/x,i/x])},step:"integer"===t.type?x:void 0,min:i*x,max:r*x,defaultValue:[i*x,r*x],value:[n[0]*x,n[1]*x]}),"Privacy"===t.id?Object(a.jsxs)("div",{className:"privacy-list-container",children:[Object(a.jsx)("button",{className:te()({"is-active":O}),onClick:function(){return v(!O)},children:"Choisir les variables relevant de la privacy"}),Object(a.jsx)("ul",{className:te()("privacy-list",{"is-visible":O}),children:we.a.map((function(e){var t=e.id,n=e.name;return Object(a.jsxs)("li",{onClick:function(){var e;e=_[t]?o.filter((function(e){return t!==e})):[].concat(Object(h.a)(o),[t]),l(e)},children:[Object(a.jsx)("input",{checked:void 0!==_[t],value:t,readOnly:!0,type:"radio"}),Object(a.jsx)("span",{className:"checkmark"}),Object(a.jsx)("label",{children:n})]},t)}))})]}):null,Object(a.jsx)(p.a,{id:"variable-tip"})]})};var Ve=function(e,t){return t.reduce((function(e,t){return e.filter((function(e){var n=t.variable,i=t.type,r=t.range,a=e[n];switch(t.variables&&(a=-e.variables.filter((function(e){return t.variables.includes(e)})).length),i){case"range":default:var s=r.sort((function(e,t){return e>t?1:-1})),c=Object($.a)(s,2),o=c[0],l=c[1];return a>=o&&a<=l}}))}),e)};var ke=function(e){var t=e.metrics,n=e.models,i=e.onSubmit,r=e.filters,c=void 0===r?[]:r,o=e.values,l=Object($.a)(t,2),u=l[0],d=l[1],b=we.a.filter((function(e){return e.relates_to_privacy})).map((function(e){return e.id})),j=Object(s.useState)(0),m=Object($.a)(j,2),f=m[0],O=m[1],v=Object(s.useState)(0),_=Object($.a)(v,2),x=_[0],g=_[1],y=Object(s.useState)(b),S=Object($.a)(y,2),N=S[0],C=S[1],E=Object(s.useState)(0),w=Object($.a)(E,2),T=w[0],R=w[1],I=Object(s.useState)(0),V=Object($.a)(I,2),k=V[0],D=V[1],P=Object(s.useState)(null),A=Object($.a)(P,2),q=A[0],M=A[1],L=Object(s.useState)(null),F=Object($.a)(L,2),U=F[0],z=F[1],B=Object(s.useState)(null),H=Object($.a)(B,2),G=H[0],X=H[1],K=Object(s.useState)(null),J=Object($.a)(K,2),Y=J[0],W=J[1],Q=Object(s.useState)(n),Z=Object($.a)(Q,2),ee=Z[0],te=Z[1];return Object(s.useEffect)((function(){if(o&&o.length>1){M(o[0].range[0]),W(o[0].range[1]),X(o[1].range[0]),z(o[1].range[1]);var e=o.find((function(e){return e.variables}));e&&C(e.variables)}else M(f),W(k),X(T),z(x),C(b)}),[o]),function(e,t,n){Object(s.useEffect)((function(){var t=setTimeout(e,n);return function(){clearTimeout(t)}}),[n,e].concat(Object(h.a)(t)))}((function(){var e=[].concat(Object(h.a)(c),[{variable:u.id,type:"range",range:[q,Y],variables:"Privacy"===u.id?N:void 0},{variable:d.id,type:"range",range:[G,U],variables:"Privacy"===d.id?N:void 0}]);te(Ve(n,e))}),[q,Y,G,U],1e3),Object(s.useEffect)((function(){var e,i,r,a;u=t[0],d=t[1],"Privacy"===u.id?(e=-Object(_e.a)(n,(function(e){return e.variables.filter((function(e){return-N.includes(e)})).length})),i=-Object(xe.a)(n,(function(e){return e.variables.filter((function(e){return-N.includes(e)})).length}))):(e=Object(xe.a)(n,(function(e){return+e[u.id]})),i=Object(_e.a)(n,(function(e){return+e[u.id]}))),"Privacy"===d.id?(r=-Object(_e.a)(n,(function(e){return e.variables.filter((function(e){return-N.includes(e)})).length})),a=-Object(xe.a)(n,(function(e){return e.variables.filter((function(e){return-N.includes(e)})).length}))):(r=Object(xe.a)(n,(function(e){return+e[d.id]})),a=Object(_e.a)(n,(function(e){return+e[d.id]}))),O(e.toFixed(4)),D(i.toFixed(4)),R(r.toFixed(4)),g(a.toFixed(4)),o||(M(e.toFixed(4)),W(i.toFixed(4)),X(r.toFixed(4)),z(a.toFixed(4))),C(we.a.filter((function(e){return e.relates_to_privacy})).map((function(e){return e.id})))}),[n,t]),Object(s.useEffect)((function(){if("Privacy"===u.id){var e=-Object(_e.a)(n,(function(e){return e.variables.filter((function(e){return-N.includes(e)})).length})),t=-Object(xe.a)(n,(function(e){return e.variables.filter((function(e){return-N.includes(e)})).length}));O(e),D(t)}if("Privacy"===d.id){var i=-Object(_e.a)(n,(function(e){return e.variables.filter((function(e){return N.includes(e)})).length})),r=-Object(xe.a)(n,(function(e){return e.variables.filter((function(e){return N.includes(e)})).length}));R(i),g(r)}}),[N]),Object(a.jsxs)("form",{className:"filter-form",onSubmit:function(e){e.preventDefault()},children:[Object(a.jsxs)("div",{className:"columns-container",children:[Object(a.jsxs)("div",{className:"column is-main",children:[Object(a.jsx)(Ne,{data:n,xVariable:u.id,yVariable:d.id,filteredVariables:N,brush:{x:[q,Y],y:[G,U]},onBrushChange:function(e){var t=Object($.a)(e.x,2),n=t[0],i=t[1],r=Object($.a)(e.y,2),a=r[0],s=r[1];M(n),W(i),X(a),z(s)},width:900,height:600}),Object(a.jsxs)("h4",{children:["Vous filtrer dans"," ",Object(a.jsxs)("code",{children:[u.name," ",Object(a.jsx)(Oe,{tip:u.short_description})]})," ","sur les x et"," ",Object(a.jsxs)("code",{children:[d.name," ",Object(a.jsx)(Oe,{tip:d.short_description})]})," ","sur les y"]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{className:"count-indicator",children:ee.length})," ","mod\xe8les s\xe9lectionn\xe9s"]})]}),Object(a.jsxs)("div",{className:"column is-aside",children:[Object(a.jsx)(Ie,{metric:u,values:[q,Y],min:f,max:k,axis:"abscisses",filteredVariables:N,onRangeChange:function(e){var t=Object($.a)(e,2),n=t[0],i=t[1];M(n),W(i)},onFilteredVariablesChange:function(e){C(e)}}),Object(a.jsx)(Ie,{metric:d,values:[G,U],min:T,max:x,filteredVariables:N,axis:"ordonn\xe9es",onRangeChange:function(e){var t=Object($.a)(e,2),n=t[0],i=t[1];X(n),z(i)},onFilteredVariablesChange:function(e){C(e)}})]})]}),Object(a.jsx)("button",{onClick:function(e){e.preventDefault(),i([{variable:u.id,type:"range",range:[q,Y],variables:"Privacy"===u.id?N:void 0},{variable:d.id,type:"range",range:[G,U],variables:"Privacy"===d.id?N:void 0}])},type:"submit",className:"continue-button",children:"Valider"}),Object(a.jsx)(p.a,{id:"tip"})]})};var De=Object(u.b)((function(e,t){return Object(b.a)(Object(b.a)(Object(b.a)(Object(b.a)({},t),e),Z(e.ui)),L(e.data))}),(function(e){return Object(j.b)(Object(b.a)(Object(b.a)({},r),i),e)}))((function(e){var t=e.data,n=t.metricsOrder,i=t.models,r=t.filters,s=e.setCurrentStep,c=e.setNumberOfSteps,o=e.setMainChoiceIsValidated,l=e.addFilters;return Object(a.jsxs)("section",{className:"main-choice-screen",children:[Object(a.jsx)("h1",{className:"step-title",children:ue("main_choice_screen_title")}),Object(a.jsxs)("div",{className:"columns-container",children:[Object(a.jsxs)("aside",{className:"column is-aside",children:[Object(a.jsx)("p",{className:"instructions",children:ue("main_choice_screen_intro")}),Object(a.jsx)(ve,{metrics:n.map((function(e,t){return Object(b.a)(Object(b.a)({},e),{},{active:t<=1})}))})]}),Object(a.jsx)("main",{className:"column is-main",children:Object(a.jsx)(ke,{metrics:n.slice(0,2),models:i,onSubmit:function(e){var t=Object($.a)(e,2),n=t[0],i=t[1];l({0:n,1:i}),o(!0),c(7),s(6)},values:r[0]&&r[1]?[r[0],r[1]]:void 0})})]})]})}));var Pe=Object(u.b)((function(e,t){return Object(b.a)(Object(b.a)(Object(b.a)(Object(b.a)({},t),e),Z(e.ui)),L(e.data))}),(function(e){return Object(j.b)(Object(b.a)(Object(b.a)({},r),i),e)}))((function(e){var t=e.data,n=t.metricsOrder,i=t.models,r=t.filters,s=e.setCurrentStep,c=e.setNumberOfSteps,o=e.setMainChoiceIsValidated,l=e.addFilters,u=e.metricsExtent;u=void 0===u?[2,3]:u;var d=Object($.a)(u,2),j=d[0],p=d[1],m=e.previousExtents,O=void 0===m?[]:m,h=e.nextStep,v=void 0===h?7:h;return Object(a.jsxs)("section",{className:"second-choice-screen",children:[Object(a.jsx)("h1",{className:"step-title",children:ue("second_choice_screen_title")}),Object(a.jsxs)("div",{className:"columns-container",children:[Object(a.jsxs)("aside",{className:"column is-aside",children:[Object(a.jsx)("p",{className:"instructions",children:ue("second_choice_screen_intro")}),Object(a.jsx)(ve,{metrics:n.map((function(e,t){return Object(b.a)(Object(b.a)({},e),{},{active:t>=j&&t<=p})}))}),Object(a.jsx)("h4",{children:"Vos arbitrages pr\xe9c\xe9dents :"}),O.map((function(e,t){var n=Object($.a)(e,2),s=n[0],c=n[1],o=[r[s+""],r[c+""]].find((function(e){return e.variables}));return o=o?o.variables:void 0,Object(a.jsxs)("div",{className:"mini-graph-container",children:[Object(a.jsxs)("h5",{children:[Object(a.jsx)("code",{children:r[s+""].variable})," vs"," ",Object(a.jsx)("code",{children:r[c+""].variable})]}),Object(a.jsx)(Ne,{data:0===s?i:Ve(i,Object.entries(r).filter((function(e){return+Object($.a)(e,1)[0]<s})).map((function(e){var t=Object($.a)(e,2);t[0];return t[1]}))),xVariable:r[s+""].variable,yVariable:r[c+""].variable,filteredVariables:o,brush:{x:r[s+""].range,y:r[c+""].range},minified:!0,width:200,height:200,onBrushChange:function(e){var t,n=Object($.a)(e.x,2),i=n[0],a=n[1],o=Object($.a)(e.y,2),u=o[0],d=o[1];l((t={},Object(f.a)(t,s+"",Object(b.a)(Object(b.a)({},r[s+""]),{},{range:[i,a]})),Object(f.a)(t,c+"",Object(b.a)(Object(b.a)({},r[c+""]),{},{range:[u,d]})),t))}})]},t)}))]}),Object(a.jsx)("main",{className:"column is-main",children:Object(a.jsx)(ke,{metrics:n.slice(j,p+1),models:Ve(i,Object.entries(r).filter((function(e){return+Object($.a)(e,1)[0]<j})).map((function(e){var t=Object($.a)(e,2);t[0];return t[1]}))),onSubmit:function(e){var t,n=Object($.a)(e,2),i=n[0],r=n[1];l((t={},Object(f.a)(t,j+"",i),Object(f.a)(t,p+"",r),t)),o(!0),c(v+1),s(v)},values:r[j+""]&&r[p+""]?[r[j+""],r[p+""]]:void 0})})]})]})}));var Ae=Object(u.b)((function(e,t){return Object(b.a)(Object(b.a)(Object(b.a)(Object(b.a)({},t),e),Z(e.ui)),L(e.data))}),(function(e){return Object(j.b)(Object(b.a)(Object(b.a)({},r),i),e)}))((function(e){var t=e.ui,n=(t.numberOfSteps,t.mainChoiceIsValidated,e.data.dataikuResults),i=e.setCurrentStep,r=e.setNumberOfSteps,c=e.setDataikuResults,o=e.nextStep,l=void 0===o?10:o,u=Object(s.useState)({}),d=Object($.a)(u,2),j=d[0],p=d[1];Object(s.useEffect)((function(){n&&p(n)}),[n]);var m=function(e){e.preventDefault(),c(j),r(l+1),i(l)};return Object(a.jsx)("section",{className:"single-choice-screen contents-wrapper",children:Object(a.jsxs)("div",{className:"contents-container",children:[Object(a.jsx)("h1",{className:"step-title",children:ue("dataiku_input_screen_title")}),Object(a.jsx)("p",{className:"instructions",children:ue("dataiku_input_screen_intro")}),Object(a.jsxs)("form",{className:"form",onSubmit:m,children:[Object(a.jsx)("ul",{children:S.a.map((function(e){var t=e.id,n=e.name;return Object(a.jsxs)("li",{children:[Object(a.jsx)("label",{children:n}),Object(a.jsx)("input",{placeholder:"entrez vous r\xe9sultats pour la m\xe9trique ".concat(n),value:j[t]||"",onChange:function(e){console.log(t,e.target.value),p(Object(b.a)(Object(b.a)({},j),{},Object(f.a)({},t,e.target.value)))}})]},t)}))}),Object(a.jsx)("button",{type:"submit",onClick:m,children:"Valider et passer aux conclusions"})]})]})})}));n(196);var qe=Object(u.b)((function(e,t){return Object(b.a)(Object(b.a)(Object(b.a)(Object(b.a)({},t),e),Z(e.ui)),L(e.data))}),(function(e){return Object(j.b)(Object(b.a)(Object(b.a)({},r),i),e)}))((function(e){var t=e.ui,n=(t.numberOfSteps,t.mainChoiceIsValidated,e.data),i=n.models,r=n.filters,c=n.choosenModel,o=e.setChoosenModel,l=e.setCurrentStep,u=e.setNumberOfSteps,d=e.addFilters,j=(e.nextStep,Object(s.useState)(void 0)),p=Object($.a)(j,2),m=p[0],O=p[1],h=Ve(i,Object.entries(r).map((function(e){var t=Object($.a)(e,2);t[0];return t[1]}))),v=Object.entries(r).map((function(e){var t=Object($.a)(e,2);t[0];return t[1]})).find((function(e){return e.variables}));return v=v&&v.variables,Object(a.jsxs)("section",{className:"single-choice-screen",children:[Object(a.jsx)("h1",{className:"step-title",children:ue("model_choice_screen_title")}),Object(a.jsxs)("div",{className:"columns-container",children:[Object(a.jsxs)("aside",{className:"column is-aside",children:[Object(a.jsx)("p",{className:"instructions",children:ue("model_choice_screen_intro")}),Object(a.jsx)("div",{className:"",children:[[0,1],[2,3],[3,4]].map((function(e,t){var n=Object($.a)(e,2),s=n[0],o=n[1],l=[r[s+""],r[o+""]].find((function(e){return e.variables}));return l=l?l.variables:void 0,Object(a.jsxs)("div",{className:"mini-graph-container",children:[Object(a.jsxs)("h5",{className:"mini-graph-title",children:[Object(a.jsx)("span",{children:Object(a.jsx)("span",{className:"number-indicator",children:t+1})}),Object(a.jsxs)("span",{children:[Object(a.jsx)("code",{children:r[s+""].variable})," vs"," ",Object(a.jsx)("code",{children:r[o+""].variable})]})]}),Object(a.jsx)(Ne,{data:0===s?i:Ve(i,Object.entries(r).filter((function(e){return+Object($.a)(e,1)[0]<s})).map((function(e){var t=Object($.a)(e,2);t[0];return t[1]}))),xVariable:r[s+""].variable,yVariable:r[o+""].variable,filteredVariables:l,brush:{x:r[s+""].range,y:r[o+""].range},readOnly:!0,minified:!0,highlightedNodeId:c?m||c.id:m,width:200,height:200,onBrushChange:function(e){var t,n=Object($.a)(e.x,2),i=n[0],a=n[1],c=Object($.a)(e.y,2),l=c[0],u=c[1];d((t={},Object(f.a)(t,s+"",Object(b.a)(Object(b.a)({},r[s+""]),{},{range:[i,a]})),Object(f.a)(t,o+"",Object(b.a)(Object(b.a)({},r[o+""]),{},{range:[l,u]})),t))}})]},t)}))})]}),Object(a.jsx)("main",{className:"column is-main",children:Object(a.jsxs)("table",{className:"model-choice-table",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[S.a.map((function(e){var t=e.name,n=e.id;return Object(a.jsx)("th",{children:t},n)})),Object(a.jsx)("th",{children:"Variables"})]})}),Object(a.jsx)("tbody",{onMouseLeave:function(){O(void 0)},children:h.map((function(e){return Object(a.jsxs)("tr",{onMouseOver:function(){O(e.id)},onClick:function(){o(e),u(10),l(9)},className:te()("model-row",{"is-active":c?e.id===m||e.id===c.id:e.id===m}),children:[S.a.map((function(t){t.name;var n=t.id;return Object(a.jsx)("th",{children:"Privacy"===n&&v?-e.variables.filter((function(e){return v.includes(e)})).length:e[n]},n)})),Object(a.jsx)("th",{children:e.variables.join(", ")})]},e.id)}))})]})})]})]})})),Me={history:[]};var Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Me;case C:case E:case T:case w:case F:case H:return Object(b.a)(Object(b.a)({},e),{},{history:[].concat(Object(h.a)(e.history),[{action:t,date:new Date}])});default:return e}},Fe=Object(m.a)({history:function(e){return e.history}}),Ue=n(84),ze=n.n(Ue);function Be(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"txt",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"download";switch(n){case"zip":t="octet/stream";break;case"html":t="text/html;charset=utf-8";break;default:t="text/plain;charset=utf-8"}var r=new Blob([e],{type:t});console.log(e),ze.a.saveAs(r,"".concat(i,".").concat(n))}n(197);var He={START_APP:{description:function(e){return ue("started_the_app")}},SET_METRICS_ORDER:{description:function(e){return ue("changed_metrics_order_to")+" "+e.map((function(e,t){return t+1+"/ "+e.name})).join(", ")}},ADD_FILTERS:{description:function(e){return ue("add_filters")+" "+Object.entries(e).map((function(e){var t=Object($.a)(e,2),n=(t[0],t[1]);return"".concat(n.variable," (entre ").concat(n.range[0]," et ").concat(n.range[1],")")})).join(" "+ue("and")+" ")}},SET_DATAIKU_RESULTS:{description:function(){return ue("set_dataiku_results")}},SET_CHOOSEN_MODEL:{description:function(e){return ue("set_choosen_model")+" : "+e.variables.join("/")}},SET_CURRENT_STEP:{description:function(e){return ue("navigated_to")+" "+function(e){switch(e){case 0:return ue("app_header_view");case 1:return ue("dataiku_practice_view");case 2:return ue("eu_legislation_view");case 3:return ue("metrics_explanation_view");case 4:return ue("metrics_sorting_view");case 5:return ue("main_filter_view");case 6:return ue("secondary_filter_view");case 7:return ue("tertiary_filter_view");case 8:return ue("model_choice_view");case 9:return ue("dataiku_feedback_view");case 10:return ue("conclusion_view");default:return""}}(e)}}};var Ge=function(e){var t=e.history,n=void 0===t?[]:t,i=function(e,t,n){return He[e.type]?He[e.type].description(e.payload):"nope"},r="heure;action\n".concat(n.map((function(e,t){var n=e.action,r=e.date;return"".concat(new Date(r).toLocaleTimeString(),";").concat(i(n))})).join("\n"));return Object(a.jsxs)("div",{className:"history",children:[Object(a.jsx)("ul",{className:"history-details",children:n.map((function(e,t){var n=e.action,r=e.date;return Object(a.jsxs)("li",{className:"history-item",children:[Object(a.jsx)("div",{className:"date-container",children:Object(a.jsx)("code",{children:new Date(r).toLocaleTimeString()})}),Object(a.jsx)("div",{children:i(n)})]},t)}))}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{onClick:function(){return Be(r,"csv","history")},children:ue("download_history")})})]})};var Xe=Object(u.b)((function(e,t){return Object(b.a)(Object(b.a)(Object(b.a)(Object(b.a)(Object(b.a)({},t),e),Z(e.ui)),L(e.data)),Fe(e.history))}),(function(e){return Object(j.b)(Object(b.a)(Object(b.a)({},r),i),e)}))((function(e){var t=e.data,n=t.dataikuResults,i=t.choosenModel,r=t.filters,s=e.history,c=e.resetApp,o=e.setCurrentStep,l=Object.entries(r).map((function(e){var t=Object($.a)(e,2);t[0];return t[1]})).find((function(e){return e.variables}));l=l&&l.variables;var u="source;".concat(S.a.map((function(e){return e.name})).join(";"),";variables consid\xe9r\xe9es comme priv\xe9es\ndataiku;").concat(S.a.map((function(e){var t=e.id;return n[t]})).join(";"),";\ninterface;").concat(S.a.map((function(e){var t=e.id;e.name;return"Privacy"===t?-i.variables.filter((function(e){return l.includes(e)})).length:i[t]})).join(";"),";").concat(l.join(", "));return Object(a.jsxs)("section",{className:"single-choice-screen",children:[Object(a.jsx)("h1",{className:"step-title",children:ue("conclusion_screen_title")}),Object(a.jsxs)("div",{className:"step-section",children:[Object(a.jsx)("h2",{children:ue("conclusion_results_title")}),Object(a.jsxs)("div",{className:"results-container",children:[Object(a.jsxs)("div",{className:"result-container",children:[Object(a.jsx)("h3",{children:ue("first_model_dataiku")}),Object(a.jsx)("ul",{children:S.a.map((function(e){var t=e.id,i=e.name,r=e.short_description;return Object(a.jsxs)("li",{children:[Object(a.jsx)("span",{className:"label-container",children:Object(a.jsxs)("code",{children:[i," ",Object(a.jsx)(Oe,{tip:r})," "]})})," ",Object(a.jsx)("span",{children:n[t]})]},t)}))})]}),Object(a.jsxs)("div",{className:"result-container",children:[Object(a.jsx)("h3",{children:ue("second_model_choosen")}),Object(a.jsx)("ul",{children:S.a.map((function(e){var t=e.id,n=e.name,r=e.short_description,s="Privacy"===t?-i.variables.filter((function(e){return l.includes(e)})).length:i[t];return Object(a.jsxs)("li",{children:[Object(a.jsx)("span",{className:"label-container",children:Object(a.jsxs)("code",{children:[n," ",Object(a.jsx)(Oe,{tip:r})," "]})})," ",Object(a.jsx)("span",{children:s})]},t)}))})]})]}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{onClick:function(){return Be(u,"csv","modeles_expe")},children:ue("download")})})]}),Object(a.jsxs)("div",{className:"step-section",children:[Object(a.jsx)("h2",{children:ue("conclusion_history_title")}),Object(a.jsx)(Ge,{history:s})]}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{onClick:function(){c(),o(4)},children:ue("restart")})}),Object(a.jsx)(p.a,{})]})}));var Ke=Object(u.b)((function(e,t){return Object(b.a)(Object(b.a)(Object(b.a)(Object(b.a)({},t),e),Z(e.ui)),L(e.data))}),(function(e){return Object(j.b)(Object(b.a)(Object(b.a)({},r),i),e)}))((function(e){var t=e.ui,n=t.currentStep,i=t.numberOfSteps,r=e.setCurrentStep,c=e.startApp,o=e.getData;Object(s.useEffect)((function(){c(),o()}),[c,o]);for(var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case 0:return Object(a.jsx)(be,{});case 1:return Object(a.jsx)(je,{});case 2:return Object(a.jsx)(pe,{});case 3:return Object(a.jsx)(me,{});case 4:return Object(a.jsx)(he,{});case 5:return Object(a.jsx)(De,{});case 6:return Object(a.jsx)(Pe,{metricsExtent:[2,3],previousExtents:[[0,1]]});case 7:return Object(a.jsx)(Pe,{nextStep:8,previousExtents:[[0,1],[2,3]],metricsExtent:[3,4]});case 8:return Object(a.jsx)(qe,{});case 9:return Object(a.jsx)(Ae,{});case 10:return Object(a.jsx)(Xe,{});default:return Object(a.jsxs)(a.Fragment,{children:["Step ",e]})}},u=new Array(i),d=0;d<u.length;d++)u[d]=d;return Object(a.jsxs)("div",{className:"container",children:[u.map((function(e,t){return Object(a.jsx)(ae,{active:t===n,children:l(t)},t)})),Object(a.jsx)(ne,Object(b.a)({},{currentStep:n,setCurrentStep:r,numberOfSteps:i})),Object(a.jsx)(p.a,{})]})})),Je=n(36),Ye=Object(Je.rememberReducer)(Object(j.c)({data:M,history:Le,ui:Q})),We=function(){return function(e){var t=e.dispatch,n=e.getState;return function(e){return function(i){if("function"===typeof i)return i(t,n);var r=i.promise,a=i.type,s=Object(ie.a)(i,["promise","type"]);if(!r)return e(i);if("function"!==typeof r||!Promise.resolve(r))return console.warn('passed an action with a "promise" prop which is not a promise function, action:',i),e(i);var c="".concat(a,"_PENDING"),o="".concat(a,"_SUCCESS"),l="".concat(a,"_FAIL"),u="".concat(a,"_RESET");return e(Object(b.a)(Object(b.a)({},s),{},{type:c})),r(t,n).then((function(t){return setTimeout((function(){return e(Object(b.a)(Object(b.a)({},s),{},{type:u}))}),1e3),e(Object(b.a)(Object(b.a)({},s),{},{result:t,type:o}))})).catch((function(t){return e(Object(b.a)(Object(b.a)({},s),{},{error:t,type:l}))}))}}}};var Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(j.a)(We()),n=window.__REDUX_DEVTOOLS_EXTENSION__?Object(j.d)(t,window.__REDUX_DEVTOOLS_EXTENSION__(),Object(Je.rememberEnhancer)(window.localStorage,["ui","data","history"]))(j.e):Object(j.d)(t,Object(Je.rememberEnhancer)(window.localStorage,["ui","data","history"]))(j.e),i=n(Ye,e);return i}({});var Ze=function(){return Object(a.jsxs)(u.a,{store:Qe,children:[Object(a.jsx)(d.a,{children:Object(a.jsx)("title",{children:ue("site_title")})}),Object(a.jsx)(Ke,{})]})},$e=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,212)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),i(e),r(e),a(e),s(e)}))};l.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(Ze,{})}),document.getElementById("root")),$e()},35:function(e,t){e.exports=[{id:"age",name:"age",description:null,relates_to_privacy:!0},{id:"credit_history",name:"historique de cr\xe9dit",description:null,relates_to_privacy:!1},{id:"foreign_worker",name:"travailleur \xe9tranger",description:null,relates_to_privacy:!0},{id:"housing",name:"logement",description:null,relates_to_privacy:!1},{id:"installment_as_income_perc",name:"installment_as_income_perc",description:null,relates_to_privacy:!1},{id:"other_debtors",name:"other_debtors",description:null,relates_to_privacy:!1},{id:"personal._status",name:"statut personnel",description:null,relates_to_privacy:!0},{id:"present_emp_since",name:"emploi actuel depuis",description:null,relates_to_privacy:!1},{id:"property",name:"propri\xe9taire",description:null,relates_to_privacy:!1},{id:"telephone",name:"t\xe9l\xe9phone",description:null,relates_to_privacy:!0},{id:"account_check_status",name:"statut du compte",description:null,relates_to_privacy:!1},{id:"credits_this_bank",name:"cr\xe9dits pr\xe9c\xe9dents dans cette banque",description:null,relates_to_privacy:!1},{id:"other_installment_plans",name:"autres plans d'installation",description:null,relates_to_privacy:!1},{id:"sex",name:"sexe",description:null,relates_to_privacy:!0},{id:"credit_amount",name:"montant du cr\xe9dit",description:null,relates_to_privacy:!1},{id:"savings",name:"\xe9pargnes",description:null,relates_to_privacy:!1},{id:"people_under_maintenance",name:"personnes \xe0 charge",description:null,relates_to_privacy:!1},{id:"present_res_since",name:"r\xe9sidence actuelle depuis",description:null,relates_to_privacy:!1},{id:"job",name:"emploi",description:null,relates_to_privacy:!1},{id:"duration_in_month",name:"dur\xe9e en mois",description:null,relates_to_privacy:!1},{id:"purpose",name:"objectif",description:null,relates_to_privacy:!1}]},54:function(e,t){e.exports={site_title:"Pratiques de l'IA",step:"\xe9tape",next_step:"continuer",step_1_title:"\xc9tape 1 : exp\xe9rimentation avec dataiku",step_2_title:"\xc9tape 2 : la l\xe9gislation europ\xe9enne",step_3_title:"\xc9tape 3 : mesurer l'\xe9thique ?",sort_screen_title:"Classer les indicateurs",sort_screen_prompt:"Veuillez classer les indicateurs dans l'ordre qui vous semble \xeatre celui du plus important au moins important.",main_choice_screen_title:"S\xe9lectionner des mod\xe8les dans les deux dimensions les plus importantes",main_choice_screen_intro:"Veuillez s\xe9lectionnez des mod\xe8les \xe0 partir des deux indicateurs que vous avez d\xe9finis comme les plus importants.",second_choice_screen_title:"S\xe9lectionner des mod\xe8les dans les autres dimensions",second_choice_screen_intro:"Veuillez s\xe9lectionnez des mod\xe8les \xe0 partir des filtrages pr\xe9c\xe9dents.",model_choice_screen_title:"Choisir un mod\xe8le",model_choice_screen_intro:"Veuillez s\xe9lectionnez le mod\xe8le qui correspond \xe0 vos pr\xe9f\xe9rences.",dataiku_input_screen_title:"Avant de voir vos r\xe9sultats, entrez les m\xe9triques de votre premi\xe8re exp\xe9rience",dataiku_input_screen_intro:"Veuillez renseigner les informations pour les m\xe9triques fournies.",conclusion_screen_title:"Conclusion",conclusion_results_title:"Vos r\xe9sultats",conclusion_history_title:"Votre historique",restart:"Recommencer l'exp\xe9rience",navigated_to:"A navigu\xe9 sur",add_filters:"A ajout\xe9 des filtres pour les indicateurs",app_header_view:"l'accueil",dataiku_practice_view:"la vue d\xe9di\xe9e \xe0 la phase d'exp\xe9rimentation avec Heroku",eu_legislation_view:"la vue d\xe9di\xe9e \xe0 la legislation europ\xe9enne",metrics_explanation_view:"la vue d\xe9di\xe9e \xe0 l'explication des indicateurs",metrics_sorting_view:"la vue d\xe9di\xe9e \xe0 l'ordonnancement des indicateurs",main_filter_view:"la vue d\xe9di\xe9e au filtre principal",secondary_filter_view:"la vue d\xe9di\xe9e au filtre secondaire",tertiary_filter_view:"la vue d\xe9di\xe9e au filtre tertiaire",model_choice_view:"la vue d\xe9di\xe9e au choix du mod\xe8le",dataiku_feedback_view:"la vue d\xe9di\xe9e \xe0 entrer les informations heroku",conclusion_view:"la vue de conclusion",set_choosen_model:"A choisi son mod\xe8le",set_dataiku_results:"A entr\xe9 les r\xe9sultats obtenus via dataiku",changed_metrics_order_to:"A chang\xe9 l'ordre des indicateurs pour",started_the_app:"A commenc\xe9 l'exp\xe9rimentation",and:"et",download:"t\xe9l\xe9charger",download_history:"t\xe9l\xe9charger l'historique",first_model_dataiku:"Premier mod\xe8le issu de l'exp\xe9rience avec Dataiku",second_model_choosen:"Second mod\xe8le issu de l'exp\xe9rience avec cette interface"}},91:function(e,t,n){},92:function(e,t,n){}},[[198,1,2]]]);
//# sourceMappingURL=main.0be0ca93.chunk.js.map